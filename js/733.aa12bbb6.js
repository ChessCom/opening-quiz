"use strict";(self["webpackChunkopening_quiz"]=self["webpackChunkopening_quiz"]||[]).push([[733],{2198:function(n,e,t){t.d(e,{k:function(){return s}});var i=t(6352),o=t(813);function a(n,e){return function(t){const i=Object.entries(t).map((([t,i])=>{var o;if(!i||!(null==(o=n.overridableMethods)?void 0:o.includes(t)))return;const a=n[t];return n[t]=i(n,e),function(){n[t]=a}}));return function(){i.map((n=>null==n?void 0:n()))}}}function u({base:n,initialOptions:e}){return function(t){const u=Object.keys(e).reduce(((n,t)=>(n[t]=e[t].default,n)),{}),s=n({api:t,options:u}),l=a(s,t);return Object.assign(s,{extendMode:l,getOptions:d,setOption:c});function d(){return u}function c(n,a){var s;(null==(s=e[n])?void 0:s.editable)?(u[n]=a,t.emit(i.i.OptionsEvents.UpdateMode,(0,o.e)(i.i.OptionsEvents.UpdateMode,{[n]:a}))):r(n)}}}function s(n,e){return function(t={}){const i=Object.keys(t).reduce(((n,i)=>{var o;return(null==(o=e[i])?void 0:o.editable)?Object.assign(n,{[i]:{default:t[i],editable:!0}}):r(i),n}),e);return u({base:n,initialOptions:i})}}function r(n){console.warn(`${n} is not an editable option in this mode.`)}},1826:function(n,e,t){function i({api:n,followAlternateLines:e=!1,mv:t}){const{game:i,mutateGame:o}=n.getContext(),a=o((function(){i.moveForward(e,t)}));return!!(null==a?void 0:a.plyDiff)&&(i.moveBackward(),!0)}t.d(e,{h:function(){return i}})},1733:function(n,e,t){t.r(e),t.d(e,{create:function(){return A}});var i=t(2198),o=t(3052),a=t(6352),u=t(1826),s=t(7593);function r({canAddMovesToMainLine:n,isAtEndOfLine:e,node:t}){var i;const o=(0,s.L)(t)?null==(i=null==t?void 0:t.ids)?void 0:i.line:null==t?void 0:t.id;return!n&&e&&0===o}var l,d=t(8282);function c(n){const{api:e}=n,t=e.move;return function(n){const i=(0,d.B)(n,e.getFEN(),e.getVariant());if(!i)return t(n);const o=e.isAtEndOfLine(),{canAddMovesToMainLine:a}=e.getMode().getOptions();return(0,u.h)({api:e,followAlternateLines:!0,mv:i})?t(n):r({canAddMovesToMainLine:a,isAtEndOfLine:o,node:e.getRelativeNode()})?s():t(n);function s(){const i=e.createContinuation();return i?t(n):null}}}(n=>{(n=>{n.Name="analysis"})(n.Plugin||(n.Plugin={}))})(l||(l={}));var v=t(4863);function f(){return{apiOverrides:{move:c},match:[{condition:(0,v.is)(a.i.OptionsEvents.UpdateMode),handler:n}],name:l.Plugin.Name};function n(n,{api:e}){void 0!==n.data.usePlayingAs&&e.usePlayingAs(n.data.usePlayingAs)}}var g=t(1495);function p({api:n,options:e}){return{isAllowedToMove:t,name:g.d.Types.Analysis,plugins:[f(),(0,o.A)()],usePlayingAs:e.usePlayingAs};function t(){var e;const{canAddMovesToMainLine:t}=n.getMode().getOptions(),i=n.getPlayingAs();return(void 0===i||i===n.getTurn())&&(t||Boolean(n.getSelectedNode())||(null==(e=n.getLine(0))?void 0:e.length))}}const A=(0,i.k)(p,{canAddMovesToMainLine:{default:!0,editable:!0},canInteractWithPieces:{default:!0,editable:!0},canMoveWhenGameIsOver:{default:!0,editable:!1},canModifyExistingMovesOnMainLine:{default:!0,editable:!0},usePlayingAs:{default:!1,editable:!0}})},3052:function(n,e,t){var i;t.d(e,{A:function(){return u}}),(n=>{(n=>{n.Name="analysis-overlay"})(n.Plugin||(n.Plugin={}))})(i||(i={}));var o=t(6352),a=t(5271);function u(){let n;return{destroy:e,match:[{condition:(0,a.E)([o.i.APIEvents.Load,o.i.OptionsEvents.Update,o.i.InstanceEvents.ModeChanged,o.i.InstanceEvents.RendererSet]),handler:t}],name:i.Plugin.Name};function e(){null==n||n.removeAnalysisOverlay()}function t(e,t){const{options:i,renderer:o}=t;!n&&o&&(n=o),i.overlayInAnalysisMode?null==n||n.addAnalysisOverlay():null==n||n.removeAnalysisOverlay()}}},7593:function(n,e,t){function i(n){return void 0!==(null==n?void 0:n.ids)}t.d(e,{L:function(){return i}})}}]);
//# sourceMappingURL=733.aa12bbb6.js.map