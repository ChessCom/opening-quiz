"use strict";(self["webpackChunkopening_quiz"]=self["webpackChunkopening_quiz"]||[]).push([[504],{3506:function(){},3578:function(e,t,n){n.d(t,{A:function(){return i}});n(4114);function o(e){try{return void function(e,t,n,o,r,i,a){t.getElementById("clarity-script")||(e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(o),i.async=1,i.src="https://www.clarity.ms/tag/"+r+"?ref=npm",i.id="clarity-script",a=t.getElementsByTagName(o)[0],a.parentNode.insertBefore(i,a))}(window,document,"clarity","script",e)}catch(t){return}}const r={init(e){o(e,"clarity-script")},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,o){window.clarity("identify",e,t,n,o)},consent(e=!0){window.clarity("consent",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}};var i=r},144:function(e,t,n){n.d(t,{BA:function(){return Ne},C4:function(){return S},EW:function(){return Fe},Gc:function(){return ye},IG:function(){return Pe},IJ:function(){return Oe},KR:function(){return xe},Kh:function(){return ve},Pr:function(){return De},R1:function(){return Ie},X2:function(){return l},bl:function(){return P},fE:function(){return Ce},g8:function(){return we},hZ:function(){return D},i9:function(){return Me},jr:function(){return u},ju:function(){return Ee},lJ:function(){return ke},o5:function(){return s},qA:function(){return F},u4:function(){return B},ux:function(){return Se},wB:function(){return He},yC:function(){return a}});n(4114),n(9678),n(7145),n(1658),n(9479),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var o=n(4232);let r,i;class a{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=r,!e&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function s(){return r}function u(e,t=!1){r&&r.cleanups.push(e)}const c=new WeakSet;class l{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,r&&r.active&&r.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,c.has(this)&&(c.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||m(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,k(this),v(this);const e=i,t=C;i=this,C=!0;try{return this.fn()}finally{0,y(this),i=e,C=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)w(e);this.deps=this.depsTail=void 0,k(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?c.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){b(this)&&this.run()}get dirty(){return b(this)}}let d,f,p=0;function m(e,t=!1){if(e.flags|=8,t)return e.next=f,void(f=e);e.next=d,d=e}function h(){p++}function g(){if(--p>0)return;if(f){let e=f;f=void 0;while(e){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;while(d){let n=d;d=void 0;while(n){const o=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=o}}if(e)throw e}function v(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function y(e){let t,n=e.depsTail,o=n;while(o){const e=o.prevDep;-1===o.version?(o===n&&(n=e),w(o),_(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=e}e.deps=t,e.depsTail=n}function b(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(A(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function A(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===T)return;e.globalVersion=T;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!b(e))return void(e.flags&=-3);const n=i,r=C;i=e,C=!0;try{v(e);const n=e.fn(e._value);(0===t.version||(0,o.$H)(n,e._value))&&(e._value=n,t.version++)}catch(a){throw t.version++,a}finally{i=n,C=r,y(e),e.flags&=-3}}function w(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)w(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function _(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let C=!0;const E=[];function S(){E.push(C),C=!1}function P(){const e=E.pop();C=void 0===e||e}function k(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=i;i=void 0;try{t()}finally{i=e}}}let T=0;class M{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class x{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!i||!C||i===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==i)t=this.activeLink=new M(i,this),i.deps?(t.prevDep=i.depsTail,i.depsTail.nextDep=t,i.depsTail=t):i.deps=i.depsTail=t,O(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=i.depsTail,t.nextDep=void 0,i.depsTail.nextDep=t,i.depsTail=t,i.deps===t&&(i.deps=e)}return t}trigger(e){this.version++,T++,this.notify(e)}notify(e){h();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{g()}}}function O(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)O(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const L=new WeakMap,R=Symbol(""),I=Symbol(""),N=Symbol("");function B(e,t,n){if(C&&i){let t=L.get(e);t||L.set(e,t=new Map);let o=t.get(n);o||(t.set(n,o=new x),o.map=t,o.key=n),o.track()}}function D(e,t,n,r,i,a){const s=L.get(e);if(!s)return void T++;const u=e=>{e&&e.trigger()};if(h(),"clear"===t)s.forEach(u);else{const i=(0,o.cy)(e),a=i&&(0,o.yI)(n);if(i&&"length"===n){const e=Number(r);s.forEach(((t,n)=>{("length"===n||n===N||!(0,o.Bm)(n)&&n>=e)&&u(t)}))}else switch((void 0!==n||s.has(void 0))&&u(s.get(n)),a&&u(s.get(N)),t){case"add":i?a&&u(s.get("length")):(u(s.get(R)),(0,o.CE)(e)&&u(s.get(I)));break;case"delete":i||(u(s.get(R)),(0,o.CE)(e)&&u(s.get(I)));break;case"set":(0,o.CE)(e)&&u(s.get(R));break}}g()}function U(e){const t=Se(e);return t===e?t:(B(t,"iterate",N),Ce(e)?t:t.map(ke))}function F(e){return B(e=Se(e),"iterate",N),e}const W={__proto__:null,[Symbol.iterator](){return V(this,Symbol.iterator,ke)},concat(...e){return U(this).concat(...e.map((e=>(0,o.cy)(e)?U(e):e)))},entries(){return V(this,"entries",(e=>(e[1]=ke(e[1]),e)))},every(e,t){return q(this,"every",e,t,void 0,arguments)},filter(e,t){return q(this,"filter",e,t,(e=>e.map(ke)),arguments)},find(e,t){return q(this,"find",e,t,ke,arguments)},findIndex(e,t){return q(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return q(this,"findLast",e,t,ke,arguments)},findLastIndex(e,t){return q(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return q(this,"forEach",e,t,void 0,arguments)},includes(...e){return G(this,"includes",e)},indexOf(...e){return G(this,"indexOf",e)},join(e){return U(this).join(e)},lastIndexOf(...e){return G(this,"lastIndexOf",e)},map(e,t){return q(this,"map",e,t,void 0,arguments)},pop(){return K(this,"pop")},push(...e){return K(this,"push",e)},reduce(e,...t){return H(this,"reduce",e,t)},reduceRight(e,...t){return H(this,"reduceRight",e,t)},shift(){return K(this,"shift")},some(e,t){return q(this,"some",e,t,void 0,arguments)},splice(...e){return K(this,"splice",e)},toReversed(){return U(this).toReversed()},toSorted(e){return U(this).toSorted(e)},toSpliced(...e){return U(this).toSpliced(...e)},unshift(...e){return K(this,"unshift",e)},values(){return V(this,"values",ke)}};function V(e,t,n){const o=F(e),r=o[t]();return o===e||Ce(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.value&&(e.value=n(e.value)),e}),r}const j=Array.prototype;function q(e,t,n,o,r,i){const a=F(e),s=a!==e&&!Ce(e),u=a[t];if(u!==j[t]){const t=u.apply(e,i);return s?ke(t):t}let c=n;a!==e&&(s?c=function(t,o){return n.call(this,ke(t),o,e)}:n.length>2&&(c=function(t,o){return n.call(this,t,o,e)}));const l=u.call(a,c,o);return s&&r?r(l):l}function H(e,t,n,o){const r=F(e);let i=n;return r!==e&&(Ce(e)?n.length>3&&(i=function(t,o,r){return n.call(this,t,o,r,e)}):i=function(t,o,r){return n.call(this,t,ke(o),r,e)}),r[t](i,...o)}function G(e,t,n){const o=Se(e);B(o,"iterate",N);const r=o[t](...n);return-1!==r&&!1!==r||!Ee(n[0])?r:(n[0]=Se(n[0]),o[t](...n))}function K(e,t,n=[]){S(),h();const o=Se(e)[t].apply(e,n);return g(),P(),o}const Z=(0,o.pD)("__proto__,__v_isRef,__isVue"),z=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(o.Bm));function $(e){(0,o.Bm)(e)||(e=String(e));const t=Se(this);return B(t,"has",e),t.hasOwnProperty(e)}class Q{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e["__v_skip"];const r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?me:pe:i?fe:de).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=(0,o.cy)(e);if(!r){let e;if(a&&(e=W[t]))return e;if("hasOwnProperty"===t)return $}const s=Reflect.get(e,t,Me(e)?e:n);return((0,o.Bm)(t)?z.has(t):Z(t))?s:(r||B(e,"get",t),i?s:Me(s)?a&&(0,o.yI)(t)?s:s.value:(0,o.Gv)(s)?r?be(s):ve(s):s)}}class Y extends Q{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){const t=_e(i);if(Ce(n)||_e(n)||(i=Se(i),n=Se(n)),!(0,o.cy)(e)&&Me(i)&&!Me(n))return!t&&(i.value=n,!0)}const a=(0,o.cy)(e)&&(0,o.yI)(t)?Number(t)<e.length:(0,o.$3)(e,t),s=Reflect.set(e,t,n,Me(e)?e:r);return e===Se(r)&&(a?(0,o.$H)(n,i)&&D(e,"set",t,n,i):D(e,"add",t,n)),s}deleteProperty(e,t){const n=(0,o.$3)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&D(e,"delete",t,void 0,r),i}has(e,t){const n=Reflect.has(e,t);return(0,o.Bm)(t)&&z.has(t)||B(e,"has",t),n}ownKeys(e){return B(e,"iterate",(0,o.cy)(e)?"length":R),Reflect.ownKeys(e)}}class X extends Q{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const J=new Y,ee=new X,te=new Y(!0),ne=e=>e,oe=e=>Reflect.getPrototypeOf(e);function re(e,t,n){return function(...r){const i=this["__v_raw"],a=Se(i),s=(0,o.CE)(a),u="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,l=i[e](...r),d=n?ne:t?Te:ke;return!t&&B(a,"iterate",c?I:R),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:u?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function ae(e,t){const n={get(n){const r=this["__v_raw"],i=Se(r),a=Se(n);e||((0,o.$H)(n,a)&&B(i,"get",n),B(i,"get",a));const{has:s}=oe(i),u=t?ne:e?Te:ke;return s.call(i,n)?u(r.get(n)):s.call(i,a)?u(r.get(a)):void(r!==i&&r.get(n))},get size(){const t=this["__v_raw"];return!e&&B(Se(t),"iterate",R),Reflect.get(t,"size",t)},has(t){const n=this["__v_raw"],r=Se(n),i=Se(t);return e||((0,o.$H)(t,i)&&B(r,"has",t),B(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,o){const r=this,i=r["__v_raw"],a=Se(i),s=t?ne:e?Te:ke;return!e&&B(a,"iterate",R),i.forEach(((e,t)=>n.call(o,s(e),s(t),r)))}};(0,o.X$)(n,e?{add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear")}:{add(e){t||Ce(e)||_e(e)||(e=Se(e));const n=Se(this),o=oe(n),r=o.has.call(n,e);return r||(n.add(e),D(n,"add",e,e)),this},set(e,n){t||Ce(n)||_e(n)||(n=Se(n));const r=Se(this),{has:i,get:a}=oe(r);let s=i.call(r,e);s||(e=Se(e),s=i.call(r,e));const u=a.call(r,e);return r.set(e,n),s?(0,o.$H)(n,u)&&D(r,"set",e,n,u):D(r,"add",e,n),this},delete(e){const t=Se(this),{has:n,get:o}=oe(t);let r=n.call(t,e);r||(e=Se(e),r=n.call(t,e));const i=o?o.call(t,e):void 0,a=t.delete(e);return r&&D(t,"delete",e,void 0,i),a},clear(){const e=Se(this),t=0!==e.size,n=void 0,o=e.clear();return t&&D(e,"clear",void 0,void 0,n),o}});const r=["keys","values","entries",Symbol.iterator];return r.forEach((o=>{n[o]=re(o,e,t)})),n}function se(e,t){const n=ae(e,t);return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,o.$3)(n,r)&&r in t?n:t,r,i)}const ue={get:se(!1,!1)},ce={get:se(!1,!0)},le={get:se(!0,!1)};const de=new WeakMap,fe=new WeakMap,pe=new WeakMap,me=new WeakMap;function he(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ge(e){return e["__v_skip"]||!Object.isExtensible(e)?0:he((0,o.Zf)(e))}function ve(e){return _e(e)?e:Ae(e,!1,J,ue,de)}function ye(e){return Ae(e,!1,te,ce,fe)}function be(e){return Ae(e,!0,ee,le,pe)}function Ae(e,t,n,r,i){if(!(0,o.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=i.get(e);if(a)return a;const s=ge(e);if(0===s)return e;const u=new Proxy(e,2===s?r:n);return i.set(e,u),u}function we(e){return _e(e)?we(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function _e(e){return!(!e||!e["__v_isReadonly"])}function Ce(e){return!(!e||!e["__v_isShallow"])}function Ee(e){return!!e&&!!e["__v_raw"]}function Se(e){const t=e&&e["__v_raw"];return t?Se(t):e}function Pe(e){return!(0,o.$3)(e,"__v_skip")&&Object.isExtensible(e)&&(0,o.yQ)(e,"__v_skip",!0),e}const ke=e=>(0,o.Gv)(e)?ve(e):e,Te=e=>(0,o.Gv)(e)?be(e):e;function Me(e){return!!e&&!0===e["__v_isRef"]}function xe(e){return Le(e,!1)}function Oe(e){return Le(e,!0)}function Le(e,t){return Me(e)?e:new Re(e,t)}class Re{constructor(e,t){this.dep=new x,this["__v_isRef"]=!0,this["__v_isShallow"]=!1,this._rawValue=t?e:Se(e),this._value=t?e:ke(e),this["__v_isShallow"]=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this["__v_isShallow"]||Ce(e)||_e(e);e=n?e:Se(e),(0,o.$H)(e,t)&&(this._rawValue=e,this._value=n?e:ke(e),this.dep.trigger())}}function Ie(e){return Me(e)?e.value:e}function Ne(e){return(0,o.Tn)(e)?e():Ie(e)}const Be={get:(e,t,n)=>"__v_raw"===t?e:Ie(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Me(r)&&!Me(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function De(e){return we(e)?e:new Proxy(e,Be)}class Ue{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new x(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=T-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||i===this))return m(this,!0),!0}get value(){const e=this.dep.track();return A(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Fe(e,t,n=!1){let r,i;(0,o.Tn)(e)?r=e:(r=e.get,i=e.set);const a=new Ue(r,i,n);return a}const We={},Ve=new WeakMap;let je;function qe(e,t=!1,n=je){if(n){let t=Ve.get(n);t||Ve.set(n,t=[]),t.push(e)}else 0}function He(e,t,n=o.MZ){const{immediate:r,deep:i,once:a,scheduler:u,augmentJob:c,call:d}=n,f=e=>i?e:Ce(e)||!1===i||0===i?Ge(e,1):Ge(e);let p,m,h,g,v=!1,y=!1;if(Me(e)?(m=()=>e.value,v=Ce(e)):we(e)?(m=()=>f(e),v=!0):(0,o.cy)(e)?(y=!0,v=e.some((e=>we(e)||Ce(e))),m=()=>e.map((e=>Me(e)?e.value:we(e)?f(e):(0,o.Tn)(e)?d?d(e,2):e():void 0))):m=(0,o.Tn)(e)?t?d?()=>d(e,2):e:()=>{if(h){S();try{h()}finally{P()}}const t=je;je=p;try{return d?d(e,3,[g]):e(g)}finally{je=t}}:o.tE,t&&i){const e=m,t=!0===i?1/0:i;m=()=>Ge(e(),t)}const b=s(),A=()=>{p.stop(),b&&b.active&&(0,o.TF)(b.effects,p)};if(a&&t){const e=t;t=(...t)=>{e(...t),A()}}let w=y?new Array(e.length).fill(We):We;const _=e=>{if(1&p.flags&&(p.dirty||e))if(t){const e=p.run();if(i||v||(y?e.some(((e,t)=>(0,o.$H)(e,w[t]))):(0,o.$H)(e,w))){h&&h();const n=je;je=p;try{const n=[e,w===We?void 0:y&&w[0]===We?[]:w,g];d?d(t,3,n):t(...n),w=e}finally{je=n}}}else p.run()};return c&&c(_),p=new l(m),p.scheduler=u?()=>u(_,!1):_,g=e=>qe(e,!1,p),h=p.onStop=()=>{const e=Ve.get(p);if(e){if(d)d(e,4);else for(const t of e)t();Ve.delete(p)}},t?r?_(!0):w=p.run():u?u(_.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function Ge(e,t=1/0,n){if(t<=0||!(0,o.Gv)(e)||e["__v_skip"])return e;if(n=n||new Set,n.has(e))return e;if(n.add(e),t--,Me(e))Ge(e.value,t,n);else if((0,o.cy)(e))for(let o=0;o<e.length;o++)Ge(e[o],t,n);else if((0,o.vM)(e)||(0,o.CE)(e))e.forEach((e=>{Ge(e,t,n)}));else if((0,o.Qd)(e)){for(const o in e)Ge(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Ge(e[o],t,n)}return e}},6768:function(e,t,n){n.d(t,{$u:function(){return le},CE:function(){return tn},Df:function(){return K},EW:function(){return qn},FK:function(){return Ht},Fv:function(){return mn},Gt:function(){return $e},Gy:function(){return I},Ht:function(){return ke},K9:function(){return vt},Lk:function(){return un},MZ:function(){return G},OW:function(){return j},Q3:function(){return hn},QP:function(){return B},WQ:function(){return Qe},Wv:function(){return nn},bF:function(){return cn},dY:function(){return g},g2:function(){return ye},h:function(){return Hn},hi:function(){return fe},k6:function(){return T},nI:function(){return Sn},pI:function(){return _e},pM:function(){return Z},pR:function(){return W},qL:function(){return a},sV:function(){return ue},uX:function(){return Qt},wB:function(){return Tt}});n(4114),n(9479),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var o=n(144),r=n(4232);function i(e,t,n,o){try{return o?e(...o):e()}catch(r){s(r,t,n)}}function a(e,t,n,o){if((0,r.Tn)(e)){const a=i(e,t,n,o);return a&&(0,r.yL)(a)&&a.catch((e=>{s(e,t,n)})),a}if((0,r.cy)(e)){const r=[];for(let i=0;i<e.length;i++)r.push(a(e[i],t,n,o));return r}}function s(e,t,n,a=!0){const s=t?t.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||r.MZ;if(t){let r=t.parent;const a=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,a,s))return;r=r.parent}if(c)return(0,o.C4)(),i(c,null,10,[e,a,s]),void(0,o.bl)()}u(e,n,s,a,l)}function u(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const c=[];let l=-1;const d=[];let f=null,p=0;const m=Promise.resolve();let h=null;function g(e){const t=h||m;return e?t.then(this?e.bind(this):e):t}function v(e){let t=l+1,n=c.length;while(t<n){const o=t+n>>>1,r=c[o],i=C(r);i<e||i===e&&2&r.flags?t=o+1:n=o}return t}function y(e){if(!(1&e.flags)){const t=C(e),n=c[c.length-1];!n||!(2&e.flags)&&t>=C(n)?c.push(e):c.splice(v(t),0,e),e.flags|=1,b()}}function b(){h||(h=m.then(E))}function A(e){(0,r.cy)(e)?d.push(...e):f&&-1===e.id?f.splice(p+1,0,e):1&e.flags||(d.push(e),e.flags|=1),b()}function w(e,t,n=l+1){for(0;n<c.length;n++){const t=c[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,c.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function _(e){if(d.length){const e=[...new Set(d)].sort(((e,t)=>C(e)-C(t)));if(d.length=0,f)return void f.push(...e);for(f=e,p=0;p<f.length;p++){const e=f[p];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}f=null,p=0}}const C=e=>null==e.id?2&e.flags?-1:1/0:e.id;function E(e){r.tE;try{for(l=0;l<c.length;l++){const e=c[l];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),i(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;l<c.length;l++){const e=c[l];e&&(e.flags&=-2)}l=-1,c.length=0,_(e),h=null,(c.length||d.length)&&E(e)}}let S=null,P=null;function k(e){const t=S;return S=e,P=e&&e.type.__scopeId||null,t}function T(e,t=S,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&Jt(-1);const r=k(t);let i;try{i=e(...n)}finally{k(r),o._d&&Jt(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function M(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let u=0;u<i.length;u++){const c=i[u];s&&(c.oldValue=s[u].value);let l=c.dir[r];l&&((0,o.C4)(),a(l,n,8,[e.el,c,e,t]),(0,o.bl)())}}const x=Symbol("_vte"),O=e=>e.__isTeleport;const L=Symbol("_leaveCb"),R=Symbol("_enterCb");function I(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ue((()=>{e.isMounted=!0})),de((()=>{e.isUnmounting=!0})),e}const N=[Function,Array],B={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:N,onEnter:N,onAfterEnter:N,onEnterCancelled:N,onBeforeLeave:N,onLeave:N,onAfterLeave:N,onLeaveCancelled:N,onBeforeAppear:N,onAppear:N,onAfterAppear:N,onAppearCancelled:N},D=e=>{const t=e.subTree;return t.component?D(t.component):t},U={name:"BaseTransition",props:B,setup(e,{slots:t}){const n=Sn(),r=I();return()=>{const i=t.default&&K(t.default(),!0);if(!i||!i.length)return;const a=F(i),s=(0,o.ux)(e),{mode:u}=s;if(r.isLeaving)return q(a);const c=H(a);if(!c)return q(a);let l=j(c,s,r,n,(e=>l=e));c.type!==Kt&&G(c,l);let d=n.subTree&&H(n.subTree);if(d&&d.type!==Kt&&!rn(c,d)&&D(n).type!==Kt){let e=j(d,s,r,n);if(G(d,e),"out-in"===u&&c.type!==Kt)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,d=void 0},q(a);"in-out"===u&&c.type!==Kt?e.delayLeave=(e,t,n)=>{const o=V(r,d);o[String(d.key)]=d,e[L]=()=>{t(),e[L]=void 0,delete l.delayedLeave,d=void 0},l.delayedLeave=()=>{n(),delete l.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return a}}};function F(e){let t=e[0];if(e.length>1){let n=!1;for(const o of e)if(o.type!==Kt){0,t=o,n=!0;break}}return t}const W=U;function V(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function j(e,t,n,o,i){const{appear:s,mode:u,persisted:c=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:h,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:y,onAppear:b,onAfterAppear:A,onAppearCancelled:w}=t,_=String(e.key),C=V(n,e),E=(e,t)=>{e&&a(e,o,9,t)},S=(e,t)=>{const n=t[1];E(e,t),(0,r.cy)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},P={mode:u,persisted:c,beforeEnter(t){let o=l;if(!n.isMounted){if(!s)return;o=y||l}t[L]&&t[L](!0);const r=C[_];r&&rn(e,r)&&r.el[L]&&r.el[L](),E(o,[t])},enter(e){let t=d,o=f,r=p;if(!n.isMounted){if(!s)return;t=b||d,o=A||f,r=w||p}let i=!1;const a=e[R]=t=>{i||(i=!0,E(t?r:o,[e]),P.delayedLeave&&P.delayedLeave(),e[R]=void 0)};t?S(t,[e,a]):a()},leave(t,o){const r=String(e.key);if(t[R]&&t[R](!0),n.isUnmounting)return o();E(m,[t]);let i=!1;const a=t[L]=n=>{i||(i=!0,o(),E(n?v:g,[t]),t[L]=void 0,C[r]===e&&delete C[r])};C[r]=e,h?S(h,[t,a]):a()},clone(e){const r=j(e,t,n,o,i);return i&&i(r),r}};return P}function q(e){if(Y(e))return e=fn(e),e.children=null,e}function H(e){if(!Y(e))return O(e.type)&&e.children?F(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&(0,r.Tn)(n.default))return n.default()}}function G(e,t){6&e.shapeFlag&&e.component?(e.transition=t,G(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function K(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===Ht?(128&a.patchFlag&&r++,o=o.concat(K(a.children,t,s))):(t||a.type!==Kt)&&o.push(null!=s?fn(a,{key:s}):a)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}
/*! #__NO_SIDE_EFFECTS__ */function Z(e,t){return(0,r.Tn)(e)?(()=>(0,r.X$)({name:e.name},t,{setup:e}))():e}function z(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $(e,t,n,a,s=!1){if((0,r.cy)(e))return void e.forEach(((e,o)=>$(e,t&&((0,r.cy)(t)?t[o]:t),n,a,s)));if(Q(a)&&!s)return void(512&a.shapeFlag&&a.type.__asyncResolved&&a.component.subTree.component&&$(e,t,n,a.component.subTree));const u=4&a.shapeFlag?Wn(a.component):a.el,c=s?null:u,{i:l,r:d}=e;const f=t&&t.r,p=l.refs===r.MZ?l.refs={}:l.refs,m=l.setupState,h=(0,o.ux)(m),g=m===r.MZ?()=>!1:e=>(0,r.$3)(h,e);if(null!=f&&f!==d&&((0,r.Kg)(f)?(p[f]=null,g(f)&&(m[f]=null)):(0,o.i9)(f)&&(f.value=null)),(0,r.Tn)(d))i(d,l,12,[c,p]);else{const t=(0,r.Kg)(d),i=(0,o.i9)(d);if(t||i){const o=()=>{if(e.f){const n=t?g(d)?m[d]:p[d]:d.value;s?(0,r.cy)(n)&&(0,r.TF)(n,u):(0,r.cy)(n)?n.includes(u)||n.push(u):t?(p[d]=[u],g(d)&&(m[d]=p[d])):(d.value=[u],e.k&&(p[e.k]=d.value))}else t?(p[d]=c,g(d)&&(m[d]=c)):i&&(d.value=c,e.k&&(p[e.k]=c))};c?(o.id=-1,gt(o,n)):o()}else 0}}(0,r.We)().requestIdleCallback,(0,r.We)().cancelIdleCallback;const Q=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Y=e=>e.type.__isKeepAlive;RegExp,RegExp;function X(e,t){return(0,r.cy)(e)?e.some((e=>X(e,t))):(0,r.Kg)(e)?e.split(",").includes(t):!!(0,r.gd)(e)&&(e.lastIndex=0,e.test(t))}function J(e,t){te(e,"a",t)}function ee(e,t){te(e,"da",t)}function te(e,t,n=En){const o=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(ie(t,o,n),n){let e=n.parent;while(e&&e.parent)Y(e.parent.vnode)&&ne(o,t,n,e),e=e.parent}}function ne(e,t,n,o){const i=ie(t,e,o,!0);fe((()=>{(0,r.TF)(o[t],i)}),n)}function oe(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function re(e){return 128&e.shapeFlag?e.ssContent:e}function ie(e,t,n=En,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{(0,o.C4)();const i=Tn(n),s=a(t,n,e,r);return i(),(0,o.bl)(),s});return r?i.unshift(s):i.push(s),s}}const ae=e=>(t,n=En)=>{Rn&&"sp"!==e||ie(e,((...e)=>t(...e)),n)},se=ae("bm"),ue=ae("m"),ce=ae("bu"),le=ae("u"),de=ae("bum"),fe=ae("um"),pe=ae("sp"),me=ae("rtg"),he=ae("rtc");function ge(e,t=En){ie("ec",e,t)}const ve="components";function ye(e,t){return Ae(ve,e,!0,t)||e}const be=Symbol.for("v-ndc");function Ae(e,t,n=!0,o=!1){const i=S||En;if(i){const n=i.type;if(e===ve){const e=Vn(n,!1);if(e&&(e===t||e===(0,r.PT)(t)||e===(0,r.ZH)((0,r.PT)(t))))return n}const a=we(i[e]||n[e],t)||we(i.appContext[e],t);return!a&&o?n:a}}function we(e,t){return e&&(e[t]||e[(0,r.PT)(t)]||e[(0,r.ZH)((0,r.PT)(t))])}function _e(e,t,n,i){let a;const s=n&&n[i],u=(0,r.cy)(e);if(u||(0,r.Kg)(e)){const n=u&&(0,o.g8)(e);let r=!1;n&&(r=!(0,o.fE)(e),e=(0,o.qA)(e)),a=new Array(e.length);for(let i=0,u=e.length;i<u;i++)a[i]=t(r?(0,o.lJ)(e[i]):e[i],i,void 0,s&&s[i])}else if("number"===typeof e){0,a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,s&&s[n])}else if((0,r.Gv)(e))if(e[Symbol.iterator])a=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);a=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];a[o]=t(e[r],r,o,s&&s[o])}}else a=[];return n&&(n[i]=a),a}const Ce=e=>e?xn(e)?Wn(e):Ce(e.parent):null,Ee=(0,r.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ce(e.parent),$root:e=>Ce(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ne(e),$forceUpdate:e=>e.f||(e.f=()=>{y(e.update)}),$nextTick:e=>e.n||(e.n=g.bind(e.proxy)),$watch:e=>xt.bind(e)}),Se=(e,t)=>e!==r.MZ&&!e.__isScriptSetup&&(0,r.$3)(e,t),Pe={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:i,data:a,props:s,accessCache:u,type:c,appContext:l}=e;let d;if("$"!==t[0]){const o=u[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Se(i,t))return u[t]=1,i[t];if(a!==r.MZ&&(0,r.$3)(a,t))return u[t]=2,a[t];if((d=e.propsOptions[0])&&(0,r.$3)(d,t))return u[t]=3,s[t];if(n!==r.MZ&&(0,r.$3)(n,t))return u[t]=4,n[t];xe&&(u[t]=0)}}const f=Ee[t];let p,m;return f?("$attrs"===t&&(0,o.u4)(e.attrs,"get",""),f(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.MZ&&(0,r.$3)(n,t)?(u[t]=4,n[t]):(m=l.config.globalProperties,(0,r.$3)(m,t)?m[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:a}=e;return Se(i,t)?(i[t]=n,!0):o!==r.MZ&&(0,r.$3)(o,t)?(o[t]=n,!0):!(0,r.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:a}},s){let u;return!!n[s]||e!==r.MZ&&(0,r.$3)(e,s)||Se(t,s)||(u=a[0])&&(0,r.$3)(u,s)||(0,r.$3)(o,s)||(0,r.$3)(Ee,s)||(0,r.$3)(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ke(){return Te().slots}function Te(){const e=Sn();return e.setupContext||(e.setupContext=Fn(e))}function Me(e){return(0,r.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let xe=!0;function Oe(e){const t=Ne(e),n=e.proxy,i=e.ctx;xe=!1,t.beforeCreate&&Re(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:u,watch:c,provide:l,inject:d,created:f,beforeMount:p,mounted:m,beforeUpdate:h,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:A,destroyed:w,unmounted:_,render:C,renderTracked:E,renderTriggered:S,errorCaptured:P,serverPrefetch:k,expose:T,inheritAttrs:M,components:x,directives:O,filters:L}=t,R=null;if(d&&Le(d,i,R),u)for(const o in u){const e=u[o];(0,r.Tn)(e)&&(i[o]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,r.Gv)(t)&&(e.data=(0,o.Kh)(t))}if(xe=!0,s)for(const o in s){const e=s[o],t=(0,r.Tn)(e)?e.bind(n,n):(0,r.Tn)(e.get)?e.get.bind(n,n):r.tE;0;const a=!(0,r.Tn)(e)&&(0,r.Tn)(e.set)?e.set.bind(n):r.tE,u=qn({get:t,set:a});Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:e=>u.value=e})}if(c)for(const o in c)Ie(c[o],i,n,o);if(l){const e=(0,r.Tn)(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{$e(t,e[t])}))}function I(e,t){(0,r.cy)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(f&&Re(f,e,"c"),I(se,p),I(ue,m),I(ce,h),I(le,g),I(J,v),I(ee,y),I(ge,P),I(he,E),I(me,S),I(de,A),I(fe,_),I(pe,k),(0,r.cy)(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r.tE&&(e.render=C),null!=M&&(e.inheritAttrs=M),x&&(e.components=x),O&&(e.directives=O),k&&z(e)}function Le(e,t,n=r.tE){(0,r.cy)(e)&&(e=We(e));for(const i in e){const n=e[i];let a;a=(0,r.Gv)(n)?"default"in n?Qe(n.from||i,n.default,!0):Qe(n.from||i):Qe(n),(0,o.i9)(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[i]=a}}function Re(e,t,n){a((0,r.cy)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Ie(e,t,n,o){let i=o.includes(".")?Ot(n,o):()=>n[o];if((0,r.Kg)(e)){const n=t[e];(0,r.Tn)(n)&&Tt(i,n)}else if((0,r.Tn)(e))Tt(i,e.bind(n));else if((0,r.Gv)(e))if((0,r.cy)(e))e.forEach((e=>Ie(e,t,n,o)));else{const o=(0,r.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.Tn)(o)&&Tt(i,o,e)}else 0}function Ne(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,u=a.get(t);let c;return u?c=u:i.length||n||o?(c={},i.length&&i.forEach((e=>Be(c,e,s,!0))),Be(c,t,s)):c=t,(0,r.Gv)(t)&&a.set(t,c),c}function Be(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&Be(e,i,n,!0),r&&r.forEach((t=>Be(e,t,n,!0)));for(const a in t)if(o&&"expose"===a);else{const o=De[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const De={data:Ue,props:qe,emits:qe,methods:je,computed:je,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:je,directives:je,watch:He,provide:Ue,inject:Fe};function Ue(e,t){return t?e?function(){return(0,r.X$)((0,r.Tn)(e)?e.call(this,this):e,(0,r.Tn)(t)?t.call(this,this):t)}:t:e}function Fe(e,t){return je(We(e),We(t))}function We(e){if((0,r.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function je(e,t){return e?(0,r.X$)(Object.create(null),e,t):t}function qe(e,t){return e?(0,r.cy)(e)&&(0,r.cy)(t)?[...new Set([...e,...t])]:(0,r.X$)(Object.create(null),Me(e),Me(null!=t?t:{})):t}function He(e,t){if(!e)return t;if(!t)return e;const n=(0,r.X$)(Object.create(null),e);for(const o in t)n[o]=Ve(e[o],t[o]);return n}function Ge(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ke=0;function Ze(e,t){return function(n,o=null){(0,r.Tn)(n)||(n=(0,r.X$)({},n)),null==o||(0,r.Gv)(o)||(o=null);const i=Ge(),s=new WeakSet,u=[];let c=!1;const l=i.app={_uid:Ke++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Gn,get config(){return i.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,r.Tn)(e.install)?(s.add(e),e.install(l,...t)):(0,r.Tn)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(r,a,s){if(!c){0;const u=l._ceVNode||cn(n,o);return u.appContext=i,!0===s?s="svg":!1===s&&(s=void 0),a&&t?t(u,r):e(u,r,s),c=!0,l._container=r,r.__vue_app__=l,Wn(u.component)}},onUnmount(e){u.push(e)},unmount(){c&&(a(u,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l},runWithContext(e){const t=ze;ze=l;try{return e()}finally{ze=t}}};return l}}let ze=null;function $e(e,t){if(En){let n=En.provides;const o=En.parent&&En.parent.provides;o===n&&(n=En.provides=Object.create(o)),n[e]=t}else 0}function Qe(e,t,n=!1){const o=En||S;if(o||ze){const i=ze?ze._context.provides:o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,r.Tn)(t)?t.call(o&&o.proxy):t}else 0}const Ye={},Xe=()=>Object.create(Ye),Je=e=>Object.getPrototypeOf(e)===Ye;function et(e,t,n,r=!1){const i={},a=Xe();e.propsDefaults=Object.create(null),nt(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:(0,o.Gc)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function tt(e,t,n,i){const{props:a,attrs:s,vnode:{patchFlag:u}}=e,c=(0,o.ux)(a),[l]=e.propsOptions;let d=!1;if(!(i||u>0)||16&u){let o;nt(e,t,a,s)&&(d=!0);for(const i in c)t&&((0,r.$3)(t,i)||(o=(0,r.Tg)(i))!==i&&(0,r.$3)(t,o))||(l?!n||void 0===n[i]&&void 0===n[o]||(a[i]=ot(l,c,i,void 0,e,!0)):delete a[i]);if(s!==c)for(const e in s)t&&(0,r.$3)(t,e)||(delete s[e],d=!0)}else if(8&u){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let i=n[o];if(Nt(e.emitsOptions,i))continue;const u=t[i];if(l)if((0,r.$3)(s,i))u!==s[i]&&(s[i]=u,d=!0);else{const t=(0,r.PT)(i);a[t]=ot(l,c,t,u,e,!1)}else u!==s[i]&&(s[i]=u,d=!0)}}d&&(0,o.hZ)(e.attrs,"set","")}function nt(e,t,n,i){const[a,s]=e.propsOptions;let u,c=!1;if(t)for(let o in t){if((0,r.SU)(o))continue;const l=t[o];let d;a&&(0,r.$3)(a,d=(0,r.PT)(o))?s&&s.includes(d)?(u||(u={}))[d]=l:n[d]=l:Nt(e.emitsOptions,o)||o in i&&l===i[o]||(i[o]=l,c=!0)}if(s){const t=(0,o.ux)(n),i=u||r.MZ;for(let o=0;o<s.length;o++){const u=s[o];n[u]=ot(a,t,u,i[u],e,!(0,r.$3)(i,u))}}return c}function ot(e,t,n,o,i,a){const s=e[n];if(null!=s){const e=(0,r.$3)(s,"default");if(e&&void 0===o){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,r.Tn)(e)){const{propsDefaults:r}=i;if(n in r)o=r[n];else{const a=Tn(i);o=r[n]=e.call(null,t),a()}}else o=e;i.ce&&i.ce._setProp(n,o)}s[0]&&(a&&!e?o=!1:!s[1]||""!==o&&o!==(0,r.Tg)(n)||(o=!0))}return o}const rt=new WeakMap;function it(e,t,n=!1){const o=n?rt:t.propsCache,i=o.get(e);if(i)return i;const a=e.props,s={},u=[];let c=!1;if(!(0,r.Tn)(e)){const o=e=>{c=!0;const[n,o]=it(e,t,!0);(0,r.X$)(s,n),o&&u.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!a&&!c)return(0,r.Gv)(e)&&o.set(e,r.Oj),r.Oj;if((0,r.cy)(a))for(let d=0;d<a.length;d++){0;const e=(0,r.PT)(a[d]);at(e)&&(s[e]=r.MZ)}else if(a){0;for(const e in a){const t=(0,r.PT)(e);if(at(t)){const n=a[e],o=s[t]=(0,r.cy)(n)||(0,r.Tn)(n)?{type:n}:(0,r.X$)({},n),i=o.type;let c=!1,l=!0;if((0,r.cy)(i))for(let e=0;e<i.length;++e){const t=i[e],n=(0,r.Tn)(t)&&t.name;if("Boolean"===n){c=!0;break}"String"===n&&(l=!1)}else c=(0,r.Tn)(i)&&"Boolean"===i.name;o[0]=c,o[1]=l,(c||(0,r.$3)(o,"default"))&&u.push(t)}}}const l=[s,u];return(0,r.Gv)(e)&&o.set(e,l),l}function at(e){return"$"!==e[0]&&!(0,r.SU)(e)}const st=e=>"_"===e[0]||"$stable"===e,ut=e=>(0,r.cy)(e)?e.map(gn):[gn(e)],ct=(e,t,n)=>{if(t._n)return t;const o=T(((...e)=>ut(t(...e))),n);return o._c=!1,o},lt=(e,t,n)=>{const o=e._ctx;for(const i in e){if(st(i))continue;const n=e[i];if((0,r.Tn)(n))t[i]=ct(i,n,o);else if(null!=n){0;const e=ut(n);t[i]=()=>e}}},dt=(e,t)=>{const n=ut(t);e.slots.default=()=>n},ft=(e,t,n)=>{for(const o in t)(n||"_"!==o)&&(e[o]=t[o])},pt=(e,t,n)=>{const o=e.slots=Xe();if(32&e.vnode.shapeFlag){const e=t._;e?(ft(o,t,n),n&&(0,r.yQ)(o,"_",e,!0)):lt(t,o)}else t&&dt(e,t)},mt=(e,t,n)=>{const{vnode:o,slots:i}=e;let a=!0,s=r.MZ;if(32&o.shapeFlag){const e=t._;e?n&&1===e?a=!1:ft(i,t,n):(a=!t.$stable,lt(t,i)),s=t}else t&&(dt(e,t),s={default:1});if(a)for(const r in i)st(r)||null!=s[r]||delete i[r]};function ht(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,r.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const gt=qt;function vt(e){return yt(e)}function yt(e,t){ht();const n=(0,r.We)();n.__VUE__=!0;const{insert:i,remove:a,patchProp:s,createElement:u,createText:c,createComment:l,setText:d,setElementText:f,parentNode:p,nextSibling:m,setScopeId:h=r.tE,insertStaticContent:g}=e,v=(e,t,n,o=null,r=null,i=null,a=void 0,s=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!rn(e,t)&&(o=J(e),G(e,r,i,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:l,shapeFlag:d}=t;switch(c){case Gt:b(e,t,n,o);break;case Kt:A(e,t,n,o);break;case Zt:null==e&&C(t,n,o,a);break;case Ht:N(e,t,n,o,r,i,a,s,u);break;default:1&d?P(e,t,n,o,r,i,a,s,u):6&d?B(e,t,n,o,r,i,a,s,u):(64&d||128&d)&&c.process(e,t,n,o,r,i,a,s,u,ne)}null!=l&&r&&$(l,e&&e.ref,i,t||e,!t)},b=(e,t,n,o)=>{if(null==e)i(t.el=c(t.children),n,o);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},A=(e,t,n,o)=>{null==e?i(t.el=l(t.children||""),n,o):t.el=e.el},C=(e,t,n,o)=>{[e.el,e.anchor]=g(e.children,t,n,o,e.el,e.anchor)},E=({el:e,anchor:t},n,o)=>{let r;while(e&&e!==t)r=m(e),i(e,n,o),e=r;i(t,n,o)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=m(e),a(e),e=n;a(t)},P=(e,t,n,o,r,i,a,s,u)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?k(t,n,o,r,i,a,s,u):L(e,t,r,i,a,s,u)},k=(e,t,n,o,a,c,l,d)=>{let p,m;const{props:h,shapeFlag:g,transition:v,dirs:y}=e;if(p=e.el=u(e.type,c,h&&h.is,h),8&g?f(p,e.children):16&g&&O(e.children,p,null,o,a,bt(e,c),l,d),y&&M(e,null,o,"created"),T(p,e,e.scopeId,l,o),h){for(const e in h)"value"===e||(0,r.SU)(e)||s(p,e,null,h[e],c,o);"value"in h&&s(p,"value",null,h.value,c),(m=h.onVnodeBeforeMount)&&An(m,o,e)}y&&M(e,null,o,"beforeMount");const b=wt(a,v);b&&v.beforeEnter(p),i(p,t,n),((m=h&&h.onVnodeMounted)||b||y)&&gt((()=>{m&&An(m,o,e),b&&v.enter(p),y&&M(e,null,o,"mounted")}),a)},T=(e,t,n,o,r)=>{if(n&&h(e,n),o)for(let i=0;i<o.length;i++)h(e,o[i]);if(r){let n=r.subTree;if(t===n||jt(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=r.vnode;T(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},O=(e,t,n,o,r,i,a,s,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=s?vn(e[c]):gn(e[c]);v(null,u,t,n,o,r,i,a,s)}},L=(e,t,n,o,i,a,u)=>{const c=t.el=e.el;let{patchFlag:l,dynamicChildren:d,dirs:p}=t;l|=16&e.patchFlag;const m=e.props||r.MZ,h=t.props||r.MZ;let g;if(n&&At(n,!1),(g=h.onVnodeBeforeUpdate)&&An(g,n,t,e),p&&M(t,e,n,"beforeUpdate"),n&&At(n,!0),(m.innerHTML&&null==h.innerHTML||m.textContent&&null==h.textContent)&&f(c,""),d?R(e.dynamicChildren,d,c,n,o,bt(t,i),a):u||V(e,t,c,null,n,o,bt(t,i),a,!1),l>0){if(16&l)I(c,m,h,n,i);else if(2&l&&m.class!==h.class&&s(c,"class",null,h.class,i),4&l&&s(c,"style",m.style,h.style,i),8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const o=e[t],r=m[o],a=h[o];a===r&&"value"!==o||s(c,o,r,a,i,n)}}1&l&&e.children!==t.children&&f(c,t.children)}else u||null!=d||I(c,m,h,n,i);((g=h.onVnodeUpdated)||p)&&gt((()=>{g&&An(g,n,t,e),p&&M(t,e,n,"updated")}),o)},R=(e,t,n,o,r,i,a)=>{for(let s=0;s<t.length;s++){const u=e[s],c=t[s],l=u.el&&(u.type===Ht||!rn(u,c)||70&u.shapeFlag)?p(u.el):n;v(u,c,l,null,o,r,i,a,!0)}},I=(e,t,n,o,i)=>{if(t!==n){if(t!==r.MZ)for(const a in t)(0,r.SU)(a)||a in n||s(e,a,t[a],null,i,o);for(const a in n){if((0,r.SU)(a))continue;const u=n[a],c=t[a];u!==c&&"value"!==a&&s(e,a,c,u,i,o)}"value"in n&&s(e,"value",t.value,n.value,i)}},N=(e,t,n,o,r,a,s,u,l)=>{const d=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(u=u?u.concat(h):h),null==e?(i(d,n,o),i(f,n,o),O(t.children||[],n,f,r,a,s,u,l)):p>0&&64&p&&m&&e.dynamicChildren?(R(e.dynamicChildren,m,n,r,a,s,u),(null!=t.key||r&&t===r.subTree)&&_t(e,t,!0)):V(e,t,n,f,r,a,s,u,l)},B=(e,t,n,o,r,i,a,s,u)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,a,u):D(t,n,o,r,i,a,u):U(e,t,u)},D=(e,t,n,o,r,i,a)=>{const s=e.component=Cn(e,o,r);if(Y(e)&&(s.ctx.renderer=ne),In(s,!1,a),s.asyncDep){if(r&&r.registerDep(s,F,a),!e.el){const e=s.subTree=cn(Kt);A(null,e,t,n)}}else F(s,e,t,n,r,i,a)},U=(e,t,n)=>{const o=t.component=e.component;if(Ft(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void W(o,t,n);o.next=t,o.update()}else t.el=e.el,o.vnode=t},F=(e,t,n,i,a,s,u)=>{const c=()=>{if(e.isMounted){let{next:t,bu:n,u:o,parent:i,vnode:l}=e;{const n=Et(e);if(n)return t&&(t.el=l.el,W(e,t,u)),void n.asyncDep.then((()=>{e.isUnmounted||c()}))}let d,f=t;0,At(e,!1),t?(t.el=l.el,W(e,t,u)):t=l,n&&(0,r.DY)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&An(d,i,t,l),At(e,!0);const m=Bt(e);0;const h=e.subTree;e.subTree=m,v(h,m,p(h.el),J(h),e,a,s),t.el=m.el,null===f&&Vt(e,m.el),o&&gt(o,a),(d=t.props&&t.props.onVnodeUpdated)&&gt((()=>An(d,i,t,l)),a)}else{let o;const{el:u,props:c}=t,{bm:l,m:d,parent:f,root:p,type:m}=e,h=Q(t);if(At(e,!1),l&&(0,r.DY)(l),!h&&(o=c&&c.onVnodeBeforeMount)&&An(o,f,t),At(e,!0),u&&re){const t=()=>{e.subTree=Bt(e),re(u,e.subTree,e,a,null)};h&&m.__asyncHydrate?m.__asyncHydrate(u,e,t):t()}else{p.ce&&p.ce._injectChildStyle(m);const o=e.subTree=Bt(e);0,v(null,o,n,i,e,a,s),t.el=o.el}if(d&&gt(d,a),!h&&(o=c&&c.onVnodeMounted)){const e=t;gt((()=>An(o,f,e)),a)}(256&t.shapeFlag||f&&Q(f.vnode)&&256&f.vnode.shapeFlag)&&e.a&&gt(e.a,a),e.isMounted=!0,t=n=i=null}};e.scope.on();const l=e.effect=new o.X2(c);e.scope.off();const d=e.update=l.run.bind(l),f=e.job=l.runIfDirty.bind(l);f.i=e,f.id=e.uid,l.scheduler=()=>y(f),At(e,!0),d()},W=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,tt(e,t.props,r,n),mt(e,t.children,n),(0,o.C4)(),w(e),(0,o.bl)()},V=(e,t,n,o,r,i,a,s,u=!1)=>{const c=e&&e.children,l=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(128&p)return void q(c,d,n,o,r,i,a,s,u);if(256&p)return void j(c,d,n,o,r,i,a,s,u)}8&m?(16&l&&X(c,r,i),d!==c&&f(n,d)):16&l?16&m?q(c,d,n,o,r,i,a,s,u):X(c,r,i,!0):(8&l&&f(n,""),16&m&&O(d,n,o,r,i,a,s,u))},j=(e,t,n,o,i,a,s,u,c)=>{e=e||r.Oj,t=t||r.Oj;const l=e.length,d=t.length,f=Math.min(l,d);let p;for(p=0;p<f;p++){const o=t[p]=c?vn(t[p]):gn(t[p]);v(e[p],o,n,null,i,a,s,u,c)}l>d?X(e,i,a,!0,!1,f):O(t,n,o,i,a,s,u,c,f)},q=(e,t,n,o,i,a,s,u,c)=>{let l=0;const d=t.length;let f=e.length-1,p=d-1;while(l<=f&&l<=p){const o=e[l],r=t[l]=c?vn(t[l]):gn(t[l]);if(!rn(o,r))break;v(o,r,n,null,i,a,s,u,c),l++}while(l<=f&&l<=p){const o=e[f],r=t[p]=c?vn(t[p]):gn(t[p]);if(!rn(o,r))break;v(o,r,n,null,i,a,s,u,c),f--,p--}if(l>f){if(l<=p){const e=p+1,r=e<d?t[e].el:o;while(l<=p)v(null,t[l]=c?vn(t[l]):gn(t[l]),n,r,i,a,s,u,c),l++}}else if(l>p)while(l<=f)G(e[l],i,a,!0),l++;else{const m=l,h=l,g=new Map;for(l=h;l<=p;l++){const e=t[l]=c?vn(t[l]):gn(t[l]);null!=e.key&&g.set(e.key,l)}let y,b=0;const A=p-h+1;let w=!1,_=0;const C=new Array(A);for(l=0;l<A;l++)C[l]=0;for(l=m;l<=f;l++){const o=e[l];if(b>=A){G(o,i,a,!0);continue}let r;if(null!=o.key)r=g.get(o.key);else for(y=h;y<=p;y++)if(0===C[y-h]&&rn(o,t[y])){r=y;break}void 0===r?G(o,i,a,!0):(C[r-h]=l+1,r>=_?_=r:w=!0,v(o,t[r],n,null,i,a,s,u,c),b++)}const E=w?Ct(C):r.Oj;for(y=E.length-1,l=A-1;l>=0;l--){const e=h+l,r=t[e],f=e+1<d?t[e+1].el:o;0===C[l]?v(null,r,n,f,i,a,s,u,c):w&&(y<0||l!==E[y]?H(r,n,f,2):y--)}}},H=(e,t,n,o,r=null)=>{const{el:a,type:s,transition:u,children:c,shapeFlag:l}=e;if(6&l)return void H(e.component.subTree,t,n,o);if(128&l)return void e.suspense.move(t,n,o);if(64&l)return void s.move(e,t,n,ne);if(s===Ht){i(a,t,n);for(let e=0;e<c.length;e++)H(c[e],t,n,o);return void i(e.anchor,t,n)}if(s===Zt)return void E(e,t,n);const d=2!==o&&1&l&&u;if(d)if(0===o)u.beforeEnter(a),i(a,t,n),gt((()=>u.enter(a)),r);else{const{leave:e,delayLeave:o,afterLeave:r}=u,s=()=>i(a,t,n),c=()=>{e(a,(()=>{s(),r&&r()}))};o?o(a,s,c):c()}else i(a,t,n)},G=(e,t,n,o=!1,r=!1)=>{const{type:i,props:a,ref:s,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:d,dirs:f,cacheIndex:p}=e;if(-2===d&&(r=!1),null!=s&&$(s,null,n,e,!0),null!=p&&(t.renderCache[p]=void 0),256&l)return void t.ctx.deactivate(e);const m=1&l&&f,h=!Q(e);let g;if(h&&(g=a&&a.onVnodeBeforeUnmount)&&An(g,t,e),6&l)z(e.component,n,o);else{if(128&l)return void e.suspense.unmount(n,o);m&&M(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,ne,o):c&&!c.hasOnce&&(i!==Ht||d>0&&64&d)?X(c,t,n,!1,!0):(i===Ht&&384&d||!r&&16&l)&&X(u,t,n),o&&K(e)}(h&&(g=a&&a.onVnodeUnmounted)||m)&&gt((()=>{g&&An(g,t,e),m&&M(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:o,transition:r}=e;if(t===Ht)return void Z(n,o);if(t===Zt)return void S(e);const i=()=>{a(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:o}=r,a=()=>t(n,i);o?o(e.el,i,a):a()}else i()},Z=(e,t)=>{let n;while(e!==t)n=m(e),a(e),e=n;a(t)},z=(e,t,n)=>{const{bum:o,scope:i,job:a,subTree:s,um:u,m:c,a:l}=e;St(c),St(l),o&&(0,r.DY)(o),i.stop(),a&&(a.flags|=8,G(s,e,t,n)),u&&gt(u,t),gt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,n,o=!1,r=!1,i=0)=>{for(let a=i;a<e.length;a++)G(e[a],t,n,o,r)},J=e=>{if(6&e.shapeFlag)return J(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[x];return n?m(n):t};let ee=!1;const te=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ee||(ee=!0,w(),_(),ee=!1)},ne={p:v,um:G,m:H,r:K,mt:D,mc:O,pc:V,pbc:R,n:J,o:e};let oe,re;return t&&([oe,re]=t(ne)),{render:te,hydrate:oe,createApp:Ze(te,oe)}}function bt({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function At({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _t(e,t,n=!1){const o=e.children,i=t.children;if((0,r.cy)(o)&&(0,r.cy)(i))for(let r=0;r<o.length;r++){const e=o[r];let t=i[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[r]=vn(i[r]),t.el=e.el),n||-2===t.patchFlag||_t(e,t)),t.type===Gt&&(t.el=e.el)}}function Ct(e){const t=e.slice(),n=[0];let o,r,i,a,s;const u=e.length;for(o=0;o<u;o++){const u=e[o];if(0!==u){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}i=0,a=n.length-1;while(i<a)s=i+a>>1,e[n[s]]<u?i=s+1:a=s;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,a=n[i-1];while(i-- >0)n[i]=a,a=t[a];return n}function Et(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Et(t)}function St(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Pt=Symbol.for("v-scx"),kt=()=>{{const e=Qe(Pt);return e}};function Tt(e,t,n){return Mt(e,t,n)}function Mt(e,t,n=r.MZ){const{immediate:i,deep:s,flush:u,once:c}=n;const l=(0,r.X$)({},n);const d=t&&i||!t&&"post"!==u;let f;if(Rn)if("sync"===u){const e=kt();f=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=r.tE,e.resume=r.tE,e.pause=r.tE,e}const p=En;l.call=(e,t,n)=>a(e,p,t,n);let m=!1;"post"===u?l.scheduler=e=>{gt(e,p&&p.suspense)}:"sync"!==u&&(m=!0,l.scheduler=(e,t)=>{t?e():y(e)}),l.augmentJob=e=>{t&&(e.flags|=4),m&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const h=(0,o.wB)(e,t,l);return Rn&&(f?f.push(h):d&&h()),h}function xt(e,t,n){const o=this.proxy,i=(0,r.Kg)(e)?e.includes(".")?Ot(o,e):()=>o[e]:e.bind(o,o);let a;(0,r.Tn)(t)?a=t:(a=t.handler,n=t);const s=Tn(this),u=Mt(i,a.bind(o),n);return s(),u}function Ot(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const Lt=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${(0,r.PT)(t)}Modifiers`]||e[`${(0,r.Tg)(t)}Modifiers`];function Rt(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r.MZ;let i=n;const s=t.startsWith("update:"),u=s&&Lt(o,t.slice(7));let c;u&&(u.trim&&(i=n.map((e=>(0,r.Kg)(e)?e.trim():e))),u.number&&(i=n.map(r.bB)));let l=o[c=(0,r.rU)(t)]||o[c=(0,r.rU)((0,r.PT)(t))];!l&&s&&(l=o[c=(0,r.rU)((0,r.Tg)(t))]),l&&a(l,e,6,i);const d=o[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(d,e,6,i)}}function It(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const a=e.emits;let s={},u=!1;if(!(0,r.Tn)(e)){const o=e=>{const n=It(e,t,!0);n&&(u=!0,(0,r.X$)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return a||u?((0,r.cy)(a)?a.forEach((e=>s[e]=null)):(0,r.X$)(s,a),(0,r.Gv)(e)&&o.set(e,s),s):((0,r.Gv)(e)&&o.set(e,null),null)}function Nt(e,t){return!(!e||!(0,r.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,r.$3)(e,(0,r.Tg)(t))||(0,r.$3)(e,t))}function Bt(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[a],slots:u,attrs:c,emit:l,render:d,renderCache:f,props:p,data:m,setupState:h,ctx:g,inheritAttrs:v}=e,y=k(e);let b,A;try{if(4&n.shapeFlag){const e=i||o,t=e;b=gn(d.call(t,e,f,p,h,m,g)),A=c}else{const e=t;0,b=gn(e.length>1?e(p,{attrs:c,slots:u,emit:l}):e(p,null)),A=t.props?c:Dt(c)}}catch(_){zt.length=0,s(_,e,1),b=cn(Kt)}let w=b;if(A&&!1!==v){const e=Object.keys(A),{shapeFlag:t}=w;e.length&&7&t&&(a&&e.some(r.CP)&&(A=Ut(A,a)),w=fn(w,A,!1,!0))}return n.dirs&&(w=fn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&G(w,n.transition),b=w,k(y),b}const Dt=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},Ut=(e,t)=>{const n={};for(const o in e)(0,r.CP)(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function Ft(e,t,n){const{props:o,children:r,component:i}=e,{props:a,children:s,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!r&&!s||s&&s.$stable)||o!==a&&(o?!a||Wt(o,a,c):!!a);if(1024&u)return!0;if(16&u)return o?Wt(o,a,c):!!a;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==o[n]&&!Nt(c,n))return!0}}return!1}function Wt(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!Nt(n,i))return!0}return!1}function Vt({vnode:e,parent:t},n){while(t){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o!==e)break;(e=t.vnode).el=n,t=t.parent}}const jt=e=>e.__isSuspense;function qt(e,t){t&&t.pendingBranch?(0,r.cy)(e)?t.effects.push(...e):t.effects.push(e):A(e)}const Ht=Symbol.for("v-fgt"),Gt=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),Zt=Symbol.for("v-stc"),zt=[];let $t=null;function Qt(e=!1){zt.push($t=e?null:[])}function Yt(){zt.pop(),$t=zt[zt.length-1]||null}let Xt=1;function Jt(e,t=!1){Xt+=e,e<0&&$t&&t&&($t.hasOnce=!0)}function en(e){return e.dynamicChildren=Xt>0?$t||r.Oj:null,Yt(),Xt>0&&$t&&$t.push(e),e}function tn(e,t,n,o,r,i){return en(un(e,t,n,o,r,i,!0))}function nn(e,t,n,o,r){return en(cn(e,t,n,o,r,!0))}function on(e){return!!e&&!0===e.__v_isVNode}function rn(e,t){return e.type===t.type&&e.key===t.key}const an=({key:e})=>null!=e?e:null,sn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,r.Kg)(e)||(0,o.i9)(e)||(0,r.Tn)(e)?{i:S,r:e,k:t,f:!!n}:e:null);function un(e,t=null,n=null,o=0,i=null,a=(e===Ht?0:1),s=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&an(t),ref:t&&sn(t),scopeId:P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:S};return u?(yn(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.Kg)(n)?8:16),Xt>0&&!s&&$t&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&$t.push(c),c}const cn=ln;function ln(e,t=null,n=null,i=0,a=null,s=!1){if(e&&e!==be||(e=Kt),on(e)){const o=fn(e,t,!0);return n&&yn(o,n),Xt>0&&!s&&$t&&(6&o.shapeFlag?$t[$t.indexOf(e)]=o:$t.push(o)),o.patchFlag=-2,o}if(jn(e)&&(e=e.__vccOpts),t){t=dn(t);let{class:e,style:n}=t;e&&!(0,r.Kg)(e)&&(t.class=(0,r.C4)(e)),(0,r.Gv)(n)&&((0,o.ju)(n)&&!(0,r.cy)(n)&&(n=(0,r.X$)({},n)),t.style=(0,r.Tr)(n))}const u=(0,r.Kg)(e)?1:jt(e)?128:O(e)?64:(0,r.Gv)(e)?4:(0,r.Tn)(e)?2:0;return un(e,t,n,i,a,u,s,!0)}function dn(e){return e?(0,o.ju)(e)||Je(e)?(0,r.X$)({},e):e:null}function fn(e,t,n=!1,o=!1){const{props:i,ref:a,patchFlag:s,children:u,transition:c}=e,l=t?bn(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&an(l),ref:t&&t.ref?n&&a?(0,r.cy)(a)?a.concat(sn(t)):[a,sn(t)]:sn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fn(e.ssContent),ssFallback:e.ssFallback&&fn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&G(d,c.clone(d)),d}function pn(e=" ",t=0){return cn(Gt,null,e,t)}function mn(e,t){const n=cn(Zt,null,e);return n.staticCount=t,n}function hn(e="",t=!1){return t?(Qt(),nn(Kt,null,e)):cn(Kt,null,e)}function gn(e){return null==e||"boolean"===typeof e?cn(Kt):(0,r.cy)(e)?cn(Ht,null,e.slice()):on(e)?vn(e):cn(Gt,null,String(e))}function vn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:fn(e)}function yn(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if((0,r.cy)(t))n=16;else if("object"===typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),yn(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||Je(t)?3===o&&S&&(1===S.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=S}}else(0,r.Tn)(t)?(t={default:t,_ctx:S},n=32):(t=String(t),64&o?(n=16,t=[pn(t)]):n=8);e.children=t,e.shapeFlag|=n}function bn(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=(0,r.C4)([t.class,o.class]));else if("style"===e)t.style=(0,r.Tr)([t.style,o.style]);else if((0,r.Mp)(e)){const n=t[e],i=o[e];!i||n===i||(0,r.cy)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=o[e])}return t}function An(e,t,n,o=null){a(e,t,7,[n,o])}const wn=Ge();let _n=0;function Cn(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||wn,s={uid:_n++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new o.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:it(i,a),emitsOptions:It(i,a),emit:null,emitted:null,propsDefaults:r.MZ,inheritAttrs:i.inheritAttrs,ctx:r.MZ,data:r.MZ,props:r.MZ,attrs:r.MZ,slots:r.MZ,refs:r.MZ,setupState:r.MZ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Rt.bind(null,s),e.ce&&e.ce(s),s}let En=null;const Sn=()=>En||S;let Pn,kn;{const e=(0,r.We)(),t=(t,n)=>{let o;return(o=e[t])||(o=e[t]=[]),o.push(n),e=>{o.length>1?o.forEach((t=>t(e))):o[0](e)}};Pn=t("__VUE_INSTANCE_SETTERS__",(e=>En=e)),kn=t("__VUE_SSR_SETTERS__",(e=>Rn=e))}const Tn=e=>{const t=En;return Pn(e),e.scope.on(),()=>{e.scope.off(),Pn(t)}},Mn=()=>{En&&En.scope.off(),Pn(null)};function xn(e){return 4&e.vnode.shapeFlag}let On,Ln,Rn=!1;function In(e,t=!1,n=!1){t&&kn(t);const{props:o,children:r}=e.vnode,i=xn(e);et(e,o,i,t),pt(e,r,n);const a=i?Nn(e,t):void 0;return t&&kn(!1),a}function Nn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pe);const{setup:a}=n;if(a){(0,o.C4)();const n=e.setupContext=a.length>1?Fn(e):null,u=Tn(e),c=i(a,e,0,[e.props,n]),l=(0,r.yL)(c);if((0,o.bl)(),u(),!l&&!e.sp||Q(e)||z(e),l){if(c.then(Mn,Mn),t)return c.then((n=>{Bn(e,n,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=c}else Bn(e,c,t)}else Dn(e,t)}function Bn(e,t,n){(0,r.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Gv)(t)&&(e.setupState=(0,o.Pr)(t)),Dn(e,n)}function Dn(e,t,n){const i=e.type;if(!e.render){if(!t&&On&&!i.render){const t=i.template||Ne(e).template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:s}=i,u=(0,r.X$)((0,r.X$)({isCustomElement:n,delimiters:a},o),s);i.render=On(t,u)}}e.render=i.render||r.tE,Ln&&Ln(e)}{const t=Tn(e);(0,o.C4)();try{Oe(e)}finally{(0,o.bl)(),t()}}}const Un={get(e,t){return(0,o.u4)(e,"get",""),e[t]}};function Fn(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Un),slots:e.slots,emit:e.emit,expose:t}}function Wn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy((0,o.Pr)((0,o.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in Ee?Ee[n](e):void 0},has(e,t){return t in e||t in Ee}})):e.proxy}function Vn(e,t=!0){return(0,r.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function jn(e){return(0,r.Tn)(e)&&"__vccOpts"in e}const qn=(e,t)=>{const n=(0,o.EW)(e,t,Rn);return n};function Hn(e,t,n){const o=arguments.length;return 2===o?(0,r.Gv)(t)&&!(0,r.cy)(t)?on(t)?cn(e,null,[t]):cn(e,t):cn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&on(n)&&(n=[n]),cn(e,t,n))}const Gn="3.5.13"},5130:function(e,t,n){n.d(t,{Ef:function(){return de},eB:function(){return b}});n(4114),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var o=n(6768),r=n(4232);n(144);
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let i;const a="undefined"!==typeof window&&window.trustedTypes;if(a)try{i=a.createPolicy("vue",{createHTML:e=>e})}catch(me){}const s=i?e=>i.createHTML(e):e=>e,u="http://www.w3.org/2000/svg",c="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,d=l&&l.createElement("template"),f={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r="svg"===t?l.createElementNS(u,e):"mathml"===t?l.createElementNS(c,e):n?l.createElement(e,{is:n}):l.createElement(e);return"select"===e&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===i||!(r=r.nextSibling))break}else{d.innerHTML=s("svg"===o?`<svg>${e}</svg>`:"mathml"===o?`<math>${e}</math>`:e);const r=d.content;if("svg"===o||"mathml"===o){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},p="transition",m="animation",h=Symbol("_vtc"),g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},v=(0,r.X$)({},o.QP,g),y=e=>(e.displayName="Transition",e.props=v,e),b=y(((e,{slots:t})=>(0,o.h)(o.pR,_(e),t))),A=(e,t=[])=>{(0,r.cy)(e)?e.forEach((e=>e(...t))):e&&e(...t)},w=e=>!!e&&((0,r.cy)(e)?e.some((e=>e.length>1)):e.length>1);function _(e){const t={};for(const r in e)r in g||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:o,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:l=s,appearToClass:d=u,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,h=C(i),v=h&&h[0],y=h&&h[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:E,onLeave:T,onLeaveCancelled:x,onBeforeAppear:O=b,onAppear:L=_,onAppearCancelled:I=E}=t,N=(e,t,n,o)=>{e._enterCancelled=o,P(e,t?d:u),P(e,t?l:s),n&&n()},B=(e,t)=>{e._isLeaving=!1,P(e,f),P(e,m),P(e,p),t&&t()},D=e=>(t,n)=>{const r=e?L:_,i=()=>N(t,e,n);A(r,[t,i]),k((()=>{P(t,e?c:a),S(t,e?d:u),w(r)||M(t,o,v,i)}))};return(0,r.X$)(t,{onBeforeEnter(e){A(b,[e]),S(e,a),S(e,s)},onBeforeAppear(e){A(O,[e]),S(e,c),S(e,l)},onEnter:D(!1),onAppear:D(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>B(e,t);S(e,f),e._enterCancelled?(S(e,p),R()):(R(),S(e,p)),k((()=>{e._isLeaving&&(P(e,f),S(e,m),w(T)||M(e,o,y,n))})),A(T,[e,n])},onEnterCancelled(e){N(e,!1,void 0,!0),A(E,[e])},onAppearCancelled(e){N(e,!0,void 0,!0),A(I,[e])},onLeaveCancelled(e){B(e),A(x,[e])}})}function C(e){if(null==e)return null;if((0,r.Gv)(e))return[E(e.enter),E(e.leave)];{const t=E(e);return[t,t]}}function E(e){const t=(0,r.Ro)(e);return t}function S(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[h]||(e[h]=new Set)).add(t)}function P(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[h];n&&(n.delete(t),n.size||(e[h]=void 0))}function k(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let T=0;function M(e,t,n,o){const r=e._endId=++T,i=()=>{r===e._endId&&o()};if(null!=n)return setTimeout(i,n);const{type:a,timeout:s,propCount:u}=x(e,t);if(!a)return o();const c=a+"end";let l=0;const d=()=>{e.removeEventListener(c,f),i()},f=t=>{t.target===e&&++l>=u&&d()};setTimeout((()=>{l<u&&d()}),s+1),e.addEventListener(c,f)}function x(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),r=o(`${p}Delay`),i=o(`${p}Duration`),a=O(r,i),s=o(`${m}Delay`),u=o(`${m}Duration`),c=O(s,u);let l=null,d=0,f=0;t===p?a>0&&(l=p,d=a,f=i.length):t===m?c>0&&(l=m,d=c,f=u.length):(d=Math.max(a,c),l=d>0?a>c?p:m:null,f=l?l===p?i.length:u.length:0);const h=l===p&&/\b(transform|all)(,|$)/.test(o(`${p}Property`).toString());return{type:l,timeout:d,propCount:f,hasTransform:h}}function O(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>L(t)+L(e[n]))))}function L(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function R(){return document.body.offsetHeight}function I(e,t,n){const o=e[h];o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const N=Symbol("_vod"),B=Symbol("_vsh");const D=Symbol("");const U=/(^|;)\s*display\s*:/;function F(e,t,n){const o=e.style,i=(0,r.Kg)(n);let a=!1;if(n&&!i){if(t)if((0,r.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&V(o,t,"")}else for(const e in t)null==n[e]&&V(o,e,"");for(const e in n)"display"===e&&(a=!0),V(o,e,n[e])}else if(i){if(t!==n){const e=o[D];e&&(n+=";"+e),o.cssText=n,a=U.test(n)}}else t&&e.removeAttribute("style");N in e&&(e[N]=a?o.display:"",e[B]&&(o.display="none"))}const W=/\s*!important$/;function V(e,t,n){if((0,r.cy)(n))n.forEach((n=>V(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=H(e,t);W.test(n)?e.setProperty((0,r.Tg)(o),n.replace(W,""),"important"):e[o]=n}}const j=["Webkit","Moz","ms"],q={};function H(e,t){const n=q[t];if(n)return n;let o=(0,r.PT)(t);if("filter"!==o&&o in e)return q[t]=o;o=(0,r.ZH)(o);for(let r=0;r<j.length;r++){const n=j[r]+o;if(n in e)return q[t]=n}return t}const G="http://www.w3.org/1999/xlink";function K(e,t,n,o,i,a=(0,r.J$)(t)){o&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(G,t.slice(6,t.length)):e.setAttributeNS(G,t,n):null==n||a&&!(0,r.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":(0,r.Bm)(n)?String(n):n)}function Z(e,t,n,o,i){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?s(n):n));const a=e.tagName;if("value"===t&&"PROGRESS"!==a&&!a.includes("-")){const o="OPTION"===a?e.getAttribute("value")||"":e.value,r=null==n?"checkbox"===e.type?"on":"":String(n);return o===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let u=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=(0,r.Y2)(n):null==n&&"string"===o?(n="",u=!0):"number"===o&&(n=0,u=!0)}try{e[t]=n}catch(me){0}u&&e.removeAttribute(i||t)}function z(e,t,n,o){e.addEventListener(t,n,o)}function $(e,t,n,o){e.removeEventListener(t,n,o)}const Q=Symbol("_vei");function Y(e,t,n,o,r=null){const i=e[Q]||(e[Q]={}),a=i[t];if(o&&a)a.value=o;else{const[n,s]=J(t);if(o){const a=i[t]=oe(o,r);z(e,n,a,s)}else a&&($(e,n,a,s),i[t]=void 0)}}const X=/(?:Once|Passive|Capture)$/;function J(e){let t;if(X.test(e)){let n;t={};while(n=e.match(X))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.Tg)(e.slice(2));return[n,t]}let ee=0;const te=Promise.resolve(),ne=()=>ee||(te.then((()=>ee=0)),ee=Date.now());function oe(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,o.qL)(re(e,n.value),t,5,[e])};return n.value=e,n.attached=ne(),n}function re(e,t){if((0,r.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const ie=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ae=(e,t,n,o,i,a)=>{const s="svg"===i;"class"===t?I(e,o,s):"style"===t?F(e,n,o):(0,r.Mp)(t)?(0,r.CP)(t)||Y(e,t,n,o,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):se(e,t,o,s))?(Z(e,t,o),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||K(e,t,o,s,a,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&(0,r.Kg)(o)?("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),K(e,t,o,s)):Z(e,(0,r.PT)(t),o,a,t)};function se(e,t,n,o){if(o)return"innerHTML"===t||"textContent"===t||!!(t in e&&ie(t)&&(0,r.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!ie(t)||!(0,r.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;Symbol("_moveCb"),Symbol("_enterCb");Symbol("_assign");const ue=(0,r.X$)({patchProp:ae},f);let ce;function le(){return ce||(ce=(0,o.K9)(ue))}const de=(...e)=>{const t=le().createApp(...e);const{mount:n}=t;return t.mount=e=>{const o=pe(e);if(!o)return;const i=t._component;(0,r.Tn)(i)||i.render||i.template||(i.template=o.innerHTML),1===o.nodeType&&(o.textContent="");const a=n(o,!1,fe(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function fe(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function pe(e){if((0,r.Kg)(e)){const t=document.querySelector(e);return t}return e}},4232:function(e,t,n){n.d(t,{$3:function(){return p},$H:function(){return D},BH:function(){return G},BX:function(){return ne},Bm:function(){return w},C4:function(){return Y},CE:function(){return h},CP:function(){return c},DY:function(){return U},Gv:function(){return _},J$:function(){return J},Kg:function(){return A},MZ:function(){return r},Mp:function(){return u},NO:function(){return s},Oj:function(){return i},PT:function(){return L},Qd:function(){return k},Ro:function(){return V},SU:function(){return M},TF:function(){return d},Tg:function(){return I},Tn:function(){return b},Tr:function(){return K},We:function(){return q},X$:function(){return l},Y2:function(){return ee},ZH:function(){return N},Zf:function(){return P},bB:function(){return W},cy:function(){return m},gd:function(){return y},pD:function(){return o},rU:function(){return B},tE:function(){return a},u3:function(){return oe},vM:function(){return g},v_:function(){return ie},yI:function(){return T},yL:function(){return C},yQ:function(){return F}});n(4114);
/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function o(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const r={},i=[],a=()=>{},s=()=>!1,u=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c=e=>e.startsWith("onUpdate:"),l=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},f=Object.prototype.hasOwnProperty,p=(e,t)=>f.call(e,t),m=Array.isArray,h=e=>"[object Map]"===S(e),g=e=>"[object Set]"===S(e),v=e=>"[object Date]"===S(e),y=e=>"[object RegExp]"===S(e),b=e=>"function"===typeof e,A=e=>"string"===typeof e,w=e=>"symbol"===typeof e,_=e=>null!==e&&"object"===typeof e,C=e=>(_(e)||b(e))&&b(e.then)&&b(e.catch),E=Object.prototype.toString,S=e=>E.call(e),P=e=>S(e).slice(8,-1),k=e=>"[object Object]"===S(e),T=e=>A(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,M=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x=e=>{const t=Object.create(null);return n=>{const o=t[n];return o||(t[n]=e(n))}},O=/-(\w)/g,L=x((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),R=/\B([A-Z])/g,I=x((e=>e.replace(R,"-$1").toLowerCase())),N=x((e=>e.charAt(0).toUpperCase()+e.slice(1))),B=x((e=>{const t=e?`on${N(e)}`:"";return t})),D=(e,t)=>!Object.is(e,t),U=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},F=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},W=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=A(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const q=()=>j||(j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const H="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",G=o(H);function K(e){if(m(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=A(o)?Q(o):K(o);if(r)for(const e in r)t[e]=r[e]}return t}if(A(e)||_(e))return e}const Z=/;(?![^(]*\))/g,z=/:([^]+)/,$=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace($,"").split(Z).forEach((e=>{if(e){const n=e.split(z);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(A(e))t=e;else if(m(e))for(let n=0;n<e.length;n++){const o=Y(e[n]);o&&(t+=o+" ")}else if(_(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const X="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J=o(X);function ee(e){return!!e||""===e}function te(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ne(e[o],t[o]);return n}function ne(e,t){if(e===t)return!0;let n=v(e),o=v(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=w(e),o=w(t),n||o)return e===t;if(n=m(e),o=m(t),n||o)return!(!n||!o)&&te(e,t);if(n=_(e),o=_(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const n in e){const o=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(o&&!r||!o&&r||!ne(e[n],t[n]))return!1}}return String(e)===String(t)}function oe(e,t){return e.findIndex((e=>ne(e,t)))}const re=e=>!(!e||!0!==e["__v_isRef"]),ie=e=>A(e)?e:null==e?"":m(e)||_(e)&&(e.toString===E||!b(e.toString))?re(e)?ie(e.value):JSON.stringify(e,ae,2):String(e),ae=(e,t)=>re(t)?ae(e,t.value):h(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],o)=>(e[se(t,o)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>se(e)))}:w(t)?se(t):!_(t)||m(t)||k(t)?t:String(t),se=(e,t="")=>{var n;return w(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},1241:function(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},9306:function(e,t,n){var o=n(4901),r=n(6823),i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(r(e)+" is not a function")}},1125:function(e,t,n){var o=n(3925),r=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i("Can't set "+r(e)+" as a prototype")}},7080:function(e,t,n){var o=n(4402).has;e.exports=function(e){return o(e),e}},6469:function(e,t,n){var o=n(8227),r=n(2360),i=n(4913).f,a=o("unscopables"),s=Array.prototype;void 0===s[a]&&i(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},679:function(e,t,n){var o=n(1625),r=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw new r("Incorrect invocation")}},8551:function(e,t,n){var o=n(34),r=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(r(e)+" is not an object")}},7811:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,n){var o=n(6706),r=n(4576),i=TypeError;e.exports=o(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==r(e))throw new i("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,n){var o=n(9504),r=n(7394),i=o(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==r(e))return!1;try{return i(e,0,0),!1}catch(t){return!0}}},5636:function(e,t,n){var o=n(4475),r=n(9504),i=n(6706),a=n(7696),s=n(3238),u=n(7394),c=n(4483),l=n(1548),d=o.structuredClone,f=o.ArrayBuffer,p=o.DataView,m=o.TypeError,h=Math.min,g=f.prototype,v=p.prototype,y=r(g.slice),b=i(g,"resizable","get"),A=i(g,"maxByteLength","get"),w=r(v.getInt8),_=r(v.setInt8);e.exports=(l||c)&&function(e,t,n){var o,r=u(e),i=void 0===t?r:a(t),g=!b||!b(e);if(s(e))throw new m("ArrayBuffer is detached");if(l&&(e=d(e,{transfer:[e]}),r===i&&(n||g)))return e;if(r>=i&&(!n||g))o=y(e,0,i);else{var v=n&&!g&&A?{maxByteLength:A(e)}:void 0;o=new f(i,v);for(var C=new p(e),E=new p(o),S=h(i,r),P=0;P<S;P++)_(E,P,w(C,P))}return l||c(e),o}},4644:function(e,t,n){var o,r,i,a=n(7811),s=n(3724),u=n(4475),c=n(4901),l=n(34),d=n(9297),f=n(6955),p=n(6823),m=n(6699),h=n(6840),g=n(2106),v=n(1625),y=n(2787),b=n(2967),A=n(8227),w=n(3392),_=n(1181),C=_.enforce,E=_.get,S=u.Int8Array,P=S&&S.prototype,k=u.Uint8ClampedArray,T=k&&k.prototype,M=S&&y(S),x=P&&y(P),O=Object.prototype,L=u.TypeError,R=A("toStringTag"),I=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",B=a&&!!b&&"Opera"!==f(u.opera),D=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},W=function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(U,t)||d(F,t)},V=function(e){var t=y(e);if(l(t)){var n=E(t);return n&&d(n,N)?n[N]:V(t)}},j=function(e){if(!l(e))return!1;var t=f(e);return d(U,t)||d(F,t)},q=function(e){if(j(e))return e;throw new L("Target is not a typed array")},H=function(e){if(c(e)&&(!b||v(M,e)))return e;throw new L(p(e)+" is not a typed array constructor")},G=function(e,t,n,o){if(s){if(n)for(var r in U){var i=u[r];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(c){}}}x[e]&&!n||h(x,e,n?t:B&&P[e]||t,o)}},K=function(e,t,n){var o,r;if(s){if(b){if(n)for(o in U)if(r=u[o],r&&d(r,e))try{delete r[e]}catch(i){}if(M[e]&&!n)return;try{return h(M,e,n?t:B&&M[e]||t)}catch(i){}}for(o in U)r=u[o],!r||r[e]&&!n||h(r,e,t)}};for(o in U)r=u[o],i=r&&r.prototype,i?C(i)[N]=r:B=!1;for(o in F)r=u[o],i=r&&r.prototype,i&&(C(i)[N]=r);if((!B||!c(M)||M===Function.prototype)&&(M=function(){throw new L("Incorrect invocation")},B))for(o in U)u[o]&&b(u[o],M);if((!B||!x||x===O)&&(x=M.prototype,B))for(o in U)u[o]&&b(u[o].prototype,x);if(B&&y(T)!==x&&b(T,x),s&&!d(x,R))for(o in D=!0,g(x,R,{configurable:!0,get:function(){return l(this)?this[I]:void 0}}),U)u[o]&&m(u[o],I,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:D&&I,aTypedArray:q,aTypedArrayConstructor:H,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:K,getTypedArrayConstructor:V,isView:W,isTypedArray:j,TypedArray:M,TypedArrayPrototype:x}},5370:function(e,t,n){var o=n(6198);e.exports=function(e,t,n){var r=0,i=arguments.length>2?n:o(t),a=new e(i);while(i>r)a[r]=t[r++];return a}},9617:function(e,t,n){var o=n(5397),r=n(5610),i=n(6198),a=function(e){return function(t,n,a){var s=o(t),u=i(s);if(0===u)return!e&&-1;var c,l=r(a,u);if(e&&n!==n){while(u>l)if(c=s[l++],c!==c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4527:function(e,t,n){var o=n(3724),r=n(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(r(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7628:function(e,t,n){var o=n(6198);e.exports=function(e,t){for(var n=o(e),r=new t(n),i=0;i<n;i++)r[i]=e[n-i-1];return r}},9928:function(e,t,n){var o=n(6198),r=n(1291),i=RangeError;e.exports=function(e,t,n,a){var s=o(e),u=r(n),c=u<0?s+u:u;if(c>=s||c<0)throw new i("Incorrect index");for(var l=new t(s),d=0;d<s;d++)l[d]=d===c?a:e[d];return l}},4576:function(e,t,n){var o=n(9504),r=o({}.toString),i=o("".slice);e.exports=function(e){return i(r(e),8,-1)}},6955:function(e,t,n){var o=n(2140),r=n(4901),i=n(4576),a=n(8227),s=a("toStringTag"),u=Object,c="Arguments"===i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=o?i:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=u(e),s))?n:c?i(t):"Object"===(o=i(t))&&r(t.callee)?"Arguments":o}},7740:function(e,t,n){var o=n(9297),r=n(5031),i=n(7347),a=n(4913);e.exports=function(e,t,n){for(var s=r(t),u=a.f,c=i.f,l=0;l<s.length;l++){var d=s[l];o(e,d)||n&&o(n,d)||u(e,d,c(t,d))}}},2211:function(e,t,n){var o=n(9039);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,n){var o=n(3724),r=n(4913),i=n(6980);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,n){var o=n(3724),r=n(4913),i=n(6980);e.exports=function(e,t,n){o?r.f(e,t,i(0,n)):e[t]=n}},2106:function(e,t,n){var o=n(283),r=n(4913);e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),r.f(e,t,n)}},6840:function(e,t,n){var o=n(4901),r=n(4913),i=n(283),a=n(9433);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(o(n)&&i(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9433:function(e,t,n){var o=n(4475),r=Object.defineProperty;e.exports=function(e,t){try{r(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},3724:function(e,t,n){var o=n(9039);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,n){var o,r,i,a,s=n(4475),u=n(9714),c=n(1548),l=s.structuredClone,d=s.ArrayBuffer,f=s.MessageChannel,p=!1;if(c)p=function(e){l(e,{transfer:[e]})};else if(d)try{f||(o=u("worker_threads"),o&&(f=o.MessageChannel)),f&&(r=new f,i=new d(2),a=function(e){r.port1.postMessage(null,[e])},2===i.byteLength&&(a(i),0===i.byteLength&&(p=a)))}catch(m){}e.exports=p},4055:function(e,t,n){var o=n(4475),r=n(34),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},5002:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7290:function(e,t,n){var o=n(516),r=n(9088);e.exports=!o&&!r&&"object"==typeof window&&"object"==typeof document},516:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},9088:function(e,t,n){var o=n(4475),r=n(4576);e.exports="process"===r(o.process)},9392:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){var o,r,i=n(4475),a=n(9392),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=l.split("."),r=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(r=+o[1]))),e.exports=r},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(e,t,n){var o=n(9504),r=Error,i=o("".replace),a=function(e){return String(new r(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=i(e,s,"");return e}},6249:function(e,t,n){var o=n(9039),r=n(6980);e.exports=!o((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},6518:function(e,t,n){var o=n(4475),r=n(7347).f,i=n(6699),a=n(6840),s=n(9433),u=n(7740),c=n(2796);e.exports=function(e,t){var n,l,d,f,p,m,h=e.target,g=e.global,v=e.stat;if(l=g?o:v?o[h]||s(h,{}):o[h]&&o[h].prototype,l)for(d in t){if(p=t[d],e.dontCallGetSet?(m=r(l,d),f=m&&m.value):f=l[d],n=c(g?d:h+(v?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(l,d,p,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},6080:function(e,t,n){var o=n(7476),r=n(9306),i=n(616),a=o(o.bind);e.exports=function(e,t){return r(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,n){var o=n(9039);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){var o=n(616),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},350:function(e,t,n){var o=n(3724),r=n(9297),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!o||o&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6706:function(e,t,n){var o=n(9504),r=n(9306);e.exports=function(e,t,n){try{return o(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},7476:function(e,t,n){var o=n(4576),r=n(9504);e.exports=function(e){if("Function"===o(e))return r(e)}},9504:function(e,t,n){var o=n(616),r=Function.prototype,i=r.call,a=o&&r.bind.bind(i,i);e.exports=o?a:function(e){return function(){return i.apply(e,arguments)}}},4124:function(e,t,n){var o=n(4475);e.exports=function(e,t){var n=o[e],r=n&&n.prototype;return r&&r[t]}},7751:function(e,t,n){var o=n(4475),r=n(4901),i=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e]):o[e]&&o[e][t]}},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:function(e,t,n){var o=n(6955),r=n(5966),i=n(4117),a=n(6269),s=n(8227),u=s("iterator");e.exports=function(e){if(!i(e))return r(e,u)||r(e,"@@iterator")||a[o(e)]}},81:function(e,t,n){var o=n(9565),r=n(9306),i=n(8551),a=n(6823),s=n(851),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return i(o(n,e));throw new u(a(e)+" is not iterable")}},5966:function(e,t,n){var o=n(9306),r=n(4117);e.exports=function(e,t){var n=e[t];return r(n)?void 0:o(n)}},3789:function(e,t,n){var o=n(9306),r=n(8551),i=n(9565),a=n(1291),s=n(1767),u="Invalid size",c=RangeError,l=TypeError,d=Math.max,f=function(e,t){this.set=e,this.size=d(t,0),this.has=o(e.has),this.keys=o(e.keys)};f.prototype={getIterator:function(){return s(r(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){r(e);var t=+e.size;if(t!==t)throw new l(u);var n=a(t);if(n<0)throw new c(u);return new f(e,n)}},4475:function(e,t,n){var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var o=n(9504),r=n(8981),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(r(e),t)}},421:function(e){e.exports={}},397:function(e,t,n){var o=n(7751);e.exports=o("document","documentElement")},5917:function(e,t,n){var o=n(3724),r=n(9039),i=n(4055);e.exports=!o&&!r((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){var o=n(9504),r=n(9039),i=n(4576),a=Object,s=o("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?s(e,""):a(e)}:a},3167:function(e,t,n){var o=n(4901),r=n(34),i=n(2967);e.exports=function(e,t,n){var a,s;return i&&o(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},3706:function(e,t,n){var o=n(9504),r=n(4901),i=n(7629),a=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},1181:function(e,t,n){var o,r,i,a=n(8622),s=n(4475),u=n(34),c=n(6699),l=n(9297),d=n(7629),f=n(6119),p=n(421),m="Object already initialized",h=s.TypeError,g=s.WeakMap,v=function(e){return i(e)?r(e):o(e,{})},y=function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw new h(m);return t.facade=e,b.set(e,t),t},r=function(e){return b.get(e)||{}},i=function(e){return b.has(e)}}else{var A=f("state");p[A]=!0,o=function(e,t){if(l(e,A))throw new h(m);return t.facade=e,c(e,A,t),t},r=function(e){return l(e,A)?e[A]:{}},i=function(e){return l(e,A)}}e.exports={set:o,get:r,has:i,enforce:v,getterFor:y}},4209:function(e,t,n){var o=n(8227),r=n(6269),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},4376:function(e,t,n){var o=n(4576);e.exports=Array.isArray||function(e){return"Array"===o(e)}},1108:function(e,t,n){var o=n(6955);e.exports=function(e){var t=o(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:function(e,t,n){var o=n(9504),r=n(9039),i=n(4901),a=n(6955),s=n(7751),u=n(3706),c=function(){},l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=o(d.exec),p=!d.test(c),m=function(e){if(!i(e))return!1;try{return l(c,[],e),!0}catch(t){return!1}},h=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,u(e))}catch(t){return!0}};h.sham=!0,e.exports=!l||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?h:m},2796:function(e,t,n){var o=n(9039),r=n(4901),i=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n===l||n!==c&&(r(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},4117:function(e){e.exports=function(e){return null===e||void 0===e}},34:function(e,t,n){var o=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},3925:function(e,t,n){var o=n(34);e.exports=function(e){return o(e)||null===e}},6395:function(e){e.exports=!1},757:function(e,t,n){var o=n(7751),r=n(4901),i=n(1625),a=n(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return r(t)&&i(t.prototype,s(e))}},507:function(e,t,n){var o=n(9565);e.exports=function(e,t,n){var r,i,a=n?e:e.iterator,s=e.next;while(!(r=o(s,a)).done)if(i=t(r.value),void 0!==i)return i}},2652:function(e,t,n){var o=n(6080),r=n(9565),i=n(8551),a=n(6823),s=n(4209),u=n(6198),c=n(1625),l=n(81),d=n(851),f=n(9539),p=TypeError,m=function(e,t){this.stopped=e,this.result=t},h=m.prototype;e.exports=function(e,t,n){var g,v,y,b,A,w,_,C=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),P=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),T=o(t,C),M=function(e){return g&&f(g,"normal",e),new m(!0,e)},x=function(e){return E?(i(e),k?T(e[0],e[1],M):T(e[0],e[1])):k?T(e,M):T(e)};if(S)g=e.iterator;else if(P)g=e;else{if(v=d(e),!v)throw new p(a(e)+" is not iterable");if(s(v)){for(y=0,b=u(e);b>y;y++)if(A=x(e[y]),A&&c(h,A))return A;return new m(!1)}g=l(e,v)}w=S?e.next:g.next;while(!(_=r(w,g)).done){try{A=x(_.value)}catch(O){f(g,"throw",O)}if("object"==typeof A&&A&&c(h,A))return A}return new m(!1)}},9539:function(e,t,n){var o=n(9565),r=n(8551),i=n(5966);e.exports=function(e,t,n){var a,s;r(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw n;return n}a=o(a,e)}catch(u){s=!0,a=u}if("throw"===t)throw n;if(s)throw a;return r(a),n}},6269:function(e){e.exports={}},6198:function(e,t,n){var o=n(8014);e.exports=function(e){return o(e.length)}},283:function(e,t,n){var o=n(9504),r=n(9039),i=n(4901),a=n(9297),s=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),d=l.enforce,f=l.get,p=String,m=Object.defineProperty,h=o("".slice),g=o("".replace),v=o([].join),y=s&&!r((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),A=e.exports=function(e,t,n){"Symbol("===h(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var o=d(e);return a(o,"source")||(o.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=A((function(){return i(this)&&f(this).source||c(this)}),"toString")},2248:function(e,t,n){var o=n(9504),r=Map.prototype;e.exports={Map:Map,set:o(r.set),get:o(r.get),has:o(r.has),remove:o(r["delete"]),proto:r}},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},2603:function(e,t,n){var o=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},2360:function(e,t,n){var o,r=n(8551),i=n(6801),a=n(8727),s=n(421),u=n(397),c=n(4055),l=n(6119),d=">",f="<",p="prototype",m="script",h=l("IE_PROTO"),g=function(){},v=function(e){return f+m+d+e+f+"/"+m+d},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+m+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},A=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}A="undefined"!=typeof document?document.domain&&o?y(o):b():y(o);var e=a.length;while(e--)delete A[p][a[e]];return A()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=r(e),n=new g,g[p]=null,n[h]=e):n=A(),void 0===t?n:i.f(n,t)}},6801:function(e,t,n){var o=n(3724),r=n(8686),i=n(4913),a=n(8551),s=n(5397),u=n(1072);t.f=o&&!r?Object.defineProperties:function(e,t){a(e);var n,o=s(t),r=u(t),c=r.length,l=0;while(c>l)i.f(e,n=r[l++],o[n]);return e}},4913:function(e,t,n){var o=n(3724),r=n(5917),i=n(8686),a=n(8551),s=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=o?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var o=l(e,t);o&&o[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:o[f],enumerable:d in n?n[d]:o[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return c(e,t,n)}catch(o){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var o=n(3724),r=n(9565),i=n(8773),a=n(6980),s=n(5397),u=n(6969),c=n(9297),l=n(5917),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(n){}if(c(e,t))return a(!r(i.f,e,t),e[t])}},8480:function(e,t,n){var o=n(1828),r=n(8727),i=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){var o=n(9297),r=n(4901),i=n(8981),a=n(6119),s=n(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(o(t,u))return t[u];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},1625:function(e,t,n){var o=n(9504);e.exports=o({}.isPrototypeOf)},1828:function(e,t,n){var o=n(9504),r=n(9297),i=n(5397),a=n(9617).indexOf,s=n(421),u=o([].push);e.exports=function(e,t){var n,o=i(e),c=0,l=[];for(n in o)!r(s,n)&&r(o,n)&&u(l,n);while(t.length>c)r(o,n=t[c++])&&(~a(l,n)||u(l,n));return l}},1072:function(e,t,n){var o=n(1828),r=n(8727);e.exports=Object.keys||function(e){return o(e,r)}},8773:function(e,t){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},2967:function(e,t,n){var o=n(6706),r=n(34),i=n(7750),a=n(1125);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=o(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,o){return i(n),a(o),r(n)?(t?e(n,o):n.__proto__=o,n):n}}():void 0)},4270:function(e,t,n){var o=n(9565),r=n(4901),i=n(34),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!i(s=o(n,e)))return s;if(r(n=e.valueOf)&&!i(s=o(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!i(s=o(n,e)))return s;throw new a("Can't convert object to primitive value")}},5031:function(e,t,n){var o=n(7751),r=n(9504),i=n(8480),a=n(3717),s=n(8551),u=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?u(t,n(e)):t}},7979:function(e,t,n){var o=n(8551);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1034:function(e,t,n){var o=n(9565),r=n(9297),i=n(1625),a=n(7979),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||r(e,"flags")||!i(s,e)?t:o(a,e)}},7750:function(e,t,n){var o=n(4117),r=TypeError;e.exports=function(e){if(o(e))throw new r("Can't call method on "+e);return e}},9286:function(e,t,n){var o=n(4402),r=n(8469),i=o.Set,a=o.add;e.exports=function(e){var t=new i;return r(e,(function(e){a(t,e)})),t}},3440:function(e,t,n){var o=n(7080),r=n(4402),i=n(9286),a=n(5170),s=n(3789),u=n(8469),c=n(507),l=r.has,d=r.remove;e.exports=function(e){var t=o(this),n=s(e),r=i(t);return a(t)<=n.size?u(t,(function(e){n.includes(e)&&d(r,e)})):c(n.getIterator(),(function(e){l(t,e)&&d(r,e)})),r}},4402:function(e,t,n){var o=n(9504),r=Set.prototype;e.exports={Set:Set,add:o(r.add),has:o(r.has),remove:o(r["delete"]),proto:r}},8750:function(e,t,n){var o=n(7080),r=n(4402),i=n(5170),a=n(3789),s=n(8469),u=n(507),c=r.Set,l=r.add,d=r.has;e.exports=function(e){var t=o(this),n=a(e),r=new c;return i(t)>n.size?u(n.getIterator(),(function(e){d(t,e)&&l(r,e)})):s(t,(function(e){n.includes(e)&&l(r,e)})),r}},4449:function(e,t,n){var o=n(7080),r=n(4402).has,i=n(5170),a=n(3789),s=n(8469),u=n(507),c=n(9539);e.exports=function(e){var t=o(this),n=a(e);if(i(t)<=n.size)return!1!==s(t,(function(e){if(n.includes(e))return!1}),!0);var l=n.getIterator();return!1!==u(l,(function(e){if(r(t,e))return c(l,"normal",!1)}))}},3838:function(e,t,n){var o=n(7080),r=n(5170),i=n(8469),a=n(3789);e.exports=function(e){var t=o(this),n=a(e);return!(r(t)>n.size)&&!1!==i(t,(function(e){if(!n.includes(e))return!1}),!0)}},8527:function(e,t,n){var o=n(7080),r=n(4402).has,i=n(5170),a=n(3789),s=n(507),u=n(9539);e.exports=function(e){var t=o(this),n=a(e);if(i(t)<n.size)return!1;var c=n.getIterator();return!1!==s(c,(function(e){if(!r(t,e))return u(c,"normal",!1)}))}},8469:function(e,t,n){var o=n(9504),r=n(507),i=n(4402),a=i.Set,s=i.proto,u=o(s.forEach),c=o(s.keys),l=c(new a).next;e.exports=function(e,t,n){return n?r({iterator:c(e),next:l},t):u(e,t)}},4916:function(e,t,n){var o=n(7751),r=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=o("Set");try{(new t)[e](r(0));try{return(new t)[e](r(-1)),!1}catch(n){return!0}}catch(i){return!1}}},5170:function(e,t,n){var o=n(6706),r=n(4402);e.exports=o(r.proto,"size","get")||function(e){return e.size}},3650:function(e,t,n){var o=n(7080),r=n(4402),i=n(9286),a=n(3789),s=n(507),u=r.add,c=r.has,l=r.remove;e.exports=function(e){var t=o(this),n=a(e).getIterator(),r=i(t);return s(n,(function(e){c(t,e)?l(r,e):u(r,e)})),r}},4204:function(e,t,n){var o=n(7080),r=n(4402).add,i=n(9286),a=n(3789),s=n(507);e.exports=function(e){var t=o(this),n=a(e).getIterator(),u=i(t);return s(n,(function(e){r(u,e)})),u}},6119:function(e,t,n){var o=n(5745),r=n(3392),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},7629:function(e,t,n){var o=n(6395),r=n(4475),i=n(9433),a="__core-js_shared__",s=e.exports=r[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:o?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var o=n(7629);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},1548:function(e,t,n){var o=n(4475),r=n(9039),i=n(7388),a=n(7290),s=n(516),u=n(9088),c=o.structuredClone;e.exports=!!c&&!r((function(){if(s&&i>92||u&&i>94||a&&i>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,n){var o=n(7388),r=n(9039),i=n(4475),a=i.String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},5610:function(e,t,n){var o=n(1291),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},5854:function(e,t,n){var o=n(2777),r=TypeError;e.exports=function(e){var t=o(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,n){var o=n(1291),r=n(8014),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=o(e),n=r(t);if(t!==n)throw new i("Wrong length or index");return n}},5397:function(e,t,n){var o=n(7055),r=n(7750);e.exports=function(e){return o(r(e))}},1291:function(e,t,n){var o=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},8014:function(e,t,n){var o=n(1291),r=Math.min;e.exports=function(e){var t=o(e);return t>0?r(t,9007199254740991):0}},8981:function(e,t,n){var o=n(7750),r=Object;e.exports=function(e){return r(o(e))}},2777:function(e,t,n){var o=n(9565),r=n(34),i=n(757),a=n(5966),s=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=o(u,e,t),!r(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,n){var o=n(2777),r=n(757);e.exports=function(e){var t=o(e,"string");return r(t)?t:t+""}},2140:function(e,t,n){var o=n(8227),r=o("toStringTag"),i={};i[r]="z",e.exports="[object z]"===String(i)},655:function(e,t,n){var o=n(6955),r=String;e.exports=function(e){if("Symbol"===o(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},9714:function(e,t,n){var o=n(9088);e.exports=function(e){try{if(o)return Function('return require("'+e+'")')()}catch(t){}}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3392:function(e,t,n){var o=n(9504),r=0,i=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+i,36)}},7040:function(e,t,n){var o=n(4495);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var o=n(3724),r=n(9039);e.exports=o&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8622:function(e,t,n){var o=n(4475),r=n(4901),i=o.WeakMap;e.exports=r(i)&&/native code/.test(String(i))},8227:function(e,t,n){var o=n(4475),r=n(5745),i=n(9297),a=n(3392),s=n(4495),u=n(7040),c=o.Symbol,l=r("wks"),d=u?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),l[e]}},6573:function(e,t,n){var o=n(3724),r=n(2106),i=n(3238),a=ArrayBuffer.prototype;o&&!("detached"in a)&&r(a,"detached",{configurable:!0,get:function(){return i(this)}})},7936:function(e,t,n){var o=n(6518),r=n(5636);r&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,n){var o=n(6518),r=n(5636);r&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,n){var o=n(6518),r=n(8981),i=n(6198),a=n(4527),s=n(6837),u=n(9039),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!l();o({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=r(this),n=i(t),o=arguments.length;s(n+o);for(var u=0;u<o;u++)t[n]=arguments[u],n++;return a(t,n),n}})},9678:function(e,t,n){var o=n(6518),r=n(7628),i=n(5397),a=n(6469),s=Array;o({target:"Array",proto:!0},{toReversed:function(){return r(i(this),s)}}),a("toReversed")},7145:function(e,t,n){var o=n(6518),r=n(9504),i=n(9306),a=n(5397),s=n(5370),u=n(4124),c=n(6469),l=Array,d=r(u("Array","sort"));o({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&i(e);var t=a(this),n=s(l,t);return d(n,e)}}),c("toSorted")},1658:function(e,t,n){var o=n(6518),r=n(6469),i=n(6837),a=n(6198),s=n(5610),u=n(5397),c=n(1291),l=Array,d=Math.max,f=Math.min;o({target:"Array",proto:!0},{toSpliced:function(e,t){var n,o,r,p,m=u(this),h=a(m),g=s(e,h),v=arguments.length,y=0;for(0===v?n=o=0:1===v?(n=0,o=h-g):(n=v-2,o=f(d(c(t),0),h-g)),r=i(h+n-o),p=l(r);y<g;y++)p[y]=m[y];for(;y<g+n;y++)p[y]=arguments[y-g+2];for(;y<r;y++)p[y]=m[y+o-n];return p}}),r("toSpliced")},9479:function(e,t,n){var o=n(4475),r=n(3724),i=n(2106),a=n(7979),s=n(9039),u=o.RegExp,c=u.prototype,l=r&&s((function(){var e=!0;try{u(".","d")}catch(l){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",r=function(e,o){Object.defineProperty(t,e,{get:function(){return n+=o,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(i.hasIndices="d"),i)r(a,i[a]);var s=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return s!==o||n!==o}));l&&i(c,"flags",{configurable:!0,get:a})},7642:function(e,t,n){var o=n(6518),r=n(3440),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("difference")},{difference:r})},8004:function(e,t,n){var o=n(6518),r=n(9039),i=n(8750),a=n(4916),s=!a("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));o({target:"Set",proto:!0,real:!0,forced:s},{intersection:i})},3853:function(e,t,n){var o=n(6518),r=n(4449),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("isDisjointFrom")},{isDisjointFrom:r})},5876:function(e,t,n){var o=n(6518),r=n(3838),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("isSubsetOf")},{isSubsetOf:r})},2475:function(e,t,n){var o=n(6518),r=n(8527),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("isSupersetOf")},{isSupersetOf:r})},5024:function(e,t,n){var o=n(6518),r=n(3650),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("symmetricDifference")},{symmetricDifference:r})},1698:function(e,t,n){var o=n(6518),r=n(4204),i=n(4916);o({target:"Set",proto:!0,real:!0,forced:!i("union")},{union:r})},7467:function(e,t,n){var o=n(7628),r=n(4644),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=r.getTypedArrayConstructor;a("toReversed",(function(){return o(i(this),s(this))}))},4732:function(e,t,n){var o=n(4644),r=n(9504),i=n(9306),a=n(5370),s=o.aTypedArray,u=o.getTypedArrayConstructor,c=o.exportTypedArrayMethod,l=r(o.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&i(e);var t=s(this),n=a(u(t),t);return l(n,e)}))},9577:function(e,t,n){var o=n(9928),r=n(4644),i=n(1108),a=n(1291),s=n(5854),u=r.aTypedArray,c=r.getTypedArrayConstructor,l=r.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=u(this),r=a(e),l=i(n)?s(t):+t;return o(n,c(n),r,l)}}["with"],!d)},3375:function(e,t,n){n(7642)},9225:function(e,t,n){n(8004)},3972:function(e,t,n){n(3853)},9209:function(e,t,n){n(5876)},5714:function(e,t,n){n(2475)},7561:function(e,t,n){n(5024)},6197:function(e,t,n){n(1698)},4979:function(e,t,n){var o=n(6518),r=n(4475),i=n(7751),a=n(6980),s=n(4913).f,u=n(9297),c=n(679),l=n(3167),d=n(2603),f=n(5002),p=n(6193),m=n(3724),h=n(6395),g="DOMException",v=i("Error"),y=i(g),b=function(){c(this,A);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),o=new y(t,n),r=new v(t);return r.name=g,s(o,"stack",a(1,p(r.stack,1))),l(o,this,b),o},A=b.prototype=y.prototype,w="stack"in new v(g),_="stack"in new y(1,2),C=y&&m&&Object.getOwnPropertyDescriptor(r,g),E=!!C&&!(C.writable&&C.configurable),S=w&&!E&&!_;o({global:!0,constructor:!0,forced:h||S},{DOMException:S?b:y});var P=i(g),k=P.prototype;if(k.constructor!==P)for(var T in h||s(k,"constructor",a(1,P)),f)if(u(f,T)){var M=f[T],x=M.s;u(P,x)||s(P,x,a(6,M.c))}},1678:function(e,t,n){var o=n(6395),r=n(6518),i=n(4475),a=n(7751),s=n(9504),u=n(9039),c=n(3392),l=n(4901),d=n(3517),f=n(4117),p=n(34),m=n(757),h=n(2652),g=n(8551),v=n(6955),y=n(9297),b=n(4659),A=n(6699),w=n(6198),_=n(2812),C=n(1034),E=n(2248),S=n(4402),P=n(8469),k=n(4483),T=n(6249),M=n(1548),x=i.Object,O=i.Array,L=i.Date,R=i.Error,I=i.TypeError,N=i.PerformanceMark,B=a("DOMException"),D=E.Map,U=E.has,F=E.get,W=E.set,V=S.Set,j=S.add,q=S.has,H=a("Object","keys"),G=s([].push),K=s((!0).valueOf),Z=s(1..valueOf),z=s("".valueOf),$=s(L.prototype.getTime),Q=c("structuredClone"),Y="DataCloneError",X="Transferring",J=function(e){return!u((function(){var t=new i.Set([7]),n=e(t),o=e(x(7));return n===t||!n.has(7)||!p(o)||7!==+o}))&&e},ee=function(e,t){return!u((function(){var n=new t,o=e({a:n,b:n});return!(o&&o.a===o.b&&o.a instanceof t&&o.a.stack===n.stack)}))},te=function(e){return!u((function(){var t=e(new i.AggregateError([1],Q,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Q||3!==t.cause}))},ne=i.structuredClone,oe=o||!ee(ne,R)||!ee(ne,B)||!te(ne),re=!ne&&J((function(e){return new N(Q,{detail:e}).detail})),ie=J(ne)||re,ae=function(e){throw new B("Uncloneable type: "+e,Y)},se=function(e,t){throw new B((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Y)},ue=function(e,t){return ie||se(t),ie(e)},ce=function(){var e;try{e=new i.DataTransfer}catch(t){try{e=new i.ClipboardEvent("").clipboardData}catch(n){}}return e&&e.items&&e.files?e:null},le=function(e,t,n){if(U(t,e))return F(t,e);var o,r,a,s,u,c,d=n||v(e);if("SharedArrayBuffer"===d)o=ie?ie(e):e;else{var f=i.DataView;f||l(e.slice)||se("ArrayBuffer");try{if(l(e.slice)&&!e.resizable)o=e.slice(0);else{r=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,o=new ArrayBuffer(r,a),s=new f(e),u=new f(o);for(c=0;c<r;c++)u.setUint8(c,s.getUint8(c))}}catch(p){throw new B("ArrayBuffer is detached",Y)}}return W(t,e,o),o},de=function(e,t,n,o,r){var a=i[t];return p(a)||se(t),new a(le(e.buffer,r),n,o)},fe=function(e,t){if(m(e)&&ae("Symbol"),!p(e))return e;if(t){if(U(t,e))return F(t,e)}else t=new D;var n,o,r,s,u,c,d,f,h=v(e);switch(h){case"Array":r=O(w(e));break;case"Object":r={};break;case"Map":r=new D;break;case"Set":r=new V;break;case"RegExp":r=new RegExp(e.source,C(e));break;case"Error":switch(o=e.name,o){case"AggregateError":r=new(a(o))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":r=new(a(o));break;case"CompileError":case"LinkError":case"RuntimeError":r=new(a("WebAssembly",o));break;default:r=new R}break;case"DOMException":r=new B(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":r=le(e,t,h);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===h?e.byteLength:e.length,r=de(e,h,e.byteOffset,c,t);break;case"DOMQuad":try{r=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(g){r=ue(e,h)}break;case"File":if(ie)try{r=ie(e),v(r)!==h&&(r=void 0)}catch(g){}if(!r)try{r=new File([e],e.name,e)}catch(g){}r||se(h);break;case"FileList":if(s=ce(),s){for(u=0,c=w(e);u<c;u++)s.items.add(fe(e[u],t));r=s.files}else r=ue(e,h);break;case"ImageData":try{r=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(g){r=ue(e,h)}break;default:if(ie)r=ie(e);else switch(h){case"BigInt":r=x(e.valueOf());break;case"Boolean":r=x(K(e));break;case"Number":r=x(Z(e));break;case"String":r=x(z(e));break;case"Date":r=new L($(e));break;case"Blob":try{r=e.slice(0,e.size,e.type)}catch(g){se(h)}break;case"DOMPoint":case"DOMPointReadOnly":n=i[h];try{r=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(g){se(h)}break;case"DOMRect":case"DOMRectReadOnly":n=i[h];try{r=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(g){se(h)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=i[h];try{r=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(g){se(h)}break;case"AudioData":case"VideoFrame":l(e.clone)||se(h);try{r=e.clone()}catch(g){ae(h)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":se(h);default:ae(h)}}switch(W(t,e,r),h){case"Array":case"Object":for(d=H(e),u=0,c=w(d);u<c;u++)f=d[u],b(r,f,fe(e[f],t));break;case"Map":e.forEach((function(e,n){W(r,fe(n,t),fe(e,t))}));break;case"Set":e.forEach((function(e){j(r,fe(e,t))}));break;case"Error":A(r,"message",fe(e.message,t)),y(e,"cause")&&A(r,"cause",fe(e.cause,t)),"AggregateError"===o?r.errors=fe(e.errors,t):"SuppressedError"===o&&(r.error=fe(e.error,t),r.suppressed=fe(e.suppressed,t));case"DOMException":T&&A(r,"stack",fe(e.stack,t))}return r},pe=function(e,t){if(!p(e))throw new I("Transfer option cannot be converted to a sequence");var n=[];h(e,(function(e){G(n,g(e))}));var o,r,a,s,u,c,f=0,m=w(n),y=new V;while(f<m){if(o=n[f++],r=v(o),"ArrayBuffer"===r?q(y,o):U(t,o))throw new B("Duplicate transferable",Y);if("ArrayBuffer"!==r){if(M)s=ne(o,{transfer:[o]});else switch(r){case"ImageBitmap":a=i.OffscreenCanvas,d(a)||se(r,X);try{u=new a(o.width,o.height),c=u.getContext("bitmaprenderer"),c.transferFromImageBitmap(o),s=u.transferToImageBitmap()}catch(b){}break;case"AudioData":case"VideoFrame":l(o.clone)&&l(o.close)||se(r,X);try{s=o.clone(),o.close()}catch(b){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":se(r,X)}if(void 0===s)throw new B("This object cannot be transferred: "+r,Y);W(t,o,s)}else j(y,o)}return y},me=function(e){P(e,(function(e){M?ie(e,{transfer:[e]}):l(e.transfer)?e.transfer():k?k(e):se("ArrayBuffer",X)}))};r({global:!0,enumerable:!0,sham:!M,forced:oe},{structuredClone:function(e){var t,n,o=_(arguments.length,1)>1&&!f(arguments[1])?g(arguments[1]):void 0,r=o?o.transfer:void 0;void 0!==r&&(t=new D,n=pe(r,t));var i=fe(e,t);return n&&me(n),i}})},4603:function(e,t,n){var o=n(6840),r=n(9504),i=n(655),a=n(2812),s=URLSearchParams,u=s.prototype,c=r(u.append),l=r(u["delete"]),d=r(u.forEach),f=r([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&o(u,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var o=[];d(this,(function(e,t){f(o,{key:t,value:e})})),a(t,1);var r,s=i(e),u=i(n),p=0,m=0,h=!1,g=o.length;while(p<g)r=o[p++],h||r.key===s?(h=!0,l(this,r.key)):m++;while(m<g)r=o[m++],r.key===s&&r.value===u||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,n){var o=n(6840),r=n(9504),i=n(655),a=n(2812),s=URLSearchParams,u=s.prototype,c=r(u.getAll),l=r(u.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||o(u,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var o=c(this,e);a(t,1);var r=i(n),s=0;while(s<o.length)if(o[s++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,n){var o=n(3724),r=n(9504),i=n(2106),a=URLSearchParams.prototype,s=r(a.forEach);o&&!("size"in a)&&i(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},24:function(e,t,n){function o(...e){return function(t,n){return e.every((e=>e(t,n)))}}n.d(t,{l:function(){return o}})},8696:function(e,t,n){function o({color:e,type:t,opacity:n,square:o,turn:r}){return{data:{color:e,opacity:n,square:o,turn:r,type:t},key:`${t}|${o}`,type:"highlight"}}n.d(t,{t:function(){return o}})},8873:function(e,t,n){var o;n.d(t,{b:function(){return o}}),(e=>{(e=>{e["PIECE_PERSPECTIVE_UNSPECIFIED"]="PIECE_PERSPECTIVE_UNSPECIFIED",e["TOP_DOWN"]="TOP_DOWN",e["PSEUDO_3D"]="PSEUDO_3D",e["REAL_3D"]="REAL_3D"})(e.Perspective||(e.Perspective={}))})(o||(o={}))},843:function(e,t,n){n.d(t,{y:function(){return r}});n(4114);const o=()=>{};function r(e=!0){let t=[],n=!1;return{add:r,clear:i,flush:a,syncFlush:s,getEntries:u};function r(r,...i){let s,u,c={};"function"===typeof r?(s=r,u=i):(s=i[0],u=i.slice(1),c=r);let l=o,d=o;const f=new Promise(((e,t)=>{d=e,l=t}));return t.push({fn:s,params:u,reject:l,resolve:d,preserved:c.preserved??!1}),e&&!1===n&&a(),f}function i(e={}){n=!1,t=e.persistPreserved?t.filter((e=>e.preserved)):[]}async function a(){const e=t.shift();if(e){n=!0;try{const t=await e.fn(...e.params);return e.resolve(t),a()}catch(o){e.reject(o)}}else n=!1}function s(){const e=t.shift();if(e){n=!0;try{const t=e.fn(...e.params);t instanceof Promise?t.then((t=>e.resolve(t))).catch((t=>e.reject(t))):e.resolve(t),s()}catch(o){e.reject(o)}}else n=!1}function u(){return t}}},9501:function(e,t,n){n.d(t,{B:function(){return u},C:function(){return s}});n(4114);var o=n(7535),r=n(8696),i=n(5929),a=n(43);const s="move";function u(e,t){const{api:n,options:u}=t,c=[];if(!u||!u.highlightMoves)return c;const l=n.getSelectedNode();return l?([l.from,(0,a.v)(l)].forEach((e=>{var t,n;if(!e)return;const a=(0,r.t)({color:(null==(t=u.themeAssets)?void 0:t.board.config.highlightSquareHex)??u.highlightColor??(null==(n=(0,i.dn)(u.boardStyle))?void 0:n.highlightColor)??o.b.HighlightColors.Selected,opacity:u.highlightOpacity,square:e,turn:l.color,type:s});c.push(a)})),c):c}},3013:function(e,t,n){n.d(t,{g:function(){return r},i:function(){return o}});var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}},225:function(e,t,n){n.d(t,{p:function(){return r}});n(9479);var o=n(2071);function r(e){return e.flags===o.Z.Move.Flags.AnyCastle||e.flags===o.Z.Move.Flags.KingsideCastle||e.flags===o.Z.Move.Flags.QueensideCastle}},6278:function(e,t,n){function o(e){var t;const n=null==(t=null==e?void 0:e.assetPaths)?void 0:t.basePath;return n||"https://www.chess.com"}n.d(t,{L:function(){return o}})},8573:function(e,t,n){n.d(t,{n:function(){return r}});var o=n(6352);const r=[o.i.APIEvents.CreateGame,o.i.APIEvents.CreateContinuation,o.i.APIEvents.DeletePosition,o.i.APIEvents.Load,o.i.APIEvents.Move,o.i.APIEvents.MoveBackward,o.i.APIEvents.MoveForward,o.i.APIEvents.MoveVariation,o.i.APIEvents.PromoteVariation,o.i.APIEvents.SelectLineEnd,o.i.APIEvents.SelectLineStart,o.i.APIEvents.SelectNode,o.i.APIEvents.Reload,o.i.APIEvents.ResetToMainLine,o.i.APIEvents.Undo]},6852:function(e,t,n){var o;n.d(t,{Rc:function(){return i},dc:function(){return o},kx:function(){return r}}),(e=>{(e=>{e.Name="effects"})(e.Plugin||(e.Plugin={})),(e=>{e["Normal"]="18.75%",e["Large"]="24.5%"})(e.BadgeSize||(e.BadgeSize={})),(e=>{e["FlyoutEffectBegin"]="FlyoutEffectBegin",e["FlyoutEffectEnd"]="FlyoutEffectEnd",e["FadeOutEffectBegin"]="FadeOutEffectBegin",e["FadeOutEffectEnd"]="FadeOutEffectEnd"})(e.Events||(e.Events={}))})(o||(o={}));const r="effect";var i=(e=>(e["Abandon"]="Abandon",e["Alternative"]="Alternative",e["BestMove"]="BestMove",e["Blunder"]="Blunder",e["Book"]="Book",e["Brilliant"]="Brilliant",e["BughouseWhite"]="BughouseWhite",e["BughouseBlack"]="BughouseBlack",e["CheckmateBlack"]="CheckmateBlack",e["CheckmateWhite"]="CheckmateWhite",e["Correct"]="Correct",e["Critical"]="Critical",e["Custom"]="Custom",e["DefeatBlack"]="DefeatBlack",e["DefeatWhite"]="DefeatWhite",e["DrawBlack"]="DrawBlack",e["DrawWhite"]="DrawWhite",e["Excellent"]="Excellent",e["FastWin"]="FastWin",e["Forced"]="Forced",e["FreePiece"]="FreePiece",e["Gamechanger"]="Gamechanger",e["Good"]="Good",e["GreatFind"]="GreatFind",e["Inaccuracy"]="Inaccuracy",e["Incorrect"]="Incorrect",e["Mate"]="Mate",e["Miss"]="Miss",e["MissedWin"]="MissedWin",e["Mistake"]="Mistake",e["ResignBlack"]="ResignBlack",e["ResignWhite"]="ResignWhite",e["Sharp"]="Sharp",e["Stalemate"]="Stalemate",e["Takeback"]="Takeback",e["Threat"]="Threat",e["TimeoutBlack"]="TimeoutBlack",e["TimeoutWhite"]="TimeoutWhite",e["Undo"]="Undo",e["Winner"]="Winner",e["WinnerWhite"]="WinnerWhite",e["Interesting"]="Interesting",e["Warning"]="Warning",e["Equal"]="Equal",e))(i||{})},43:function(e,t,n){function o(e){return e.kingTo??e.to}n.d(t,{v:function(){return o}})},7621:function(e,t,n){function o(e){var t;return(null==(t=e.commands)?void 0:t.timestamp)?parseInt(e.commands.timestamp,10):null}n.d(t,{H:function(){return o}})},9664:function(e,t,n){n.d(t,{J:function(){return Gi}});var o=n(6352),r=n(5437),i=n(2071);function a(e,t=1){const n=(null==e?void 0:e.moveNumber)??0,o=null==e?void 0:e.color,r=n%2===0&&o===i.Z.ColorsAsNumbers.Black||n%2!==0&&o===i.Z.ColorsAsNumbers.White,a=t+Math.floor(n/2)+(r&&o===i.Z.ColorsAsNumbers.White?1:0);return a}function s({move:e,startingMoveNumber:t}){if(!e)return null;const n=a(e,t);return{...e,ply:e.ids.move+1,wholeMoveNumber:n}}var u=n(2989);const c=1;function l({baseTimeDs:e,incrementDs:t,lastTimeDs:n,currentTimeDs:o}){if(!o)return c;const r=n??e,i=o-t,a=r-i;return Math.max(a,c)}function d({api:e,node:t}){const n=e.getNodeByIds({move:t.ids.move-2,line:t.ids.line});return n}function f({api:e,node:t}){const n=e.getLine(0),o=e.timeControl.get();if(!n||!o)return null;const r=t.time,i=d({api:e,node:t}),a=null==i?void 0:i.time,{baseTime:s,increment:c}=o;return l({baseTimeDs:(0,u.y)(s),incrementDs:(0,u.y)(c),lastTimeDs:a,currentTimeDs:r})}function p(e){const t=Math.floor(e%36e3/600),n=Math.floor(e%36e3%600)/10;return`${Math.floor(e/36e3)}:${t<10?"0":""}${t}:${n<10?"0":""}${n}`}function m({api:e,node:t,clk:n}){const{line:o,move:r}=t.ids,i=e.getContext().game;t.commands||(t.commands={}),i.updateNode({commands:Object.assign(t.commands,{clk:null===n?n:p(n)})},r,o)}function h({api:e,node:t,timestamp:n}){var r;const{game:i,respond:a}=e.getContext(),{line:s,move:u}=t.ids;if(null===n)return(null==(r=t.commands)?void 0:r.timestamp)&&delete t.commands.timestamp,a(o.i.APIEvents.NodeUpdated,{changes:{timestamp:n,node:t}});t.commands||(t.commands={}),i.updateNode({commands:Object.assign(t.commands,{timestamp:`${n}`})},u,s)}function g({context:e,time:t}){const{api:n,game:o}=e,r=o.moveDetails();r.time=t,m({api:n,node:r,clk:t});const i=f({api:n,node:r});i&&h({api:n,node:r,timestamp:i})}var v=n(8282);function y(e){return function(t,n=0){const{api:r,game:i,mutateGame:a,respond:u}=e,{ids:c}=r.getSelectedNode()??{ids:{move:-1,line:0}},{move:l,line:d}=c;i.selectLineEnd(n);const f=(0,v.B)(t,r.getFEN(),r.getVariant()),p=null!==f?a((function(){i.move(f,!1),f.time&&g({context:e,time:f.time})})):null;return i.selectPosition(l,d),null===p?u(o.i.APIEvents.IllegalMove,{fen:i.fen(),move:f}):(p.move=s({move:p.move,startingMoveNumber:i.startingMoveNumber()})||void 0,u(o.i.APIEvents.AddMove,{listMove:p.move}))}}var b=n(6559);function A(e){return function(){const{api:t,respond:n}=e;if(t.isGameOver())return null;const r=i.Z.Results.Draw,a=b.k.Translation.GameTerminationMessages.DrawByAgreement;return t.setGameDetails({Result:r,Termination:a}),n(o.i.APIEvents.DrawAgreed)}}var w=n(859);function _(e){return function(t){const{respond:n}=e,r={data:t,type:w.R};return n(o.i.APIEvents.BlinkHighlight,[r])}}function C(e){const{move:t,followContinuations:n=!0,steps:o=1,context:r}=e,{mutateGame:i,game:a}=r,s=a.ids(),u=i((function(){a.moveForward(n,t)}));let c=1===(null==u?void 0:u.plyDiff);if(o>1&&c)for(let d=1;d<o;d++)if(c=a.moveForward(n),!c)break;const l=a.ids();return a.selectPosition(s.move,s.line),{firstStepData:u,startIds:s,endIds:l,success:c}}function E(e){return function(t){const{move:n,followContinuations:o,steps:r}=t??{},{success:i}=C({context:e,move:n,followContinuations:o,steps:r});return i}}function S(e){return e.inThreefoldRepetition()||e.in50MoveRule()}function P(e){return function(){const{api:t,game:n}=e;return t.isGameOver()?null:S(n)?(t.setResult(i.Z.Results.Draw),e.respond(o.i.APIEvents.DrawClaimed)):null}}const k={ClearMarkings:T("clearMarkings","api.markings.removeAll/removeAllWhere/removeMany/removeOne"),Mark:T("mark","api.markings.addOne/addMany"),ToggleMarking:T("toggleMarking","api.markings.toggleOne/toggleMany"),Unmark:T("unmark","api.markings.removeOne/removeMany")};function T(e,t){return`The "${e}" method is deprecated and will be removed in v2.0.0. Please use the ${t} methods instead.`}function M(e){return function(t,n={}){console.warn(k.ClearMarkings);const{api:r,respond:i}=e,a=r.markings,s=null==t?void 0:t.map((e=>"square"===e?"highlight":e));return a.removeAllWhere({...n,types:s}),i(o.i.APIEvents.ClearMarkings)}}function x(e){return function(){const{api:t,game:n,respond:r}=e,i=n._getPos();if("initial"in i)return null;n.createVariation(),n.move(i);const a=t.getRelativeNode();return r(o.i.APIEvents.CreateContinuation,{node:a})}}function O(e){return function(t,n){const{api:r,game:a,respond:s}=e,u=r.getRawLines()[n];return a.deletePosition(t,n),0===n&&r.getResult()!==i.Z.Results.None&&r.setResult(i.Z.Results.None),s(o.i.APIEvents.DeletePosition,{ids:{line:n,move:t},line:u,pieces:r.getPieces()})}}var L=n(5142);function R(e){const t={};return function(n,o){const r=Object.entries(o).map((([o,r])=>{if(r)return t[o]||(t[o]={extensions:{},original:e.api[o]}),e.api[o]=r(e),t[o].extensions[n]=r,function(){delete t[o].extensions[n],e.api[o]=t[o].original,Object.keys(t[o].extensions).map((n=>e.api[o]=t[o].extensions[n](e)))}}));return function(){r.map((e=>e&&e()))}}}function I(e){return e.inCheckmate()||Boolean(e.isVariantWin())||Boolean(e.isBughouseWin())}function N(e){return function(){const{api:t,game:n}=e;let o=i.Z.Results.None;const r=S(n);return I(n)?o=n.turn()===i.Z.ColorsAsNumbers.Black?i.Z.Results.White:i.Z.Results.Black:(r&&t.getOptions().autoClaimDraw||!r&&n.inDraw())&&(o=i.Z.Results.Draw),o}}function B(e){return function(){return e}}function D(e){return function(){const{game:t}=e;return t.history({toCurrent:!0,verbose:!0})}}function U(e){return function(){const{game:t}=e;return t.fen()}}var F=n(8387);function W(e){return function(){return F.A.gameFingerprints({game:e.game,analysis:!0})}}function V(e){return function(){const{game:t}=e;return t.headers()}}function j(e){return-1===e}function q(e){return function(t=!1){const{game:n}=e,o=n._getPos();return o.ids&&0===o.ids.line&&j(o.ids.move)&&o.fen?[o.fen]:n.history({toCurrent:!t,verbose:!0}).map((e=>e.fen))}}function H(e){return function(){const{game:t}=e;return t.history(!1)}}n(4114);function G(e){return function(){var t;const{api:n}=e,o=(null==(t=n.premoves)?void 0:t.getQueue())||[],r=F.A.createGame({pgn:n.getPGN(),analysis:!0,timestamps:n.times.get()||n.timestamps.get()||void 0});if(!r)throw new Error("Unable to create JCE game copy");return r.premove.queue.push(...o),r}}function K(e){return function(){const{game:t}=e;return s({move:t.history(!0).slice(-1)[0],startingMoveNumber:t.startingMoveNumber()})??void 0}}function Z(e){return function(){const{game:t}=e;return F.A.getLegalMoves({game:t})}}n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);function z(e){return[...new Set(e)]}function $(e){return function(t){return z(e.api.getLegalMoves().filter((e=>"undefined"===typeof t||e.from===t)).map((e=>e.to)))}}function Q(e){function t(t){const{game:n}=e,o=n.startingMoveNumber(),r=e.api.getRawLines()[t];if(r)return r.forEach(((e,t)=>{const n=s({move:e,startingMoveNumber:o});r[t]=n})),r;if(0===t)throw new Error("Expected a main line")}return t}var Y=(e=>(e["Alt"]="alt",e["Ctrl"]="ctrl",e["None"]="none",e["Shift"]="shift",e))(Y||{});function X(e){return e.reduce(((e,t,n,o)=>{if(n%2===0)return e;const r=o[n-1];return e[r]=t,e}),{})}function J(e,t){const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const{data:t}=e[r];n[r]={};for(let e=0;e<t.length;e+=2){const o=t[e],i=t[e+1];n[r][o]=ee(i)}}const o=t?n[t]||{}:n;return 0===Object.keys(o).length?void 0:o}function ee(e){return"true"===e||"false"!==e&&("undefined"!==e?e:void 0)}var te=(e=>(e["Alt"]="a",e["Ctrl"]="l",e["Custom"]="c",e["Default"]="d",e["Shift"]="s",e))(te||{});function ne(e){const{color:t,data:n=[],type:o}=e,r=X(n);Object.keys(r).forEach((e=>{r[e]=ee(decodeURIComponent(r[e]))}));const{persistent:i,...a}=r,s={key:oe(e.key,e.type),node:!0,data:{...a,keyPressed:a.keyPressed??re(t)},type:o};return"undefined"!==typeof i&&(s.persistent=i),s}function oe(e,t){return`${t}|${e}`}function re(e){switch(e){case"a":return Y.Alt;case"d":return Y.None;case"s":return Y.Shift;case"l":return Y.Ctrl;default:return}}function ie(e){const t={[i.Z.Node.Marking.Types.Arrow]:{},[i.Z.Node.Marking.Types.CustomItem]:{},[i.Z.Node.Marking.Types.Effect]:{},[i.Z.Node.Marking.Types.Square]:{}},n=e.map((e=>({markingType:"highlight"===e.type?"square":e.type,key:e.data.square??`${e.data.from}${e.data.to}`,color:te.Default,...e.data})));return n.reduce(((e,t)=>{const{key:n,markingType:o}=t;return e[o][n]=t,e}),t)}function ae(e){return function(){const{api:t}=e,n=t.markings;return ie(n.getAll())}}function se(e){return function(){const{game:t}=e;return t.material()}}function ue(e){return function(t){const{game:n}=e;if(null===t.to)return null;let o=n.getMove(t);return null===o&&(Object.assign(t,{promotion:"q"}),o=n.getMove(t)),o&&(o=n.moveDetails(o)),o}}function ce(e){return function(t){const{api:n,game:o}=e,r=n.getRawLines()[t.line];return r&&-1!==t.move?s({move:r[t.move],startingMoveNumber:o.startingMoveNumber()}):null}}function le(e,t){return t.ids.line-e.ids.line}function de(e){const{moveNumber:t}=e;return"undefined"!==typeof t?t:-1}function fe(e,t){return de(t)-de(e)}n(9479);function pe(e){if(e.flags===i.Z.Move.Flags.EPCapture&&e.from)return`${e.to.slice(0,1)}${e.from.slice(-1)}`}function me(e){const t={...e,EPCapturedSquare:pe(e)};return e.rookFrom&&e.rookTo&&(t.rookMove={animate:!0,from:e.rookFrom,to:e.rookTo}),t}function he(e){return function(t,n){const{api:o,game:r}=e,i=n??r._getPos(),a=t??r._getPos(-1,0),s={};return s.plyDiff=fe(a,i),s.lineDiff=le(a,i),-1===s.plyDiff?s.move=me({...t,animate:!0}):1===s.plyDiff?(s.animate=!0,s.move=me({...i,animate:!0})):s.pieces=o.getPieces(),s}}function ge(e){return function(){const{game:t}=e;return t.ids()}}var ve=n(9466);function ye(e){return function(){const{game:t}=e;return(0,ve.N)(t.getPieces(!0))}}function be(e){return function(t={}){const{game:n}=e;return n.pgn({...t,useResultHeader:!0})}}function Ae(e){return function(t){const{game:n}=e;return n.get(t)}}function we(e){return function(t,n){const{game:o}=e;return o._getPos(t,n)}}function _e(e){return function(t){const n=e.api.getPGN();return F.A.getPositionDetails({pgn:n},t)}}function Ce(e){return void 0!==e.color}function Ee(e){return function(t=[],n,o){const{api:r}=e,a=n??{game:e.game,analysis:!0},s=i.Z.JCEVariantTypes[r.getVariant()],u=F.A.getPositionInfo(a,t,{variant:s});if("object"===typeof u){const n=e.game.header().Termination,a={...u,...Se(n,o),gameOver:r.isGameOver()||u.gameOver,draw:r.getResult()===i.Z.Results.Draw||u.draw};if("string"!==typeof t){const e=t[t.length-1];void 0!==e&&Ce(e)&&(a.lastMoveColor=e.color)}return a}return!1}}function Se(e,t){return t?{drawByAgreement:e===t.drawByAgreement,timeoutVsInsufficientMaterial:e===t.timeoutVsInsufficientMaterial}:{}}function Pe(e){return function(){const{game:t}=e;return t._lines()}}function ke(e){return function(t=0){const{game:n}=e,o={...n.ids()};o.move+=t;const r=e.api.getRawLines()[o.line];return j(o.move)?r:s({move:r[o.move],startingMoveNumber:n.startingMoveNumber()})}}function Te(e){return function(){const{game:t}=e;return t.headers().Result}}function Me(e){return function(){const{api:t,game:n}=e,o=n.ids();if(j(o.move))return null;const r=t.getRawLines()[o.line];return s({move:r[o.move],startingMoveNumber:n.startingMoveNumber()})}}function xe(e){return function(){const{game:t}=e;return F.A.encodeTCN(t.history(!0))}}function Oe(e){return function(){const{game:t}=e;return t.turn()}}const Le={"3-check":i.Z.Variants.ThreeCheck,Bughouse:i.Z.Variants.Bughouse,Chess:i.Z.Variants.Chess,Chess960:i.Z.Variants.Chess960,Crazyhouse:i.Z.Variants.Crazyhouse,"King of the Hill":i.Z.Variants.KingOfTheHill};function Re(e){return function(){const{api:t}=e,n=t.getHeaders().Variant;return n?Le[n]??i.Z.Variants.Chess:i.Z.Variants.Chess}}function Ie(e){return function(){const{game:t}=e,n=t.ids(),o=e.api.getRawLines()[n.line];return o.length-1===n.move}}function Ne(e){return function(){const{game:t}=e;if(t.inCheck()){const n=e.api.getPieces();return n.keys().filter((e=>{const o=n.get(e);return"k"===o.type&&o.color===t.turn()}))[0]}return!1}}function Be(e){return function(){const{api:t}=e;return"*"!==t.getResult()}}function De(e){return function(t){const{game:n}=e;return null!==n.getMove(t)}}var Ue,Fe,We,Ve=n(3825);function je(e,t){if(t&&e){const n=(0,u.y)(e.baseTime),o=(0,u.y)(e.increment);return t.map(((e,r)=>"number"!==typeof e?e:l({baseTimeDs:n,incrementDs:o,lastTimeDs:r<=1?void 0:t[r-2],currentTimeDs:e})))}return t}(e=>{(e=>{e["ClearAnalysis"]="ClearAnalysis",e["DeleteComment"]="DeleteComment",e["DeleteCommentBefore"]="DeleteCommentBefore",e["DeleteMove"]="DeleteMove",e["DeleteVariation"]="DeleteVariation",e["InsertComment"]="InsertComment",e["InsertCommentBefore"]="InsertCommentBefore",e["InsertContinuation"]="InsertContinuation",e["MoveVariationDown"]="MoveVariationDown",e["MoveVariationUp"]="MoveVariationUp",e["PromoteVariation"]="PromoteVariation",e["RemoveAnnotation"]="RemoveAnnotation",e["RemoveBegin"]="RemoveBegin",e["RemoveEnd"]="RemoveEnd",e["RemoveAdditionalAnnotation"]="RemoveAdditionalAnnotation",e["RemoveFocus"]="RemoveFocus",e["SetBegin"]="SetBegin",e["SetEnd"]="SetEnd",e["SetFocus"]="SetFocus"})(e.Actions||(e.Actions={})),(e=>{e["AddAnnotation"]="AddAnnotation",e["AddAdditionalAnnotation"]="AddAdditionalAnnotation"})(e.AnnotationActions||(e.AnnotationActions={})),(e=>{e["Actions"]="actions",e["Translations"]="translations"})(e.Keys||(e.Keys={})),(e=>{e["ActionClicked"]="action-clicked",e["AnnotationClicked"]="annotation-clicked",e["Close"]="close-context-menu"})(e.Events||(e.Events={})),(e=>{e.Name="contextMenu"})(e.Plugin||(e.Plugin={}))})(Ue||(Ue={})),(e=>{(e=>{e["ActionName"]="action-name",e["Annotation"]="annotation",e["AnnotationsContainer"]="annotations-container",e["Component"]="move-node-context-menu",e["Divider"]="divider"})(e.Classes||(e.Classes={}))})(Fe||(Fe={})),(e=>{(e=>{e["$1"]="$1",e["$2"]="$2",e["$3"]="$3",e["$4"]="$4",e["$5"]="$5",e["$6"]="$6",e["$8"]="$8",e["$9"]="$9",e["$10"]="$10",e["$11"]="$11",e["$12"]="$12",e["$13"]="$13",e["$14"]="$14",e["$15"]="$15",e["$16"]="$16",e["$17"]="$17",e["$18"]="$18",e["$19"]="$19",e["$22"]="$22",e["$23"]="$23",e["$32"]="$32",e["$33"]="$33",e["$36"]="$36",e["$37"]="$37",e["$40"]="$40",e["$41"]="$41",e["$44"]="$44",e["$45"]="$45",e["$132"]="$132",e["$133"]="$133",e["$138"]="$138",e["$146"]="$146",e["$222"]="$222",e["$256"]="$256"})(e.Nags||(e.Nags={})),(e=>{e["$1"]="!",e["$2"]="?",e["$3"]="!!",e["$4"]="??",e["$5"]="!?",e["$6"]="?!",e["$8"]="□",e["$9"]="☒",e["$10"]="=",e["$11"]="=",e["$12"]="=",e["$13"]="∞",e["$14"]="⩲",e["$15"]="⩱",e["$16"]="±",e["$17"]="∓",e["$18"]="+-",e["$19"]="-+",e["$22"]="⨀",e["$23"]="⨀",e["$32"]="⟳",e["$33"]="⟳",e["$36"]="→",e["$37"]="→",e["$40"]="↑",e["$41"]="↑",e["$44"]="∞/=",e["$45"]="=/∞",e["$132"]="⇆",e["$133"]="⇆",e["$138"]="⊕",e["$146"]="N",e["$222"]="⇈",e["$256"]="=/∞"})(e.Values||(e.Values={})),(e=>{e["GreatFind"]="!",e["Mistake"]="?",e["Brilliant"]="!!",e["Blunder"]="??",e["Interesting"]="!?",e["Inaccuracy"]="?!"})(e.Effects||(e.Effects={})),(e=>{e["Drawish"]="=",e["Unclear"]="∞",e["WhiteHasModerateAdvantage"]="±",e["BlackHasModerateAdvantage"]="∓",e["WhiteHasDecisiveAdvantage"]="+-",e["BlackHasDecisiveAdvantage"]="-+",e["PositionInZugzwang"]="⨀",e["WithCompensation"]="↑",e["Novelty"]="N",e["WithAttack"]="=/∞"})(e.Additional||(e.Additional={}))})(We||(We={}));const qe={AddAnnotation:"AddAnnotation",AddComment:"AddComment",AddCommentBefore:"AddCommentBefore",DeleteCommentAfter:"DeleteCommentAfter",DeleteCommentBefore:"DeleteCommentBefore",AddAdditionalAnnotation:"AddAdditionalAnnotation",HideAllAnnotations:"HideAllAnnotations",ShowAllAnnotations:"ShowAllAnnotations",RemoveAnnotation:"RemoveAnnotation",DeleteVariation:"DeleteVariation",PromoteVariation:"PromoteVariation",DeleteMove:"DeleteMove",ClearAnalysis:"ClearAnalysis",InsertContinuation:"InsertContinuation",MoveVariationUp:"MoveVariationUp",MoveVariationDown:"MoveVariationDown",RemoveBegin:"RemoveBegin",RemoveEnd:"RemoveEnd",RemoveFocus:"RemoveFocus",SetBegin:"SetBegin",SetEnd:"SetEnd",SetFocus:"SetFocus"},{invertObject:He}=L.ur,Ge={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$9:"☒",$10:"=",$11:"=",$12:"=",$13:"∞",$14:"⩲",$15:"⩱",$16:"±",$17:"∓",$18:"+-",$19:"-+",$22:"⨀",$23:"⨀",$32:"⟳",$33:"⟳",$36:"→",$37:"→",$40:"↑",$41:"↑",$44:"∞/=",$45:"=/∞",$132:"⇆",$133:"⇆",$138:"⊕",$146:"N",$222:"⇈",$256:"=/∞"};He(Ge),Ue.AnnotationActions.AddAnnotation,We.Nags.$1,Ge.$1,b.k.Translation.Annotations.GoodMove,Ue.AnnotationActions.AddAnnotation,We.Nags.$2,Ge.$2,b.k.Translation.Annotations.BadMove,Ue.AnnotationActions.AddAnnotation,We.Nags.$3,Ge.$3,b.k.Translation.Annotations.ExcellentMove,Ue.AnnotationActions.AddAnnotation,We.Nags.$4,Ge.$4,b.k.Translation.Annotations.Blunder,Ue.AnnotationActions.AddAnnotation,We.Nags.$5,Ge.$5,b.k.Translation.Annotations.SpeculativeMove,Ue.AnnotationActions.AddAnnotation,We.Nags.$6,Ge.$6,b.k.Translation.Annotations.DubiousMove,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$9,Ge.$9,b.k.Translation.Annotations.Miss,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$10,Ge.$10,b.k.Translation.Annotations.Drawish,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$13,Ge.$13,b.k.Translation.Annotations.Unclear,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$14,Ge.$14,b.k.Translation.Annotations.WhiteHasSlightAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$15,Ge.$15,b.k.Translation.Annotations.BlackHasSlightAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$16,Ge.$16,b.k.Translation.Annotations.WhiteHasModerateAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$17,Ge.$17,b.k.Translation.Annotations.BlackHasModerateAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$18,Ge.$18,b.k.Translation.Annotations.WhiteHasDecisiveAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$19,Ge.$19,b.k.Translation.Annotations.BlackHasDecisiveAdvantage,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$22,Ge.$22,b.k.Translation.Annotations.PositionInZuqZwang,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$36,Ge.$36,b.k.Translation.Annotations.WithInitiative,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$40,Ge.$40,b.k.Translation.Annotations.WithCompensation,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$146,Ge.$146,b.k.Translation.Annotations.Novelty,Ue.AnnotationActions.AddAdditionalAnnotation,We.Nags.$256,Ge.$256,b.k.Translation.Annotations.WithAttack,qe.AddAnnotation,We.Nags.$3,Ge.$3,b.k.Translation.Annotations.ExcellentMove,qe.AddAnnotation,We.Nags.$1,Ge.$1,b.k.Translation.Annotations.GoodMove,qe.AddAnnotation,We.Nags.$5,Ge.$5,b.k.Translation.Annotations.SpeculativeMove,qe.AddAnnotation,We.Nags.$6,Ge.$6,b.k.Translation.Annotations.DubiousMove,qe.AddAnnotation,We.Nags.$2,Ge.$2,b.k.Translation.Annotations.BadMove,qe.AddAnnotation,We.Nags.$4,Ge.$4,b.k.Translation.Annotations.Blunder,qe.AddAdditionalAnnotation,We.Nags.$9,Ge.$9,b.k.Translation.Annotations.Miss,qe.AddAdditionalAnnotation,We.Nags.$18,Ge.$18,b.k.Translation.Annotations.WhiteHasDecisiveAdvantage,qe.AddAdditionalAnnotation,We.Nags.$16,Ge.$16,b.k.Translation.Annotations.WhiteHasModerateAdvantage,qe.AddAdditionalAnnotation,We.Nags.$14,Ge.$14,b.k.Translation.Annotations.WhiteHasSlightAdvantage,qe.AddAdditionalAnnotation,We.Nags.$10,Ge.$10,b.k.Translation.Annotations.Drawish,qe.AddAdditionalAnnotation,We.Nags.$15,Ge.$15,b.k.Translation.Annotations.BlackHasSlightAdvantage,qe.AddAdditionalAnnotation,We.Nags.$17,Ge.$17,b.k.Translation.Annotations.BlackHasModerateAdvantage,qe.AddAdditionalAnnotation,We.Nags.$19,Ge.$19,b.k.Translation.Annotations.BlackHasDecisiveAdvantage,qe.AddAdditionalAnnotation,We.Nags.$13,Ge.$13,b.k.Translation.Annotations.Unclear,qe.AddAdditionalAnnotation,We.Nags.$45,Ge.$45,b.k.Translation.Annotations.WithCompensation,qe.AddAdditionalAnnotation,We.Nags.$146,Ge.$146,b.k.Translation.Annotations.Novelty,qe.AddAdditionalAnnotation,We.Nags.$22,Ge.$22,b.k.Translation.Annotations.PositionInZuqZwang,qe.AddAdditionalAnnotation,We.Nags.$138,Ge.$138,b.k.Translation.Annotations.TimeTrouble,qe.AddAdditionalAnnotation,We.Nags.$222,Ge.$222,b.k.Translation.Annotations.DevelopmentLead,qe.AddAdditionalAnnotation,We.Nags.$40,Ge.$40,b.k.Translation.Annotations.WithInitiative,qe.AddAdditionalAnnotation,We.Nags.$36,Ge.$36,b.k.Translation.Annotations.WithAttack,qe.AddAdditionalAnnotation,We.Nags.$132,Ge.$132,b.k.Translation.Annotations.Counterplay;function Ke(e){let t=e;return Object.keys(Ge).reverse().forEach((e=>{t=t.replace(new RegExp(`\\${e}`,"gm"),Ge[e])})),t}function Ze(e){return function({fen:t,moves:n,pgn:a,times:s,timestamps:u,timeControl:c,variant:l=i.Z.Variants.Chess,pieces:d},f){const{api:p,game:m,respond:g}=e;let v=!1;const y=m.pgn();if(a){const e=Ke(a);v=m.loadPgn(e)}else t&&(v=m.load(t,l));if((n||""===n)&&(v=m.loadMoves(n,{autoPromote:!0,...f})),!v)throw m.loadPgn(y),new r.V({code:Ve.t.BadData,data:{fen:t,pgn:a},message:"Unable to load with provided data."});const b=p.getLine(0),A=s?je(c||p.timeControl.get(),s):u;A&&b&&b.forEach(((e,t)=>{const n=A[t];void 0!==n&&h({api:p,node:e,timestamp:n})})),c&&p.timeControl.set(c);const w=p.getResult();return p.setResult(w===i.Z.Results.None?p.getCalculatedResult():w),m._lines().forEach((e=>e.forEach((e=>m.moveDetails(e))))),g(o.i.APIEvents.Load,{...F.A.getPositionDetails({game:m,skipValidation:!0}),...F.A.getPositionInfo({analysis:!0,game:m}),line:b,pieces:d??p.getPieces(),variant:l})}}function ze(...e){if(1===e.length)return e[0];const t=new Set;for(const n of e)for(const o of n)e.every((e=>e.has(o)))&&t.add(o);return t}function $e(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t}function Qe({batchCallbacks:e=!0,onEntryAdded:t,onEntryRemoved:n,primaryKey:o="id"}={primaryKey:"id"}){const r=new Map,i=new Map,{flush:a,isBatching:s,stack:u,startBatching:c}=h({added:t,removed:n});function l(n){return e&&s()?u("added")(n):null==t?void 0:t(n)}function d(t){return e&&s()?u("removed")(t):null==n?void 0:n(t)}return{addOne:m,addMany:f(p),batch:f,getAll:g,getManyByTags:A,getMatchingKeys:w,getMap:y,getMany:v,getOne:b,removeAll:f(_),removeMany:f(C),removeManyByTags:f(E),removeOne:S};function f(e){return(...t)=>{c();const n=e(...t);return a(),n}}function p(e,t){const n=e.map(((e,n)=>m(e,null==t?void 0:t[n])));return n}function m(e,t){const n=e[o],a=r.get(n);return a&&(r.delete(n),null==d||d(a)),null==t||t.forEach((e=>{var t;i.get(e)||i.set(e,new Set),null==(t=i.get(e))||t.add(n)})),r.set(n,e),null==l||l(e),n}function h(e){let t=!1;const n=new Map;return Object.entries(e).forEach((([e,t])=>{t&&n.set(e,{callback:t,entries:new Set})})),{flush:i,isBatching(){return t},stack:o,startBatching:r};function o(e){return function(t){var o;null==(o=n.get(e))||o.entries.add(t)}}function r(){t=!0}function i(){n.forEach((e=>{var n;const o=Array.from(e.entries.values());o.length&&(null==(n=e.callback)||n.call(e,o),e.entries.clear()),t=!1}))}}function g(){return Array.from(r.values())}function v(e){return e.map((e=>r.get(e))).filter((e=>void 0!==e))}function y(){return r}function b(e){return r.get(e)}function A(e,t={}){return w(e,t).map((e=>r.get(e))).filter((e=>void 0!==e))}function w(e,t={}){const{matchAll:n}=t,o=e.map((e=>i.get(e))).filter((e=>void 0!==e));let r;return r=n?Array.from(ze(...o)):Array.from($e(...o)),r}function _(){for(const[e,t]of r.entries())null==d||d(t);return r.clear(),i.clear(),!0}function C(e){return e.every(S)}function E(e,t={}){return w(e,t).every((e=>S(e)))}function S(e){var t;const n=r.get(e);n&&(r.delete(e),null==d||d(n));const o=i.entries();for(const[r,a]of o)a.has(e)&&a.delete(e),0===(null==(t=i.get(r))?void 0:t.size)&&i.delete(r);return!0}}function Ye(e){const{node:t,persistent:n,tags:o=[],type:r}=e;return[t?"node":"board",n?"persistent":"temporary",...o,r]}function Xe(e){const{from:t,square:n,to:o}=e.data,r=n?[n]:[t,o];for(const i of r)if(!Je(i))return!1;return!0}function Je(e){return/^([a-h][1-8])$/.test(e)}function et(e,t){const n={a:Object.getOwnPropertyNames(e),b:Object.getOwnPropertyNames(t)};return n.a.length===n.b.length&&n.a.every((n=>e[n]===t[n]))}function tt(e){return Array.isArray(e)?e:[e]}var nt;(e=>{(e=>{e.Name="arrows"})(e.Plugin||(e.Plugin={}))})(nt||(nt={}));const ot="arrow";var rt=n(9895);function it({generateKey:e=at,context:t,onMarkingAdded:n,onMarkingRemoved:o,onMarkingAddedToAlternateNode:r,onMarkingRemovedFromAlternateNode:i}={}){const a=Qe({batchCallbacks:!0,onEntryAdded:n,onEntryRemoved:o,primaryKey:"key"}),s=Qe({batchCallbacks:!0,primaryKey:"id",onEntryAdded:e=>u(e,r),onEntryRemoved:e=>u(e,i)});function u(e,n){const o=tt(e),r=null==t?void 0:t.api.getPosition();(null==r?void 0:r.ids)||null==n||n(o);const i=o.filter((e=>{const t=st(e);return(null==t?void 0:t.move)!==(null==r?void 0:r.ids.move)||(null==t?void 0:t.line)!==(null==r?void 0:r.ids.line)}));i.length&&(null==n||n(i))}return{addOne:d,addMany:c,getMany:a.getMany,getAll:a.getAll,getAllWhere:m,getOne:a.getOne,removeAll:a.removeAll,removeAllWhere:g,removeOne:p,removeMany:f,toggleMany:v,toggleOne:y,factory:{buildStandardAnalysisHighlight:_,buildStandardArrow:C}};function c(e){return l(e)}function l(e){return e.map(d)}function d(e){if(!Xe(e))return null;const n=Ye(e),o=null==t?void 0:t.api.getPosition();if(e.node&&"object"===typeof e.node){const{move:t,line:r}=e.node,i=A(b(e),{move:t,line:r});s.addOne(i,n);const a=(null==o?void 0:o.ids.move)===e.node.move&&(null==o?void 0:o.ids.line)===e.node.line;if(!a)return i.key;e.node=!0}const r=e.node?null==o?void 0:o.ids:void 0;return a.addOne(A(b(e),r),n)}function f(e){return e.every(p)}function p(e,t){if("string"!==typeof e&&e.node&&"object"===typeof e.node)return p(e.key,e.node),!1;if(t&&"object"===typeof t){const{move:n,line:o}=t;s.removeOne(`${e}-(${n})|(${o})`)}return"string"===typeof e&&a.removeOne(e)}function m(e={}){return h(e).map((e=>a.getMap().get(e))).filter(Boolean)}function h(e={}){const{node:t,persistent:n,tags:o,types:r}=e;let i,s;void 0!==t&&(i=t?"node":"board"),void 0!==n&&(s=n?"persistent":"temporary");const u=[i,s,o,r].filter((e=>void 0!==e));if(!u.length)return Array.from(a.getMap().keys());const c=u.map(tt).map((e=>new Set(a.getMatchingKeys(e))));return Array.from(ze(...c))}function g(e={}){var t;return 0===(null==(t=e.types)?void 0:t.length)&&(e.types=void 0),a.removeMany(h(e))}function v(e){return e.map(y)}function y(e){const t=b(e),n=a.getOne(t.key);return n&&et(n.data,t.data)?a.removeOne(t.key):d(t)}function b(t){return{...t,key:t.key||e(t)}}function A(e,t){return{...e,id:t?`${e.key}-(${t.move})|(${t.line})`:e.key}}function _(e,n=Y.None){const o=(null==t?void 0:t.api.getOptions)?null==t?void 0:t.api.getOptions():(0,rt.q)();return{data:{keyPressed:n,opacity:o.analysisHighlightOpacity,square:e},node:!0,persistent:!1,type:w.R}}function C(e,n,o=Y.None){const r=(null==t?void 0:t.api.getOptions)?null==t?void 0:t.api.getOptions():(0,rt.q)();return{data:{keyPressed:o,from:e,opacity:r.analysisHighlightOpacity,to:n},node:!0,persistent:!1,type:ot}}}function at(e){const{data:{from:t,square:n,to:o},type:r}=e;if(!n&&(!t||!o))throw new Error('Markings that do not have a "square" property must provide a "from" and "to"');const i=n||`${t}${o}`;return`${r}|${i}`}function st(e){var t;if(e.node&&"object"===typeof e.node)return e.node;if(e.id){const n=(null==(t=e.id.match(/-\((-?\d+)\)\|\((-?\d+)\)$/))?void 0:t.slice(1,3).map(Number))??[];if(2===n.length)return{move:n[0],line:n[1]}}}function ut(e,t={}){const[n,o]=Object.entries(e)[0],{node:r,persistent:i}=t;return tt(o).map((e=>{const t={data:e,node:r,persistent:i,type:"square"===n?w.R:n};return{...t,key:at(t)}}))}var ct=n(813);function lt(e){return function(t,n,r){console.warn(k.Mark);const{api:i}=e,a=i.markings,s=ut(t,{node:(null==r?void 0:r.node)??n,persistent:(null==r?void 0:r.persistent)??!0});return a.addMany(s),(0,ct.e)(o.i.APIEvents.Mark,s)}}function dt(e={}){let t=a(e);return{add:n,clear:o,get:r,remove:i};function n(e,...n){let o=t;n.forEach((e=>{e in o||(o[e]={}),o=o[e]})),Object.assign(o,e)}function o(n){n?t[n]={}:t=a(e)}function r(){return a(t)}function i(...e){let n=t;const o=e.length-1;e.forEach(((e,t)=>{e in n&&t!==o&&(n=n[e])})),delete n[e[o]]}function a(e){return JSON.parse(JSON.stringify(e))}}function ft(e){return function(t,n=!0){const{api:r,game:i,mutateGame:a,respond:s}=e,u=(0,v.B)(t,r.getFEN(),r.getVariant()),c=null!==u?a((function(){let o;if(o="san"in u?i.move(u.san||u,n):"object"===typeof t&&"tcn"in t?i.loadMoves(t.tcn.slice(0,2),{atCurrent:!0,method:"merge"}):i.move(u,n),!o)return null;u.time&&g({context:e,time:u.time})})):null;return null===c?s(o.i.APIEvents.IllegalMove,{fen:i.fen(),move:t}):(c.result&&r.setResult(c.result),c.move&&u&&(Object.assign(c.move,{animate:u.animate,userGenerated:u.userGenerated,userGeneratedDrop:u.userGeneratedDrop,isExternalBoard:u.isExternalBoard}),u.ac&&(c.move.ac=u.ac),c.move=me(c.move)),s(o.i.APIEvents.Move,c))}}function pt(e){const{selectContinuationMoves:t=!1,steps:n=1,context:o}=e,{mutateGame:r,game:i}=o,a=i.siblingGame?i.curBughouseMove():null,s=i.ids(),u=r((function(){i.moveBackward(t)}));let c=-1===(null==u?void 0:u.plyDiff);if(n>1&&c)for(let f=1;f<n;f++)if(c=i.moveBackward(t),!c)break;const l=i.ids(),d=i.siblingGame?i.curBughouseMove():null;return null!==a?i.selectBughouseMove(a):i.selectPosition(s.move,s.line),{firstStepData:u,startIds:s,startBughouseIndex:a,endBughouseIndex:d,endIds:l,success:c}}function mt(e){return function(t){const{respond:n,api:r,game:i}=e,{selectContinuationMoves:a,steps:s}=ht(t);if(s<1)return null;const{firstStepData:u,success:c,endIds:l,endBughouseIndex:d}=pt({context:e,selectContinuationMoves:a,steps:s});return 1===s||-1!==(null==u?void 0:u.plyDiff)?(null!==d?i.selectBughouseMove(d):i.selectPosition(l.move,l.line),n(o.i.APIEvents.MoveBackward,u)):c?r.selectNode(l.line,l.move):n(o.i.APIEvents.MoveBackward,null)}}function ht(e){let t,n={};"object"===typeof e?n=e:t=e;const{selectContinuationMoves:o,steps:r}=n;return{selectContinuationMoves:o??t??!1,steps:r??1}}function gt(e){return function(t,n){const{respond:r,api:i,game:a}=e,{move:s,followContinuations:u,steps:c}=vt(t,n);if(c<1)return null;const{firstStepData:l,success:d,endIds:f}=C({context:e,move:s,followContinuations:u,steps:c});return 1===c||1!==(null==l?void 0:l.plyDiff)?(a.selectPosition(f.move,f.line),r(o.i.APIEvents.MoveForward,l)):d?i.selectNode(f.line,f.move):r(o.i.APIEvents.MoveForward,null)}}function vt(e,t){let n,o={};"object"===typeof e?o=e:n=e;const{move:r,followContinuations:i,steps:a}=o;return{move:r??t,followContinuations:i??n??!0,steps:a??1}}function yt(e){return function(t,n){const{game:r,respond:i}=e,a=r.moveVariation(t,n);return a?i(o.i.APIEvents.MoveVariation):null}}var bt=n(9486);function At(e,t){return function(n){const o=e.moveDetails(),r=t.getCalculatedResult(),i=n();if(null===i)return null;const a=e.moveDetails(),s=t.getCalculatedResult(),u=t.getNodeDiffData(o,a);r!==s&&(0,bt.u)(null==a?void 0:a.ids.line)&&(u.result=s);const{line:c,move:l}=e.ids();return u.linesReordered=0!==c&&0===l&&e.reorderLines(),u}}function wt(e){return Object.keys(e).reduce(((t,n)=>(e[n]!==i.Z.EmptyPGNHeaders.Value&&e[n]!==i.Z.EmptyPGNHeaders.Date&&(t[n]=e[n]),t)),{})}var _t=n(1215);const Ct={trans:Et,transChoice:St};function Et(e,t,n){return e}function St(e,t,n,o){return`${t}`}var Pt=n(6886);const{capitalizeFirstLetter:kt}=L.wr;function Tt(e){return function(n){const{api:r,game:a,respond:s}=e,u=(0,Pt.T)(n),{Result:c,Termination:l}=t(n)?f():d();return r.setGameDetails({Result:c,Termination:l}),a.header({Termination:l}),s(o.i.APIEvents.OutOfTime,{...wt(a.header()),color:n});function d(){const e=kt((0,_t.O)(u)),t=r.getHeaders()[e];return{Result:u===i.Z.ColorsAsNumbers.Black?i.Z.Results.Black:i.Z.Results.White,Termination:Ct.trans("%username% won on time",{"%username":t})}}function f(){return{Result:i.Z.Results.Draw,Termination:b.k.Translation.GameTerminationMessages.TimeoutVsInsufficientMaterial}}};function t(t){const n="[a-jl-z]",o=e.api.getFEN().replace(new RegExp(t===i.Z.ColorsAsNumbers.Black?n:n.toUpperCase(),"g"),"1");return F.A.createGame({fen:o,analysis:!0}).insufficientMaterial()}}function Mt(e){const t={};return function(r,i){const a=Object.entries(i);return a.forEach((([i,a])=>{let s=t[i];s||(t[i]={methodName:i,original:e.api[i],current:e.api[i],before:[],after:[],instead:[],extensions:{}},s=t[i],e.api[i]=n(i));const u=t=>{s[t.run].push({id:r,...t,handler:t.handler(e)}),s[t.run].sort(((e,t)=>(e.order||0)-(t.order||0)))};Array.isArray(a)?a.forEach((e=>{u(e)})):"object"===typeof a?u(a):"function"===typeof a&&(s.extensions[r]=a,s.current=a(o(s)))})),function(){a.forEach((([e])=>{const n=t[e];delete n.extensions[r];const i=Object.values(n.extensions)[0];n.current=i?i(o(n)):n.original,["before","after","instead"].forEach((e=>{n[e]=n[e].filter((e=>e.id!==r))}))}))}};function n(n){const o=t[n],r=(t,...n)=>o[t].filter((t=>!t.conditions||(Array.isArray(t.conditions)?t.conditions.every((t=>Boolean(t(e,...n)))):Boolean(t.conditions(e,...n)))));return(...e)=>{var t;const n=r("before",...e),i=null==(t=r("instead",...e)[0])?void 0:t.handler,a=n.reduce(((e,t)=>{const n=t.handler(...e);return t.changeArgs?n:e}),e);let s;s=i?i(...a):o.current(...a);const u=r("after",...a,s),c=u.reduce(((e,t)=>t.handler(e,...a)),s);return c}}function o(t){return{...e,api:{...e.api,[t.methodName]:t.original}}}}function xt(e){return function(){const{api:t,game:n,respond:r}=e;return r(o.i.APIEvents.Reload,{holdSelectedPiece:!0,pieces:(0,ve.N)(n.getPieces(!0)),variant:t.getVariant()})}}function Ot(e){let t=i.Z.ColorsAsNumbers.White,n=!1;return{getPlayingAs:r,setPlayingAs:a,usePlayingAs:s};function r(){return n?t:void 0}function a(n){if(n===t)return null;const{respond:r}=e;return t=n,r(o.i.APIEvents.SetPlayingAs,n)}function s(e){n=e||!1}}function Lt(e){return function(t,n,r={replace:!1}){const{game:i,respond:a}=e,s=i.promoteVariation(t,n);return s?(r.replace&&i.deletePosition(-1,t),a(o.i.APIEvents.PromoteVariation)):null}}const Rt="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";function It(e){return function(){const{api:t,respond:n}=e;return t.setResult(i.Z.Results.None),t.load({fen:Rt}),n(o.i.APIEvents.ResetGame)}}function Nt(e){return function(t){const{api:n,respond:r}=e;if(n.isGameOver())return null;const a=t===i.Z.ColorsAsNumbers.White?i.Z.Results.Black:i.Z.Results.White;return n.setResult(a),r(o.i.APIEvents.GameResigned,a)}}function Bt(e){return function(){const{api:t,game:n,respond:r}=e;return n.resetToMainLine(),r(o.i.APIEvents.ResetToMainLine,{pieces:t.getPieces()})}}function Dt(e){return function(t,n){const o=(0,ct.e)(t,n);return e.emit(t,o),o}}function Ut(e){return function(t){const{api:n,game:r,mutateGame:i,respond:a}=e,s=i((function(){r.selectLineEnd(t)}));return s&&(s.pieces=n.getPieces()),a(o.i.APIEvents.SelectLineEnd,s)}}function Ft(e){return function(){const{api:t,game:n,mutateGame:r,respond:i}=e,a=r((function(){n.selectLineStart()}));return a&&(a.pieces=t.getPieces()),i(o.i.APIEvents.SelectLineStart,a)}}function Wt(e){return function(t,n){const{api:r,game:i,respond:a}=e,s=i.moveDetails();i.selectPosition(n,t);const u=i.moveDetails(),c=r.getNodeDiffData(s,u);if(0===c.plyDiff&&0===c.lineDiff)return null;0!==c.lineDiff&&(c.pieces=r.getPieces());const l=a(o.i.APIEvents.SelectNode,c);return l}}function Vt(e){return function(t){const{game:n,respond:r}=e,i=wt(n.header(t));return r(o.i.APIEvents.UpdatePGNHeaders,i)}}function jt(e){return function(t){const{api:n}=e;return n.setGameDetails({Result:t})}}function qt(e){return function(t){const{game:n,respond:r}=e;return n.turn()===t?null:(n.turn(t),r(o.i.APIEvents.TurnSet,t))}}function Ht(e){return function(t,n,r){console.warn(k.ToggleMarking);const{api:i}=e,a=i.markings,s=ut(t,{node:(null==r?void 0:r.node)??n,persistent:(null==r?void 0:r.persistent)??!0});return a.toggleMany(s),(0,ct.e)(o.i.APIEvents.Mark,s)}}function Gt(e){return function(){const{api:t}=e,n=t.getSelectedNode();return n?t.deletePosition(n.ids.move,n.ids.line):null}}function Kt(e){return function(t,n){const{game:r,respond:i}=e;return r.updateNode(n,t.move,t.line),i(o.i.APIEvents.NodeUpdated,{changes:n,ids:t,node:r._getPos(t.move,t.line)})}}function Zt(e){return function(t,n){const{game:r,respond:i}=e;return r.updateLineComment(t,n),i(o.i.APIEvents.LineCommentUpdated,{comment:t,lineId:n})}}function zt(e){return function(t,n,r){console.warn(k.Unmark);const{api:i}=e,a=i.markings,s=ut(t,{node:(null==r?void 0:r.node)??n,persistent:(null==r?void 0:r.persistent)??!0});return a.removeMany(s.map((e=>e.key))),(0,ct.e)(o.i.APIEvents.Unmark,s)}}function $t(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function Qt(e){return function(t){const n=F.A.createGame({timestamps:t.times||t.timestamps||void 0,...t,analysis:!0,autoPromote:!0});if(!n)return;const{api:o}=e;let{times:r,timestamps:a}=t;return t.variant===i.Z.Variants.Bughouse&&(r=$t(r),a=$t(a)),o.load({pgn:n.pgn({useResultHeader:!0}),variant:t.variant,times:r,timestamps:a,premoves:n.premove.queue&&n.premove.queue.length>0?n.premove.queue:void 0})}}var Yt;function Xt(e){return function(){const t=e.api.getHeaders().TimeControl;if(!t||t===Yt.Header.Null||t.includes(Yt.Header.Unset)||t.includes(Yt.Header.TimePerMove))return null;const[n,o]=t.split(Yt.Header.Separator).map((e=>Math.round(1e3*parseFloat(e))));return{baseTime:n,increment:o||0}}}function Jt(e){const{baseTime:t,increment:n}=e;return(t+40*(n||0))/1e3}(e=>{(e=>{e.Name="timeControl"})(e.Plugin||(e.Plugin={})),(e=>{e["Blitz"]="blitz",e["Bullet"]="bullet",e["Rapid"]="rapid"})(e.Types||(e.Types={})),(e=>{e["Null"]="-",e["Separator"]="+",e["TimePerMove"]="/",e["Unset"]="?"})(e.Header||(e.Header={}))})(Yt||(Yt={}));const en=1800,tn=6e3;function nn(e){return function(){const{api:t}=e,n=t.timeControl.get();if(n){const e=Jt(n);if(e<en)return Yt.Types.Bullet;if(e>tn)return Yt.Types.Rapid}return Yt.Types.Blitz}}function on(e){return function(t){const{api:n}=e;if(null===t)return n.setGameDetails({TimeControl:Yt.Header.Null});const{baseTime:o,increment:r}=t,i=o/1e3,a=r/1e3;return n.setGameDetails({TimeControl:a?`${i}+${a}`:`${i}`})}}function rn(e){return{get:Xt(e),getType:nn(e),set:on(e)}}var an;function sn(e,t){if(null===e)return null;let n;switch(t){case an.Units.Milliseconds:n=100*e;break;case an.Units.Seconds:n=10*e;break;case an.Units.Deciseconds:default:n=e;break}return n}function un(e,t){let n;switch(t){case an.Units.Milliseconds:n=e/100;break;case an.Units.Seconds:n=10*e;break;case an.Units.Deciseconds:default:n=e;break}return Math.round(n)}function cn(e,t){return null===e?null:Math.max(c,un(e,t))}(e=>{(e=>{e["Milliseconds"]="Milliseconds",e["Deciseconds"]="Deciseconds",e["Seconds"]="Seconds"})(e.Units||(e.Units={}))})(an||(an={}));var ln,dn=n(7621);function fn(e){return{get:t,set:r,setMany:i};function t(t,{filtered:n=!0}={},o=an.Units.Deciseconds){var r;const{api:i}=e,a=null==(r=i.getLine(0))?void 0:r.map(dn.H);if(void 0!==t)return a[t]&&sn(a[t],o);const s=n?a.filter((e=>void 0!==e)):a;return s.map((e=>sn(e,o)))}function n(){return t(void 0,{filtered:!1})}function r(t,n,r=an.Units.Deciseconds){var i;const{api:a,respond:s}=e,{getLine:u}=a,c=null==(i=u(0))?void 0:i[n];if(!c)return null;const l=cn(t,r);return void 0===l?null:(h({api:a,node:c,timestamp:l}),s(o.i.APIEvents.NodeUpdated,{changes:{timestamp:l,node:c}}))}function i(t=[],r=an.Units.Deciseconds){const{api:i,respond:a}=e,s=0===t.length?n().map((()=>null)):t;return i.getRawLines()[0].forEach(((e,t)=>{if(void 0===s[t])return;const n=cn(s[t],r);void 0!==n&&h({api:i,node:e,timestamp:n})})),a(o.i.APIEvents.LineUpdated)}}function pn(e){return function(t){var n;const{api:o}=e,r=o.getLine(0);return void 0!==t?null==(n=r[t])?void 0:n.time:r.map((e=>e.time))}}function mn(e){return function(t=[]){const{api:n,respond:r}=e;return n.getRawLines()[0].forEach(((e,o)=>{void 0!==t[o]&&(!e.time&&t[o]&&(e.time=t[o]),n.timestamps.set(f({api:n,node:e}),o))})),r(o.i.APIEvents.LineUpdated)}}function hn(e){return function(t,n){var r;const{api:i,respond:a}=e,{getLine:s}=i,u=null==(r=s(0))?void 0:r[n];return u?(u.time||(u.time=t),i.timestamps.set(f({api:i,node:u}),n),a(o.i.APIEvents.NodeUpdated,{changes:{time:t,node:u}})):null}}function gn(e){return{get:pn(e),set:hn(e),setMany:mn(e)}}(e=>{(e=>{e["EntryAdded"]="EntryAdded"})(e.Events||(e.Events={})),(e=>{e["Debug"]="Debug",e["Error"]="Error",e["None"]="None"})(e.Levels||(e.Levels={}))})(ln||(ln={}));const{createEventEmitter:vn}=L.rG;function yn(e=100){const t=vn(),n=[];let o=ln.Levels.Debug;const r={[ln.Levels.None]:0,[ln.Levels.Error]:1,[ln.Levels.Debug]:2};return{...t,clear:i,get:a,log:s,setLogLevel:u};function i(){n.length=0}function a(e){return e?n.filter((t=>Object.entries(e).every((([e,n])=>t[e]===n)))):n}function s({code:i,data:a,level:s=ln.Levels.Debug,message:u}){if(r[s]>r[o])return;n.length===e&&n.shift();const c={code:i,data:a,level:s,message:u,timestamp:Date.now()};n.push(c),t.emit(ln.Events.EntryAdded,c)}function u(e){o=e}}function bn(e){return function(t){const{api:n}=e,o=n.getLine(0),{startingFen:r}=n.getFingerprints();return n.getPositionInfo(o,r,t)}}const{createEventEmitter:An}=L.rG;function wn({game:e,logger:t,options:n,eventEmitter:o}){const i=e||F.A.createGame({...n,analysis:!0,autoPromote:!0});if(!i)throw new r.V({code:Ve.t.BadData,data:n,message:"Error creating game from createAPI"});const a=o||An(),s=dt({arrow:{},customItem:{},effect:{},square:{}}),u={},c=At(i,u),l=Dt(a),d={api:u,emitter:a,game:i,markingCache:s,mutateGame:c,respond:l};return Object.assign(d.api,f()),d.api;function f(){return{addMoveToEndOfLine:y(d),agreeDraw:A(d),blinkSquare:_(d),canMoveForward:E(d),claimDraw:P(d),clearMarkings:M(d),createContinuation:x(d),createGame:Qt(d),...Ot(d),deletePosition:O(d),...a,extendAPI:R(d),overrideAPI:Mt(d),getCalculatedResult:N(d),getContext:B(d),getCurrentFullLine:D(d),getFEN:U(d),getFingerprints:W(d),getHeaders:V(d),getHistoryFENs:q(d),getHistorySANs:H(d),getJCEGameCopy:G(d),getLastMove:K(d),getLegalMoves:Z(d),getLegalMovesForSquare:$(d),getLine:Q(d),getMarkings:ae(d),getMaterial:se(d),getMove:ue(d),getNodeByIds:ce(d),getNodeDiffData:he(d),getNodeIds:ge(d),getPGN:be(d),getPiece:Ae(d),getPieces:ye(d),getPosition:we(d),getPositionDetails:_e(d),getPositionInfo:Ee(d),getFinalPositionInfo:bn(d),getRawLines:Pe(d),getRelativeNode:ke(d),getResult:Te(d),getSelectedNode:Me(d),getStartingMoveNumber:d.game.startingMoveNumber,getTCN:xe(d),getTurn:Oe(d),getVariant:Re(d),isAtEndOfLine:Ie(d),isCheck:Ne(d),isGameOver:Be(d),isLegalMove:De(d),load:Ze(d),logger:t||yn(),mark:lt(d),move:ft(d),moveBackward:mt(d),moveForward:gt(d),moveVariation:yt(d),outOfTime:Tt(d),promoteVariation:Lt(d),reload:xt(d),resetGame:It(d),resetToMainLine:Bt(d),resign:Nt(d),selectLineEnd:Ut(d),selectLineStart:Ft(d),selectNode:Wt(d),setGameDetails:Vt(d),setResult:jt(d),setTurn:qt(d),timeControl:rn(d),times:gn(d),timestamps:fn(d),toggleMarking:Ht(d),undo:Gt(d),unmark:zt(d),updateLineComment:Zt(d),updateNode:Kt(d)}}}function _n(e={}){const t=e;return{get:n,set:o};function n(e){return e?t[e]:t}function o(e){Object.assign(t,e)}}var Cn,En,Sn=n(843);function Pn({params:e,run:t}){const n=(0,Sn.y)(!1),o={queue:n,reset:r,run:t,setMode:i,setRenderer:a,state:_n(),...e};return o.reset(),o;function r(){o.queue=(0,Sn.y)(!1),o.state=_n()}function i(e){o.mode=e}function a(e){o.renderer=e}}function kn(e){return Object.values(o.i.APIEvents).includes(e.type)}function Tn(e){return[o.i.APIEvents.AddMove,o.i.APIEvents.BlinkHighlight,o.i.APIEvents.ClearMarkings,o.i.APIEvents.Mark,o.i.APIEvents.LineUpdated,o.i.APIEvents.NodeUpdated,o.i.APIEvents.Unmark,o.i.APIEvents.UpdatePGNHeaders].includes(e)}(e=>{(e=>{e["AddingMarkings"]="AddingMarkings",e["Idle"]="Idle",e["PieceDragging"]="PieceDragging",e["PieceSelected"]="PieceSelected",e["PromotionAreaShowing"]="PomotionAreaShowing"})(e.States||(e.States={}))})(Cn||(Cn={})),(e=>{e.Name="core"})(En||(En={}));const Mn={anyAPIEvent:({UpdateParams:e})=>(e.cancelMarkingStartSquare(),Cn.States.Idle),[o.i.UserEvents.PointerdownLeft]:({UpdateParams:e})=>(e.cancelMarkingStartSquare(),Cn.States.Idle),[o.i.UserEvents.Pointerup]:({context:e,data:{keyPressed:t,square:n},params:{markingStartSquare:o},UpdateParams:r})=>{const{api:{markings:i},queue:a}=e;if(n&&o){const e=o===n?i.factory.buildStandardAnalysisHighlight(n,t):i.factory.buildStandardArrow(o,n,t);a.add(i.toggleOne,e)}return r.cancelMarkingStartSquare(),Cn.States.Idle}};function xn(e){return{cancelMarkingStartSquare:t,cancelPromotion:n,deselectPiece:o,dragPiece:r,dropPiece:i,resetElevatedState:a,selectPiece:s,setMarkingStartSquare:u,showPromotionArea:c};function t(){e.markingStartSquare=void 0}function n(){e.promotionMove=void 0}function o(){e.selectedPiece=void 0}function r(t,n){e.draggingPiece=n,e.draggingCoords=t}function i(){e.draggingPiece=void 0,e.draggingCoords=void 0}function a(){e.draggingPiece=void 0,e.draggingCoords=void 0,e.promotionMove=void 0,e.selectedPiece=void 0}function s(t){e.selectedPiece=t}function u(t){e.markingStartSquare=t}function c(t){e.promotionMove={...t}}}var On=n(7535),Ln=n(6852);const Rn={[o.i.UserEvents.PointerdownLeft]:({context:e,data:{coords:t,square:n},UpdateParams:o})=>{const{api:{getPieces:i,markings:a},mode:{getOptions:s},options:u,queue:c,renderer:l,state:d}=e,f=i().getCollection()[n],p="setup"===e.api.getMode().name,m=e.api.getOptions().setupImprovements;if(m&&p&&f)return e.api.setup.removePiece(n),Cn.States.Idle;if(n&&!u.disableUserMarkings&&c.add(a.removeAllWhere,{node:!0,persistent:!1,types:[ot,Ln.kx,w.R]}),!u.enabled||!s().canInteractWithPieces)return Cn.States.Idle;const h=i();if(!h.isDefined(n))return Cn.States.Idle;if(u.moveMethod===On.b.MoveMethods.Click){const t=null==l?void 0:l.getCoordsFromSquare(n,u.flipped);if("undefined"===typeof t)throw new r.V({code:Ve.t.BadData,message:`getCoordsFromSquare returned undefined for ${n}`});return o.dragPiece(t,n),d.set({hideHoverSquare:!0}),null==l||l.dragPiece({coords:t,square:n},e),Cn.States.PieceDragging}o.dragPiece(t,n);const g=t||(null==l?void 0:l.getCoordsFromSquare(n,u.flipped));return null==l||l.dragPiece({coords:g,square:n},e),Cn.States.PieceDragging},[o.i.UserEvents.PointerdownRight]:({context:e,data:{square:t},UpdateParams:n})=>{const{options:o}=e;if(o.enabled&&!o.disableUserMarkings)return n.setMarkingStartSquare(t),Cn.States.AddingMarkings}};function In(e){return e.flags===i.Z.Move.Flags.Promotion||e.flags===i.Z.Move.Flags.CapturePromotion}var Nn;function Bn({api:e,move:t,plyDiff:n,pieceSquare:o}){var r;const i=o&&(null==(r=e.getPieces().getCollection()[o])?void 0:r.color);return!t||1!==n||!i||i===t.color&&!t.userGenerated||(t.from===o||t.to===o)}(e=>{(e=>{e.Name="sounds"})(e.Plugin||(e.Plugin={})),(e=>{e["GameStart"]="game-start",e["GameEnd"]="game-end",e["Capture"]="capture",e["Castle"]="castle",e["Premove"]="premove",e["MoveSelf"]="move-self",e["MoveCheck"]="move-check",e["MoveOpponent"]="move-opponent",e["Promote"]="promote",e["Notify"]="notify",e["TenSeconds"]="tenseconds",e["Illegal"]="illegal"})(e.BoardSounds||(e.BoardSounds={}))})(Nn||(Nn={}));const Dn={anyAPIEvent:({context:e,data:{holdSelectedPiece:t,move:n,plyDiff:o},params:{draggingPiece:r},UpdateParams:i})=>{const{renderer:a}=e;return r&&!t&&Bn({api:e.api,move:n,pieceSquare:r,plyDiff:o})?(i.resetElevatedState(),null==a||a.dropPiece(r,e),Cn.States.Idle):Cn.States.PieceDragging},[o.i.UserEvents.MousedownRight]:({context:e,params:{draggingPiece:t},UpdateParams:n})=>{const{renderer:o}=e;if(!t)throw new r.V({code:Ve.t.BadData,message:"Attempted to pointerdown on a dragging piece but dragging piece is null or undefined"});return n.dropPiece(),n.deselectPiece(),null==o||o.dropPiece(t,e),Cn.States.Idle},[o.i.UserEvents.Pointermove]:({context:e,data:{coordsInsideBoard:t},params:{draggingPiece:n},UpdateParams:o})=>{const{renderer:i}=e;if(!n)throw new r.V({code:Ve.t.BadData,message:"Attempted to drag a piece but draggingPiece is null or undefined"});return o.dragPiece(t,n),null==i||i.dragPiece({coords:t,square:n},e),Cn.States.PieceDragging},[o.i.UserEvents.Pointerup]:({context:e,data:{keyPressed:t,square:n},params:{draggingPiece:o,selectedPiece:a},UpdateParams:s})=>{var u;const{api:{getMove:c,getPiece:l,getTurn:d,isCheck:f,move:p,playSound:m},mode:h,options:g,queue:v,renderer:y}=e;if(!o)throw new r.V({code:Ve.t.BadData,message:"Attempted to pointerup on a dragging piece but dragging piece is null or undefined"});if(e.options.test){const t=e.el.querySelector(".dragging");null==t||t.setAttribute("data-test-dragging","false"),null==t||t.removeAttribute("dragging")}if(o===n)return s.dropPiece(),null==y||y.dropPiece(o,e),a===n||g.moveMethod===On.b.MoveMethods.Drag_Only||g.moveMethod===On.b.MoveMethods.DragOnly?(s.deselectPiece(),Cn.States.Idle):(s.selectPiece(o),Cn.States.PieceSelected);a&&s.deselectPiece();const b={from:o,to:n},A=c(b),w=!(!h.isAllowedToMove()||!A)&&{...A,animate:!1,userGenerated:!0,userGeneratedDrop:!0};if(!w){s.dropPiece(),h.handleIllegalMove&&v.add(h.handleIllegalMove,b);const t=f();let n=!1;return(null==(u=l(o))?void 0:u.color)===d()&&t&&(g.playSounds&&v.add(m,Nn.BoardSounds.Illegal),n=t),null==y||y.illegalMove(n,e),null==y||y.dropPiece(o,e),g.moveMethod===On.b.MoveMethods.DragOnly?(s.deselectPiece(),Cn.States.Idle):(s.selectPiece(o),Cn.States.PieceSelected)}return In(w)?g.autoPromote&&"alt"!==t?(s.dropPiece(),null==y||y.dropPiece(w.to,e),v.add(p,{...w,promotion:i.Z.Piece.Types.Queen}),Cn.States.Idle):(s.dragPiece({},o),s.showPromotionArea(w),null==y||y.dragPiece({square:o,toSquare:w.to},e),null==y||y.openPromotionWindow(w,e),Cn.States.PromotionAreaShowing):(s.dropPiece(),null===n&&h.getOptions().canDropOffBoard?null==y||y.removePiece(o,e):null==y||y.dropPiece(n,e),v.add(p,w),Cn.States.Idle)}};var Un=n(225);const Fn={anyAPIEvent:({context:e,data:{holdSelectedPiece:t,move:n,plyDiff:o},params:{selectedPiece:r},UpdateParams:i})=>!t&&Bn({api:e.api,move:n,pieceSquare:r,plyDiff:o})?(i.resetElevatedState(),Cn.States.Idle):Cn.States.PieceSelected,[o.i.UserEvents.PointerdownLeft]:({context:e,data:{coords:t,keyPressed:n,square:o},params:{selectedPiece:a},UpdateParams:s})=>{var u;const{api:{getMove:c,getPieces:l,getVariant:d,move:f},mode:{isAllowedToMove:p},options:m,queue:h,renderer:g,state:v}=e;if(!a)throw new r.V({code:Ve.t.BadData,message:"Attempted to interact with a selectedPiece but selectedPiece is null or undefined"});if(o===a){const n=m.moveMethod===On.b.MoveMethods.Drag||m.moveMethod===On.b.MoveMethods.Drag_Only||m.moveMethod===On.b.MoveMethods.DragOnly,r=n?t:(null==g?void 0:g.getCoordsFromSquare(o,m.flipped))||t;return s.dragPiece(r,a),m.moveMethod===On.b.MoveMethods.Click&&v.set({hideHoverSquare:!0}),null==g||g.dragPiece({coords:r,square:a},e),Cn.States.PieceDragging}const y={from:a,to:o},b=l(),A=c(y),w=!(!p()||!A)&&{...A,userGenerated:!0},_=d()===i.Z.Variants.Chess960,C=b.isDefined(o)&&(null==(u=b.get(o))?void 0:u.type)===i.Z.Piece.Types.Rook,E=m.disableRookCastling,S=E&&w&&!_&&(0,Un.p)(w)&&C;if(!w||S){if(s.deselectPiece(),!b.isDefined(o))return Cn.States.Idle;if(m.moveMethod===On.b.MoveMethods.Click){const n=(null==g?void 0:g.getCoordsFromSquare(o,m.flipped))||t;return s.dragPiece(n,o),v.set({hideHoverSquare:!0}),null==g||g.dragPiece({coords:n,square:o},e),Cn.States.PieceDragging}return s.dragPiece(t,o),null==g||g.dragPiece({coords:t,square:o},e),Cn.States.PieceDragging}return In(w)?m.autoPromote&&"alt"!==n?(s.deselectPiece(),h.add(f,w,{...w,promotion:i.Z.Piece.Types.Queen}),Cn.States.Idle):(s.deselectPiece(),s.dragPiece({},a),s.showPromotionArea(w),null==g||g.dragPiece({square:a,toSquare:w.to},e),null==g||g.openPromotionWindow(w,e),Cn.States.PromotionAreaShowing):(s.deselectPiece(),h.add(f,w),Cn.States.Idle)},[o.i.UserEvents.PointerdownRight]:({context:e,data:{square:t},UpdateParams:n})=>{const{options:o}=e;if(o.enabled&&!o.disableUserMarkings)return n.deselectPiece(),n.setMarkingStartSquare(t),Cn.States.AddingMarkings}};function Wn({context:e,params:{draggingPiece:t},UpdateParams:n}){const{renderer:o}=e;return n.dropPiece(),n.cancelPromotion(),null==o||o.dropPiece(t,e),null==o||o.closePromotionWindow(e),Cn.States.Idle}const Vn={anyAPIEvent:e=>e.type===o.i.APIEvents.Move?Cn.States.PromotionAreaShowing:Wn(e),[o.i.BoardEvents.PromotionPiecePointerdown]:({context:e,data:{piece:t},params:{draggingPiece:n,promotionMove:o},UpdateParams:r})=>{const{api:{move:a},queue:s,renderer:u}=e;return r.dropPiece(),r.cancelPromotion(),null==u||u.dropPiece(n,e),null==u||u.closePromotionWindow(e),o?(s.add(a,{animate:!1,flags:o.flags,from:o.from,piece:i.Z.Piece.Types.Pawn,promotion:t,to:o.to,userGenerated:!0}),Cn.States.Idle):Cn.States.Idle},[o.i.BoardEvents.PromotionAreaClosePointerdown]:Wn,[o.i.UserEvents.PointerdownLeft]:Wn,[o.i.UserEvents.PointerdownRight]:Wn},jn={createUpdateParams:xn,getCurrentState:()=>Cn.States.Idle,getParams:()=>({draggingCoords:void 0,draggingPiece:void 0,markingStartSquare:void 0,promotionMove:void 0,selectedPiece:void 0}),states:{[Cn.States.AddingMarkings]:Mn,[Cn.States.PieceDragging]:Dn,[Cn.States.Idle]:Rn,[Cn.States.PromotionAreaShowing]:Vn,[Cn.States.PieceSelected]:Fn}};var qn,Hn;function Gn(){const e=jn.getParams(),t=jn.createUpdateParams(e);let n=jn.getCurrentState();const o=[qn.Events.Tick];return function(a,s){if(o.includes(a.type))return;const{state:u}=s;u.set({draggingPiece:e.draggingPiece,machineState:n,promotionMove:e.promotionMove,selectedPiece:e.selectedPiece});const c=kn(a)&&!Tn(a.type)?"anyAPIEvent":a.type;if(!jn.states[n]||!jn.states[n][c])return void u.set({machineState:n});const l=jn.states[n][c]({context:s,data:a.data,params:e,UpdateParams:t,type:a.type}),d=n;if(n=l||n,d!==n&&(n===Cn.States.PieceDragging?document.onselectstart=()=>!1:d===Cn.States.PieceDragging&&(document.onselectstart=null)),!i())throw{data:{draggingPiece:e.draggingPiece,machineState:n,oldState:d,selectedPiece:e.selectedPiece},error:new r.V({code:Ve.t.InvalidStateMachine,message:"The machine parameters and state do not match up."})};u.set({draggingPiece:e.draggingPiece,machineState:n,selectedPiece:e.selectedPiece})};function i(){return n===Cn.States.Idle?!e.draggingPiece&&!e.selectedPiece:n===Cn.States.PieceDragging?Boolean(e.draggingPiece):n!==Cn.States.PieceSelected||!e.draggingPiece&&Boolean(e.selectedPiece)}}function Kn(e,t){if(!e.beforeState)return!0;let n=!0;return e.beforeState.forEach((e=>{!1===Zn(e,t)&&(n=!1)})),n}function Zn(e,t){if(e.condition(...t))return e.handler(...t)}function zn(e,t){function n(e,t){e.condition(...t)&&e.handler(...t)}e.match&&e.match.forEach((e=>n(e,t)))}function $n(e){return e.reduce(((e,t)=>(t.afterRender?e.afterRender.push(t):e.beforeRender.push(t),e)),{beforeRender:[],afterRender:[]})}function Qn({params:e,plugins:t}){const n=Pn({params:e,run:s}),r=Gn();return{getContext:i,getMode:a,run:s,setMode:u,setRenderer:c};function i(){return n}function a(){return n.mode}function s(e){const{api:{logger:i}}=n;i.log({code:o.i.LogCodes.Event,data:e}),n.reset();const a=t.get(),s=l(e,a);s&&r(e,n);const{beforeRender:u,afterRender:c}=$n(a);try{u.forEach((t=>zn(t,[e,n]))),n.queue.flush(),c.forEach((t=>zn(t,[e,n]))),n.queue.flush(),i.log({code:o.i.LogCodes.State,data:n.state.get()})}catch(d){throw i.log({code:o.i.LogCodes.State,data:{...d.data,event:e,queue:n.queue,state:n.state.get()},level:ln.Levels.Error}),d}}function u(e){n.setMode(e)}function c(e){n.setRenderer(e)}function l(e,t){return t.every((t=>Kn(t,[e,n])))}}(e=>{(e=>{e["Reset"]="Reset",e["Start"]="Start",e["Stop"]="Stop",e["Tick"]="Tick"})(e.Actions||(e.Actions={})),(e=>{e["End"]="End",e["Reset"]="Reset",e["Start"]="Start",e["Stop"]="Stop",e["Tick"]="Tick",e["TimeAdded"]="TimeAdded"})(e.Events||(e.Events={})),(e=>{e["Ended"]="Ended",e["Going"]="Going",e["Initial"]="Initial",e["Stopped"]="Stopped"})(e.States||(e.States={}))})(qn||(qn={})),(e=>{e.DefaultRightClickModifierKey="a",(e=>{e.Name="accessibility"})(e.Plugin||(e.Plugin={}))})(Hn||(Hn={}));var Yn,Xn=n(4863);function Jn(e=Hn.DefaultRightClickModifierKey){return{beforeState:[{condition:(0,Xn.is)(o.i.UserEvents.PointerdownLeft),handler:t}],name:Hn.Plugin.Name,requires:["keys"]};function t(t,n){const{api:r,queue:i,run:a}=n;return!r.keys.isPressed(e)||(i.add(a,{...t,type:o.i.UserEvents.PointerdownRight}),!1)}}function eo(e){let t;const n={[Yn.Arrow.Up]:"selectLineStart",[Yn.Arrow.NumUp]:"selectLineStart",[Yn.Arrow.Down]:"selectLineEnd",[Yn.Arrow.NumDown]:"selectLineEnd",[Yn.Arrow.Left]:"moveBackward",[Yn.Arrow.NumLeft]:"moveBackward",[Yn.Arrow.Right]:"moveForward",[Yn.Arrow.NumRight]:"moveForward"};return{api:()=>({setKeys:r,resetKeys:i}),create:o,destroy:s,name:Yn.Plugin.Name};function o(n){t=n,r(e)}function r(e){const n=a(e);t.api.keys.setOverrides(n)}function i(){const e=a();t.api.keys.setOverrides(e)}function a(e={}){return Object.entries(n).map((([t,n])=>({key:t,callback:o=>o.getOptions().disableUserNavigation?()=>{}:e[t]??o[n]})))}function s(){t.api.keys.removeOverrides(Object.keys(n).map((e=>({key:e}))))}}function to({options:e,rawArrow:t}){const{data:{color:n,keyPressed:o,from:r,opacity:i,to:a},key:s,type:u}=t;return{data:{color:no(o,e)??n??e.arrowColors.default,from:r,opacity:i??e.analysisHighlightOpacity,to:a},key:s,type:u}}function no(e,t){const{arrowColors:n}=t;switch(e){case Y.Alt:return n.alt;case Y.Ctrl:return n.ctrl;case Y.Shift:return n.shift;case Y.None:return n.default;default:return}}function oo(e){return function(t){var n,r;return(0,Xn.is)(o.i.APIEvents.Mark)(t)&&(null==(r=(n=t.data).find)?void 0:r.call(n,(t=>t.type===e)))}}function ro(e){return function(t){return t.type===e}}function io(e){return function(t){var n,r;return(0,Xn.is)(o.i.APIEvents.Unmark)(t)&&(null==(r=(n=t.data).find)?void 0:r.call(n,(t=>t.type===e)))}}function ao(e){const{api:t,options:n,renderer:o}=e;if(!t.markings)return;const r=t.markings,i=n.allowMarkings?r.getAllWhere({types:[ot]}):[],a=i.map((e=>to({rawArrow:e,options:n})));null==o||o.addArrows(a,e)}(e=>{(e=>{e.Name="arrowKeys"})(e.Plugin||(e.Plugin={})),(e=>{e["Left"]="arrowleft",e["NumLeft"]="numpad4",e["Up"]="arrowup",e["NumUp"]="numpad8",e["Right"]="arrowright",e["NumRight"]="numpad6",e["Down"]="arrowdown",e["NumDown"]="numpad5"})(e.Arrow||(e.Arrow={}))})(Yn||(Yn={}));const so=e=>(t,n)=>{const o="setup"===n.api.getMode().name,r=n.api.getOptions().setupImprovements;r&&o||e(t,n)};function uo(){return[{condition:oo(ot),handler:so(t)},{condition:io(ot),handler:so(n)},{condition:(0,Xn.is)(o.i.InstanceEvents.RendererSet),handler:so(e)}];function e(e,t){ao(t)}function t(e,t){const{options:n,renderer:o}=t,{data:r}=e,i=r.filter(ro(ot)).map((e=>to({rawArrow:e,options:n})));null==o||o.addArrows(i,t)}function n(e,t){const{options:n,renderer:o}=t,{data:r}=e,i=r.filter(ro(ot)).map((e=>to({rawArrow:e,options:n})));null==o||o.removeArrows(i,t)}}function co(){return{match:uo(),name:nt.Plugin.Name,create:ao,destroy:e};function e(e){const{api:t,renderer:n,options:o}=e;if(!t.markings)return;const r=t.markings,i=r.getAllWhere({types:[ot]}),a=i.map((e=>to({rawArrow:e,options:o})));null==n||n.removeArrows(a,e)}}var lo;(e=>{(e=>{e.Name="assets"})(e.Plugin||(e.Plugin={}))})(lo||(lo={}));var fo=n(7571);const po="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAASwAQMAAADR7yGMAAAABlBMVEV2llbu7tLDYEXtAAADBUlEQVR4Ae3cQQ2FABBDwU0QgCSsIwkBJPsF9Pq5NPMENKOgs9E70bnRPdEfp7CwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsDIsLCwsLCwsLCwsLCwsLCwsLCwsLKwMCwsLCwsLCwsLCwsLCwsLCwsLCwsry46NnomujT6dwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCyrCwsLCwsLCwsLCwsLCwsLCwsLCwsCIsLCwsLCwsLCwsLCwsLCwsLCwsLKymn2YsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLKyqn2YsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCw/zVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRSwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLKymn2YsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLKymn2YsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLKymn2YsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLKwf7yJE8wq7ySwAAAAASUVORK5CYII=",mo={board:po};var ho=n(8873);const go={config:{perspective:ho.b.Perspective.TOP_DOWN},board:{assets:{background:mo.board},config:{highlightSquareHex:"#ffff00",darkSquareCoordinateHex:"#edeed1",lightSquareCoordinateHex:"#779952"}},pieces:{assets:fo.A},sound:{assets:{capture:{webm:"https://www.chess.com/sounds/_WEBM_/default/capture.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/capture.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/capture.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/capture.wav"},castle:{webm:"https://www.chess.com/sounds/_WEBM_/default/castle.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/castle.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/castle.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/castle.wav"},gameEnd:{webm:"https://www.chess.com/sounds/_WEBM_/default/game-end.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/game-end.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/game-end.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/game-end.wav"},gameStart:{webm:"https://www.chess.com/sounds/_WEBM_/default/game-start.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/game-start.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/game-start.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/game-start.wav"},illegal:{webm:"https://www.chess.com/sounds/_WEBM_/default/illegal.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/illegal.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/illegal.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/illegal.wav"},moveCheck:{webm:"https://www.chess.com/sounds/_WEBM_/default/move-check.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/move-check.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/move-check.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/move-check.wav"},moveOpponent:{webm:"https://www.chess.com/sounds/_WEBM_/default/move-opponent.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/move-opponent.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/move-opponent.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/move-opponent.wav"},moveSelf:{webm:"https://www.chess.com/sounds/_WEBM_/default/move-self.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/move-self.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/move-self.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/move-self.wav"},notify:{webm:"https://www.chess.com/sounds/_WEBM_/default/notify.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/notify.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/notify.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/notify.wav"},premove:{webm:"https://www.chess.com/sounds/_WEBM_/default/premove.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/premove.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/premove.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/premove.wav"},promote:{webm:"https://www.chess.com/sounds/_WEBM_/default/promote.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/promote.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/promote.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/promote.wav"},tenSeconds:{webm:"https://www.chess.com/sounds/_WEBM_/default/tenseconds.webm",mp3:"https://www.chess.com/sounds/_MP3_/default/tenseconds.mp3",ogg:"https://www.chess.com/sounds/_OGG_/default/tenseconds.ogg",wav:"https://www.chess.com/sounds/_WAV_/default/tenseconds.wav"}}}};function vo(e){return{...e,board:{assets:{background:mo.board},config:{highlightSquareHex:go.board.config.highlightSquareHex,lightSquareCoordinateHex:go.board.config.lightSquareCoordinateHex,darkSquareCoordinateHex:go.board.config.darkSquareCoordinateHex}},pieces:{assets:fo.A},config:{perspective:ho.b.Perspective.TOP_DOWN}}}function yo(e){e.options.themeAssets&&e.api.setOptions({themeAssets:vo(e.options.themeAssets)})}function bo(e){var t;e.options.themeAssets?e.api.setOptions({themeAssets:vo(e.options.themeAssets)}):(e.options.pieceStyle=(0,rt.q)().pieceStyle,null==(t=e.renderer)||t.updatePieceBaseImage(e,!0))}var Ao=n(3609);function wo(e){return new Promise((function(t,n){const o=new Image;o.addEventListener("load",(()=>t(e))),o.addEventListener("error",(()=>n(new Error(`Failed to load image: ${e}`)))),e||n(new Error(`Unknown url: ${e}`)),o.src=e}))}function _o(e){return new Promise(((t,n)=>{try{(0,Ao.VJ)(e)}catch{return t(!0)}wo(e.board.assets.background).then((()=>t(!0))).catch((e=>{n(new On.b.StylesSetFailed(e.message))}))}))}var Co=n(5929),Eo=n(496);function So(e,t){return e.themeAssets?Po(e.themeAssets):ko(t,e)}function Po(e){return new Promise(((t,n)=>{try{(0,Ao.VJ)(e)}catch{return t(!0)}const o=[];if(Object.keys(e.pieces.assets).forEach((t=>{e.pieces.assets[t]!==fo.A[t]&&o.push(e.pieces.assets[t])})),0===o.length)return t(!0);const r=o.map((e=>wo(e)));Promise.all(r).then((()=>t(!0))).catch((e=>{n(new On.b.StylesSetFailed(e.message))}))}))}function ko(e,t){return new Promise((function(n,o){if(!e)return void o(new On.b.StylesSetFailed("Piece style not found"));const r=(0,Eo.U)(e.path,void 0,t),i=Co.Hk.map((t=>`${r}/${t}.${e.format}`)),a=i.map((e=>wo(e)));Promise.all(a).then((()=>n(!0))).catch((e=>{o(new On.b.StylesSetFailed(e.message))}))}))}var To=n(5271),Mo=n(3013),xo=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(t)){if(o=t.length,o!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),o=i.length,o!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;0!==r--;){var a=i[r];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const Oo=(0,Mo.g)(xo);function Lo(){let e,t,n;return{match:[{condition:(0,To.E)([o.i.InstanceEvents.RendererSet,o.i.OptionsEvents.Update,o.i.InstanceEvents.WebGLAssetsInitialized]),handler:r}],create:({options:o})=>{e=o.boardStyle,t=o.pieceStyle,n=o.themeAssets},name:lo.Plugin.Name};function r(o,r){var i,a;const{options:s,renderer:u}=r;if(!u||!u.areAssetsLoaded())return;const c=s.pieceStyle!==t||!Oo(null==n?void 0:n.pieces,null==(i=s.themeAssets)?void 0:i.pieces),l=s.boardStyle!==e||!Oo(null==n?void 0:n.board,null==(a=s.themeAssets)?void 0:a.board),d=()=>{l&&u.updateBoardImage(r)};r.options.themeAssets?_o(r.options.themeAssets).then(d).catch((e=>{e instanceof On.b.StylesSetFailed?(Ro(r,e),yo(r)):l&&d()})):d();const f=()=>{c&&u.updatePieceBaseImage(r)};if("webgl-3d"!==u.name&&u.getPieceStyles){const e=u.getPieceStyles();So(r.options,e[r.options.pieceStyle]).then(f).catch((e=>{e instanceof On.b.StylesSetFailed?(Ro(r,e),bo(r)):c&&f()}))}else f();e=s.boardStyle,t=s.pieceStyle,n=s.themeAssets}}function Ro(e,t){e.api.emit(o.i.InstanceEvents.StylesSetFailed,(0,ct.e)(o.i.InstanceEvents.StylesSetFailed,{message:"Problem updating styles. Will fallback to default.",error:t}))}var Io,No,Bo;function Do(){return{match:[{condition:(0,Xn.is)(o.i.APIEvents.BlinkHighlight),handler:e}],name:Io.Plugin.Name};function e(e,t){const{renderer:n}=t;null==n||n.blinkHighlights(e.data,t)}}(e=>{(e=>{e.Name="blinking-highlight"})(e.Plugin||(e.Plugin={}))})(Io||(Io={})),(e=>{(e=>{e.Name="blinking-highlight"})(e.Plugin||(e.Plugin={}))})(No||(No={})),(e=>{(e=>{e.Name="board-disabled"})(e.Plugin||(e.Plugin={}))})(Bo||(Bo={}));var Uo,Fo,Wo,Vo,jo=n(8760);function qo(){return{create:e,match:[{condition:(0,Xn.is)(o.i.OptionsEvents.Update),handler:t}],name:Bo.Plugin.Name};function e(e){e.el.classList.toggle(jo.vv.Disabled,!e.options.enabled)}function t(e,t){const{data:n}=e,{el:o,renderer:r}=t;"enabled"in n&&(o.classList.toggle(jo.vv.Disabled,!n.enabled),null==r||r.setBoardEnabled(n.enabled))}}function Ho(){return{match:[{condition:(0,To.E)([o.i.UIEvents.Resize,o.i.InstanceEvents.RendererSet]),handler:e}],name:Uo.Plugin.Name};function e(e,t){const{renderer:n}=t;null==n||n.resize(t)}}function Go(){let e,t=!1;return{match:[{condition:(0,To.E)([o.i.InstanceEvents.RendererSet,o.i.OptionsEvents.Update]),handler:n}],name:Fo.Plugin.Name};function n(n,r){const{options:i,renderer:a}=r;a&&(i.coordinates===e&&i.flipped===t&&n.type!==o.i.InstanceEvents.RendererSet||a.setCoordinates({flipped:i.flipped,position:i.coordinates},r),e=i.coordinates,t=i.flipped)}}function Ko(e=Wo.FlipBoardModifierKey){let t;return{match:[{condition:(0,To.E)([o.i.InstanceEvents.Create,o.i.InstanceEvents.RendererSet,o.i.OptionsEvents.Update]),handler:r},{condition:(0,Xn.is)(Vo.Events.Keydown),handler:n}],name:Wo.Plugin.Name};function n(t,n){const{api:o,options:r,queue:i}=n;t.data.key!==e||r.isSiblingBoard||i.add(o.setOptions,{flipped:!r.flipped})}function r(e,n){const{options:r,renderer:i,state:a}=n;if(i){if(r.flipped!==t){i.flipBoard(r.flipped,n);const e=a.get(o.i.State.PromotionMove);e&&i.openPromotionWindow(e,n)}t=r.flipped}}}function Zo(e){return"[object Object]"===Object.prototype.toString.call(e)}function zo(e,t,{isDuplicateWhen:n}={}){const o=new Set(e);return t.forEach((t=>{if(Zo(t)&&n){const r=e.find((e=>n(e,t)));r&&o.delete(r)}else o.delete(t)})),[...o]}function $o(e,t){return e.key===t.key&&e.data.color===t.data.color}function Qo(e){const t=new Set(e),n=new Map;return{...t,addModule:r,getModules:a,removeModule:s,getAll:i,update:u,clearState:o};function o(){n.clear()}function r(e){return t.add(e)}function i(){return Array.from(n.values())}function a(){return Array.from(t)}function s(e){return t.delete(e)}function u(...e){const t=i();o();const r=Array.from(a().reduce(((t,n)=>(n(...e).forEach((e=>{t.set(e.data.square,e)})),t)),new Map).values());r.forEach((e=>n.set(e.data.square,e)));const s=zo(r,t,{isDuplicateWhen:$o}),u=zo(t,r,{isDuplicateWhen:$o});return{toAdd:s,toRemove:u}}}function Yo(e){return function(){return Qo(e)}}function Xo(e){const{api:t,renderer:n}=e;if(!t.markings||!t.highlights)return;const o=t.highlights;o.clearState();const{toAdd:r}=o.update({data:{},type:"DummyHighlightInitEventName"},e);null==n||n.addHighlights(r,e)}function Jo(e){const t=new Set(Array.isArray(e)?e:Object.values(e));return function(e){return!t.has(e.type)}}(e=>{(e=>{e.Name="board-size"})(e.Plugin||(e.Plugin={}))})(Uo||(Uo={})),(e=>{(e=>{e.Name="coordinates"})(e.Plugin||(e.Plugin={}))})(Fo||(Fo={})),(e=>{e.FlipBoardModifierKey="x",(e=>{e.Name="flip-board"})(e.Plugin||(e.Plugin={}))})(Wo||(Wo={})),(e=>{(e=>{e.Name="keys"})(e.Plugin||(e.Plugin={})),(e=>{e["Keydown"]="Keydown",e["Keyup"]="Keyup"})(e.Events||(e.Events={}))})(Vo||(Vo={}));const er=e=>(t,n)=>{const o="setup"===n.api.getMode().name,r=n.api.getOptions().setupImprovements;r&&o||e(t,n)};function tr(){return[{condition:Jo([o.i.UserEvents.Pointermove,o.i.InstanceEvents.RendererSet,o.i.APIEvents.NodeUpdated]),handler:er(t)},{condition:(0,Xn.is)(o.i.InstanceEvents.RendererSet),handler:er(e)}];function e(e,t){Xo(t)}function t(e,t){const{api:n,renderer:o}=t;if(!o)return;const r=n.highlights,{toAdd:i,toRemove:a}=r.update(e,t);o.removeHighlights(a,t),o.addHighlights(i,t)}}function nr(e){return{api:Yo(e),destroy:t,create:Xo,match:tr(),name:w.S.Plugin.Name};function t(e){const{api:t,renderer:n}=e,o=t.highlights;null==n||n.removeHighlights(o.getAll(),e)}}var or;(e=>{(e=>{e.Name="hover-square"})(e.Plugin||(e.Plugin={}))})(or||(or={}));var rr=n(24);function ir(e){return function(t,n){var o,r;return Boolean(null==(r=null==(o=n.api)?void 0:o.getOptions)?void 0:r.call(o)[e])}}const{createStateMachine:ar}=L.jd;function sr(){const e=ar({data:{square:void 0},initialState:"hidden",states:{hidden:{dragPiece:e=>({data:{square:e},nextState:"showing"})},showing:{dragPiece:e=>({data:{square:e},nextState:"showing"}),dropPiece:()=>({nextState:"hidden"}),setOptionToFalse:()=>({nextState:"hidden"})}}});return{match:[{condition:(0,rr.l)(ir(On.b.BooleanOptions.HoverSquareOutline),Jo([o.i.APIEvents.ClearMarkings,qn.Events.Tick])),handler:t}],name:or.Plugin.Name};function t(t,n){const{options:r,renderer:i,state:a}=n,s=!0!==a.get(o.i.State.HideHoverSquare)&&a.get(o.i.State.MachineState)!==Cn.States.PromotionAreaShowing&&a.get(o.i.State.DraggingPiece),u=t.data&&(t.data.square||t.data.squareInsideBoard||e.getData().square||s);let c=!1;c=r.highlightMoves?s?e.transition("dragPiece",u):e.transition("dropPiece"):e.transition("setOptionToFalse"),c&&i&&("hidden"===e.getCurrentState()?i.hideHoverSquare(n):i.showHoverSquare(e.getData().square,n))}}function ur(e,t){const n=[],o=t??e.markings();return Object.values(o).forEach((e=>{Object.values(e).forEach((e=>{n.push(ne(e))}))})),n}function cr(e,t,{onlyCurrentNode:n}={}){const{key:o}=t,r=e.ids(),i=st(t);if(!i)return!1;const{move:a,line:s}=i,u=r.move!==a||r.line!==s;if(u){if(n)return!1;e.selectPosition(a,s)}const c=ur(e);return u&&e.selectPosition(r.move,r.line),Boolean(c.find((e=>e.key===o)))}function lr(e){return Object.entries(e).reduce(((e,[t,n])=>(void 0===n||e.push(t,n.toString()),e)),[])}function dr(e){const{data:t,persistent:n}=e,o={...t},r=pr(t.keyPressed);return void 0!==n&&(o.persistent=n),r!==te.Custom&&delete o.color,Object.keys(o).forEach((e=>{o[e]=encodeURIComponent(o[e])})),{color:r!==te.Custom?r:void 0,data:lr(o),key:fr(e),type:e.type}}function fr(e){const{data:{from:t,square:n,to:o},key:r}=e;return n||(t&&o?`${t}${o}`:r)}function pr(e){switch(e){case Y.Alt:return te.Alt;case Y.None:return te.Default;case Y.Shift:return te.Shift;case Y.Ctrl:return te.Ctrl;default:return te.Custom}}var mr=n(43);function hr(e,t,n){const o=dr(t),{node:r}=t,i="object"!==typeof r,a=i?e.ids():r;e.mark(o,!0,a.move,a.line);const s=e._getPos(a.move,a.line),u=We.Effects[t.data.type],c=s&&(0,mr.v)(s)===t.data.square,l=(null==s?void 0:s.annotation)===u;return u&&c&&l&&n.updateNode(a,{annotation:"",isSync:!0}),{changes:{operation:"remove",command:t},ids:a}}function gr(e,t,n){const o=dr(t),{node:r}=t,i="object"!==typeof r,a=i?e.ids():r;e.mark(o,!1,a.move,a.line);const s=e._getPos(a.move,a.line),u=We.Effects[t.data.type],c=s&&(0,mr.v)(s)===t.data.square,l=(null==s?void 0:s.annotation)===u;return u&&c&&!l&&n.updateNode(a,{annotation:u,isSync:!0}),{changes:{operation:"add",command:t},ids:a}}var vr=n(8573);function yr(e){return Object.entries(e).reduce(((e,[t,n])=>(e[n]=t,e)),{})}function br(e){const t=yr(We.Effects);return e?t[e]:void 0}const Ar=e=>(t,n)=>{n.api.getOptions().syncEffects&&e(t,n)},wr=[{condition:(0,To.E)(vr.n),handler:Sr},{condition:(0,Xn.is)(o.i.APIEvents.Mark),handler:Ar(_r)},{condition:(0,Xn.is)(o.i.APIEvents.Unmark),handler:Ar(Cr)},{condition:(0,Xn.is)(o.i.APIEvents.Load),handler:Ar(Pr)},{condition:(0,Xn.is)(o.i.APIEvents.NodeUpdated),handler:Ar(kr)}];function _r(e,t,{includeAlternateNodes:n}={}){const{data:o}=e,{game:r}=t.api.getContext(),i=Array.isArray(o)?o:[o],a=[];i.forEach((e=>{e.node&&!cr(r,e,{onlyCurrentNode:!n})&&a.push(gr(r,e,t.api))})),Er(a,t.api)}function Cr(e,t,{includeAlternateNodes:n}={}){const{data:o}=e,{game:r}=t.api.getContext(),i=Array.isArray(o)?o:[o],a=[];i.forEach((e=>{e.node&&cr(r,e,{onlyCurrentNode:!n})&&a.push(hr(r,e,t.api))})),Er(a,t.api)}function Er(e,t){if(!e.length)return;const n=e.reduce(((e,n)=>{var o;const r=`${n.ids.line}-${n.ids.move}`;if(!e[r]){const i=t.getPosition(n.ids.move,n.ids.line),a=-1===i.ids.move?null==(o=t.getRawLines()[i.ids.line])?void 0:o.commands:i.commands;e[r]={changes:{commands:{...a}},ids:n.ids,node:i,parsedCommandChanges:[]}}return e[r].parsedCommandChanges.push(n.changes),e}),{});Object.values(n).forEach((e=>{t.getContext().respond(o.i.APIEvents.NodeUpdated,e)}))}function Sr(e,t){const{api:n,queue:o}=t;0===e.data.plyDiff&&0===e.data.lineDiff||o.add((()=>Tr(n)))}function Pr(e,t){const{api:n}=t,o=n.getRawLines(),r=[];Tr(n),o.forEach((e=>{e.forEach((e=>{const t=br(e.annotation);if(t){const t=Mr(e,n.getContext().game);r.push({data:t,type:Ln.kx,node:e.ids,persistent:!0})}}))})),n.markings.addMany(r)}function kr(e,t){const{api:n}=t,{ids:o,changes:r}=e.data;if(!("annotation"in r)||r.isSync)return;const i=n.getPosition(o.move,o.line);if(!("to"in i))return;const a=br(r.annotation),s=n.getNodeByIds(o),u=Mr(s,n.getContext().game);if(a)n.markings.addOne({data:{...u,type:a},type:Ln.kx,node:o,persistent:!0});else{const e=at({data:{square:i.to},type:Ln.kx});n.markings.removeOne(e,o)}}function Tr(e){const{game:t}=e.getContext(),n=ur(t);e.markings.removeAllWhere({node:!0}),n.length&&e.markings.addMany(n)}function Mr(e,t){const{move:n,line:o}=e.ids,r=(0,mr.v)(e),i=t.markings(n,o),a=J(i.effect,r),s=br(e.annotation),u={square:(0,mr.v)(e),type:s},c=a||u;return c}function xr(e){const{respond:t}=e;return it({onMarkingAdded:e=>t(o.i.APIEvents.Mark,tt(e)),onMarkingRemoved:e=>t(o.i.APIEvents.Unmark,tt(e)),onMarkingAddedToAlternateNode:t=>_r({data:tt(t)},e,{includeAlternateNodes:!0}),onMarkingRemovedFromAlternateNode:t=>Cr({data:tt(t)},e,{includeAlternateNodes:!0}),context:e})}var Or,Lr,Rr,Ir;function Nr(){return{api:xr,match:wr,name:Or.Plugin.Name}}function Br({addMoveHints:e,addCaptureHints:t,context:n,currentHints:r,getNextHints:a,removeHints:s}){let u=r;const{api:c,mode:l,options:d,state:f}=n;if(!d||!d.highlightLegalMoves||!l.isAllowedToMove())return s([...r],n),u.length=0,u;const p=f.get(o.i.State.SelectedPiece)||f.get(o.i.State.DraggingPiece);if(!p)return u.length&&(s(u,n),u=[]),u;const m=f.get(o.i.State.MachineState)===Cn.States.PromotionAreaShowing?[]:c.getLegalMoves().filter((e=>e.from===p)),h=z(m.map((e=>e.to)));d.disableRookCastling||h.push(...w(m));const g=u.filter((e=>!h.includes(e)));s(g,n);const v=a(h),y=[],b=[],A=c.getPieces().keys();return v.forEach((e=>{t&&A.includes(e)?b.push(e):y.push(e)})),y.length&&e(y,n),b.length&&(null==t||t(b,n)),u.filter((e=>!g.includes(e))).concat(v);function w(e){if(c.getVariant()===i.Z.Variants.Chess960||0===e.length||void 0===e[0].from)return[];const t=c.getPieces().getCollection(),n=t[e[0].from];return"k"!==(null==n?void 0:n.type)?[]:e.reduce(((e,o)=>{let r;if("O-O-O"===o.san)r=o.color===i.Z.ColorsAsNumbers.White?"a1":"a8";else{if("O-O"!==o.san)return e;r=o.color===i.Z.ColorsAsNumbers.White?"h1":"h8"}const a=t[r];return"r"!==(null==a?void 0:a.type.toLowerCase())||(null==a?void 0:a.color)!==n.color||(null==a?void 0:a.promoted)||o.to===r||e.push(r),e}),[])}}function Dr(){let e=[];return{match:[{condition:Jo([o.i.UserEvents.Pointermove,qn.Events.Tick]),handler:n},{condition:(0,Xn.is)(o.i.InstanceEvents.RendererSet),handler:t}],name:Lr.Plugin.Name};function t(t,o){e=[],n(t,o)}function n(t,n){const{renderer:o}=n;o&&(e=Br({addMoveHints:o.addMoveHints,addCaptureHints:o.addCaptureHints,context:n,currentHints:e,getNextHints:t=>t.filter((t=>!e.includes(t))),removeHints:o.removeHints}))}}function Ur(){return{match:[{condition:(0,To.E)(o.i.APIEvents),handler:t},{condition:(0,Xn.is)(o.i.InstanceEvents.RendererSet),handler:e}],name:Rr.Plugin.Name};function e(e,t){const{api:n,renderer:o}=t;null==o||o.loadPieces({pieces:n.getPieces()},t)}function t(e,t){const{renderer:n}=t;if(!n)return;if(e.type===o.i.APIEvents.IllegalMove)return void n.illegalMove(!1,t);const{plyDiff:r,move:i,pieces:a}=e.data;a?n.loadPieces({pieces:a},t):i&&-1===r?"--"!==i.san&&n.undoMove(i,t):i&&n.makeMove(i,t)}}function Fr({context:e,method:t}){return function(...n){try{return t(...n)}catch(o){const{api:t,renderer:n}=e;console.error("Board position reloaded due to game and renderer state desynchronisation:\n",o),t.logger.log({code:Ir.ErrorCodes.StateDesynchronisation,data:o,level:ln.Levels.Error}),null==n||n.loadPieces({pieces:t.getPieces(),reloadAll:!0},e)}}}(e=>{(e=>{e.Name="markings"})(e.Plugin||(e.Plugin={}))})(Or||(Or={})),(e=>{(e=>{e.Name="move-hints"})(e.Plugin||(e.Plugin={}))})(Lr||(Lr={})),(e=>{(e=>{e.Name="pieces"})(e.Plugin||(e.Plugin={}))})(Rr||(Rr={})),(e=>{(e=>{e["StateDesynchronisation"]="StateDesynchronisation"})(e.ErrorCodes||(e.ErrorCodes={})),(e=>{e.Name="rendererErrorCatcher"})(e.Plugin||(e.Plugin={}))})(Ir||(Ir={}));const Wr=()=>!1;function Vr(){let e={};return{create:t,destroy:n,match:[{condition:(0,Xn.is)(o.i.InstanceEvents.RendererSet),handler:(e,n)=>t(n)}],name:Ir.Plugin.Name};function t(t){const{options:n,renderer:o}=t;!o||Wr()||n.test||["dragPiece","dropPiece","makeMove","removePiece","undoMove"].forEach((n=>{const r=Fr({context:t,method:o[n]});e[n]=o[n],o[n]=r}))}function n(t){const{renderer:n}=t;n&&(Object.keys(e).forEach((t=>{n[t]=e[t]})),e={})}}const{loadSound:jr}=L._w;function qr({theme:e="default",type:t,format:n,themePath:o}){var r,i;const a=o||(null==(i=null==(r=(0,rt.q)())?void 0:r.assetPaths)?void 0:i.soundsTheme);return`${a}_${n.toUpperCase()}_/${e}/${t}.${n}`}function Hr(e,t,n){return["webm","ogg","mp3","wav"].map((o=>qr({format:o,theme:e,type:t,themePath:n})))}function Gr(e,t){return["webm","ogg","mp3","wav"].map((n=>`${e}/${n}/${t}.${n}`))}function Kr(e){const t=["webm","ogg","mp3","wav"];return t.reduce(((t,n)=>(e[n]&&t.push(e[n]),t)),[])}function Zr(e){return{[Nn.BoardSounds.GameStart]:jr(Kr(e.gameStart)),[Nn.BoardSounds.GameEnd]:jr(Kr(e.gameEnd)),[Nn.BoardSounds.Capture]:jr(Kr(e.capture)),[Nn.BoardSounds.Castle]:jr(Kr(e.castle)),[Nn.BoardSounds.Premove]:jr(Kr(e.premove)),[Nn.BoardSounds.MoveSelf]:jr(Kr(e.moveSelf)),[Nn.BoardSounds.MoveCheck]:jr(Kr(e.moveCheck)),[Nn.BoardSounds.MoveOpponent]:jr(Kr(e.moveOpponent)),[Nn.BoardSounds.Promote]:jr(Kr(e.promote)),[Nn.BoardSounds.Notify]:jr(Kr(e.notify)),[Nn.BoardSounds.TenSeconds]:jr(Kr(e.tenSeconds)),[Nn.BoardSounds.Illegal]:jr(Kr(e.illegal))}}const{loadSound:zr,playSound:$r,enableSound:Qr}=L._w,Yr=[Nn.BoardSounds.GameStart,Nn.BoardSounds.GameEnd,Nn.BoardSounds.Capture,Nn.BoardSounds.Castle,Nn.BoardSounds.Premove,Nn.BoardSounds.MoveSelf,Nn.BoardSounds.MoveCheck,Nn.BoardSounds.MoveOpponent,Nn.BoardSounds.Promote,Nn.BoardSounds.Notify,Nn.BoardSounds.TenSeconds,Nn.BoardSounds.Illegal];function Xr(e){const t=e.options;let n=Yr;const o=(null==t?void 0:t.soundTheme)||"default";let r;e&&(n=e.codes);let i=o;return c({codes:n,theme:o,soundAssets:null==e?void 0:e.soundAssets}),{destroy:a,getSounds:s,getTheme:u,load:c,loadExtra:l,play:d};function a(){Object.keys(r).forEach((e=>{r[e].unload()}))}function s(){return r}function u(){return i}function c(e){i=e.theme,r=e.soundAssets?Zr(e.soundAssets):(e.codes||Yr).reduce(((e,n)=>{var o;return e[n]=zr(Hr(i,n,null==(o=t.assetPaths)?void 0:o.soundsTheme)),e}),{}),Qr()}function l(e){const t=e.codes.reduce(((t,n)=>(t[n]=zr(Gr(e.baseURL,n)),t)),{});Object.keys(t).forEach((e=>{var n;null==(n=r[e])||n.unload(),r[e]=t[e]})),Qr()}function d(e){const t=r[e],n=u();if(!t)return n;try{return $r(t),n}catch(o){return n}}}var Jr,ei=n(2446);function ti(e){return!(!e||!e.san)&&["+","#"].includes(e.san.slice(-1))}function ni(e,t){if(!e||!e.san)return null;let n;return n=ti(e)?Nn.BoardSounds.MoveCheck:e.isPremove?Nn.BoardSounds.Premove:In(e)?Nn.BoardSounds.Promote:(0,ei.B)(e)?Nn.BoardSounds.Capture:(0,Un.p)(e)?Nn.BoardSounds.Castle:t?Nn.BoardSounds.MoveOpponent:Nn.BoardSounds.MoveSelf,n}function oi(e){return function(t){return e!==t.type}}function ri(e){let t,n=e;return{api:()=>({getSoundsInstance:()=>n}),match:[{condition:oi(o.i.UserEvents.Pointermove),handler:i}],name:Nn.Plugin.Name,create:r};function r(e){var o;t=null==(o=e.options.themeAssets)?void 0:o.sound.assets,n||(n=Xr({options:e.options,soundAssets:t}))}function i(e,r){var i,a,s;if(!n)return;const{api:u,options:c,state:l}=r,d=c.soundTheme!==n.getTheme()||!Oo(t,null==(i=r.options.themeAssets)?void 0:i.sound.assets);if(t=null==(a=r.options.themeAssets)?void 0:a.sound.assets,e.type===o.i.OptionsEvents.Update&&d)return n.destroy(),void n.load({theme:c.soundTheme,soundAssets:t});if(e.type===o.i.SoundEvents.Play)return n.play(e.data.sound),void l.set({soundPlayed:e.data.sound});if(!c.playSounds||!(null==(s=e.data)?void 0:s.plyDiff))return;let f=u.getSelectedNode();if(e.type===o.i.APIEvents.MoveBackward&&(f=e.data.move),!f)return;const p=u.getPlayingAs(),m=Boolean(p&&p!==f.color),h=ni(f,m);h&&(n.play(h),l.set({soundPlayed:h}))}}function ii(e){return Boolean(!e||e.isContentEditable||["INPUT","TEXTAREA"].includes(e.tagName))}(e=>{(e=>{e["Shift"]="Shift",e["Control"]="Control",e["Alt"]="Alt",e["Meta"]="Meta"})(e.Modifiers||(e.Modifiers={}))})(Jr||(Jr={}));const ai=["Escape","Tab","Backspace","Enter","Backlash","Period","Slash","Comma","Space","Delete","Home","End","PageUp","PageDown","ArrowUp","Numpad8","ArrowDown","Numpad5","ArrowLeft","Numpad4","ArrowRight","Numpad6","BracketLeft"],si=["Meta".toLowerCase(),"Alt".toLowerCase(),"Control".toLowerCase()];function ui(e){let t;if(e)return e.includes("Digit")?t=e.replace("Digit",""):e.includes("Key")?t=e.replace("Key",""):e.includes(Jr.Modifiers.Control)?t=Jr.Modifiers.Control:e.includes(Jr.Modifiers.Shift)?t=Jr.Modifiers.Shift:e.includes(Jr.Modifiers.Alt)?t=Jr.Modifiers.Alt:e.includes(Jr.Modifiers.Meta)?t=Jr.Modifiers.Meta:ai.includes(e)&&(t=e),null==t?void 0:t.toLowerCase()}function ci({onKeydown:e,onKeyup:t}={}){let n=!0;const o=new Set;return document.addEventListener("keydown",a),document.addEventListener("keyup",s),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),{isPressed:r,getPressedKeys:i,disable:c,enable:l,destroy:d};function r(e){return o.has(e.toLowerCase())}function i(){return[...o].sort()}function a(t){const r=document.activeElement;if(!n||ii(r))return;const i=ui(t.code);i&&(o.add(i),null==e||e(i,t))}function s(e){const n=ui(e.code);n&&(si.includes(n)&&o.clear(),o.delete(n),null==t||t(n,e))}function u(){o.clear()}function c(){n=!1,o.clear()}function l(){n=!0}function d(){document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u),o.clear()}}function li(){let e;const t=ci({onKeydown:s(Vo.Events.Keydown),onKeyup:s(Vo.Events.Keyup)}),n={[Vo.Events.Keydown]:{},[Vo.Events.Keyup]:{}},r={isPressed:t.isPressed,getPressedKeys:t.getPressedKeys,setOverrides:c,removeOverrides:l};return{api:()=>r,create:i,destroy:a,match:[{condition:(0,Xn.is)(o.i.OptionsEvents.Update),handler:d},{condition:(0,Xn.is)(Vo.Events.Keydown),handler:u},{condition:(0,Xn.is)(Vo.Events.Keyup),handler:u}],name:Vo.Plugin.Name};function i({run:t,options:n}){e=t,f(n.enabled)}function a(){t.destroy()}function s(t){return function(n,o){null==e||e((0,ct.e)(t,{key:n,rawEvent:o}))}}function u(e,t){const{type:o,data:r}=e,i=n[o][r.key];i&&t.queue.add(i(t.api))}function c(e){e.forEach((({key:e,callback:t,trigger:o=Vo.Events.Keydown})=>{n[o][e]=t}))}function l(e){e.forEach((({trigger:e=Vo.Events.Keydown,key:t})=>{delete n[e][t]}))}function d(e,t){const{options:n}=t,o=n.captureKeyStrokes&&n.enabled;f(o)}function f(e){e?t.enable():t.disable()}}var di=n(8696);function fi(e,t){switch(e){case Y.Alt:return t.analysisHighlightColors.alt;case Y.Ctrl:return t.analysisHighlightColors.ctrl;case Y.Shift:return t.analysisHighlightColors.shift;case Y.None:return t.analysisHighlightColors.default;default:return}}function pi(e,t){const{api:n,options:o}=t;return o&&o.allowMarkings?n.markings.getAllWhere({types:[w.R]}).map((({data:{color:e,keyPressed:t,opacity:n,square:r}})=>(0,di.t)({color:fi(t,o)??e??o.analysisHighlightColors.default,opacity:n??o.analysisHighlightOpacity,square:r,type:"analysis"}))):[]}var mi=n(9501);function hi(e,t){var n,r;const{options:i,state:a}=t;if(!i||!i.highlightMoves)return[];const s=a.get(o.i.State.SelectedPiece)||a.get(o.i.State.DraggingPiece);if(!s)return[];const u=(0,di.t)({color:(null==(n=i.themeAssets)?void 0:n.board.config.highlightSquareHex)??(null==(r=(0,Co.dn)(i.boardStyle))?void 0:r.highlightColor)??On.b.HighlightColors.Selected,opacity:i.highlightOpacity,square:s,type:"SelectionHiglight"});return[u]}function gi(){return[Lo(),Ho(),Ur(),Vr()]}function vi({exclude:e}={}){const t={[Vo.Plugin.Name]:li,[Hn.Plugin.Name]:Jn,[Yn.Plugin.Name]:eo,[nt.Plugin.Name]:co,[Io.Plugin.Name]:Do,[Fo.Plugin.Name]:Go,[Wo.Plugin.Name]:Ko,[w.S.Plugin.Name]:nr,[or.Plugin.Name]:sr,[Or.Plugin.Name]:Nr,[Bo.Plugin.Name]:qo,[Lr.Plugin.Name]:Dr,[Nn.Plugin.Name]:ri};e&&e.forEach((e=>{delete t[e]}));const n=[hi,mi.B,pi],o=[...gi()];return Object.keys(t).forEach((e=>e===w.S.Plugin.Name?o.push(t[e](n)):o.push(t[e]()))),o}var yi=n(3135);function bi(e){return e.altKey?Y.Alt:e.ctrlKey?Y.Ctrl:e.shiftKey?Y.Shift:Y.None}var Ai,wi,_i=n(3330);function Ci(e){setTimeout(e)}function Ei(e){let t;return function(...n){t&&cancelAnimationFrame(t),t=requestAnimationFrame((()=>{t=null,e(...n)}))}}function Si({el:e,getPointerPosition:t,options:n,run:r,api:i,monitorUntrustedEvents:a}){const s=Ei(f);return{handleDocumentPointerdown:u(c),handlePointerdown:u(l),handlePointermove:u(s),handlePointerup:u(p)};function u(e){return function(t){if(e(t),!t.isTrusted&&a){const e=(0,ct.e)(o.i.FairPlay.UntrustedUserEvent,t);i.emit(o.i.FairPlay.UntrustedUserEvent,e)}}}function c(e){const t=(0,_i.v)(e)?o.i.UserEvents.PointerdownRight:o.i.UserEvents.PointerdownLeft,n=(0,ct.e)(t);return n.data={square:null},r(n)}function l(i){i.stopPropagation(),document.addEventListener(yi.lF,s),document.addEventListener(yi.nC,p);const a=(0,_i.v)(i)?o.i.UserEvents.PointerdownRight:o.i.UserEvents.PointerdownLeft,u=(0,ct.e)(a);return u.data={...t({el:e,event:i,flipped:n.flipped}),keyPressed:bi(i),timestamp:performance.now()},Ci((function(){document.addEventListener(yi.BB.Mousedown,d,{once:!0})})),r(u)}function d(i){const a=(0,_i.v)(i)?o.i.UserEvents.MousedownRight:o.i.UserEvents.MousedownLeft,s=(0,ct.e)(a);return s.data={...t({el:e,event:i,flipped:n.flipped}),keyPressed:bi(i),timestamp:performance.now()},r(s)}function f(i){const a=(0,ct.e)(o.i.UserEvents.Pointermove);a.data={...t({el:e,event:i,flipped:n.flipped}),keyPressed:bi(i),timestamp:performance.now()},r(a)}function p(i){document.removeEventListener(yi.BB.Mousedown,d),document.removeEventListener(yi.lF,s),document.removeEventListener(yi.nC,p);const a=(0,ct.e)(o.i.UserEvents.Pointerup);return a.data={...t({el:e,event:i,flipped:n.flipped}),keyPressed:bi(i),timestamp:performance.now()},r(a)}}function Pi(e){const t=Array.isArray(e)?e:[e];return t.map((e=>{var t;return`${e.name} (requires: ${null==(t=e.requires)?void 0:t.join(", ")})`})).join(", ")}function ki(e,t=new Map){return!e||e.every((e=>t.has(e)))}function Ti(e,t=new Map){return Mi(e,t,new Map)}function Mi(e,t,n){if(0===e.size)return n;const o=e.size,r=new Map([...t.entries(),...n.entries()]);return e.forEach((t=>{const o=ki(t.requires,r);o&&(n.set(t.name,t),e.delete(t.name))})),o===e.size?(n.clear(),n):Mi(e,t,n)}function xi(e,t){if(0===e.length)return[];const n=new Map(e.map((e=>[e.name,e]))),o=new Map(t.map((e=>[e.name,e]))),r=Ti(n,o);if(0===r.size){const t=Pi(e);throw new Error(`Required plugins do not exist: ${t}`)}return[...r.values()]}(e=>{(e=>{e["CreateFailure"]="CreateFailure"})(e.LogCodes||(e.LogCodes={}))})(Ai||(Ai={})),(e=>{(e=>{e["PluginAdded"]="PluginAdded",e["PluginRemoved"]="PluginRemoved",e["ContextSet"]="ContextSet"})(e.Events||(e.Events={}))})(wi||(wi={}));const{createEventEmitter:Oi}=L.rG;function Li(e=[],t,n=Oi()){const o=new Map;let r=t;return a(e),{add:i,addMany:a,destroy:s,...n,getAll:u,getContext:c,getOne:l,has:o.has.bind(o),remove:d,setContext:f};function i(e){var t;return!!e.name&&(o.has(e.name)&&d(e.name),o.set(e.name,e),null==(t=e.create)||t.call(e,r),n.emit(wi.Events.PluginAdded,e),!0)}function a(e){if(!e||0===e.length)return!1;const t=Array.isArray(e)?e:[e];return t.reduce((function(e,t){const n=i(t);return n||(e=!1),e}),!0)}function s(){o.forEach((e=>d(e.name)))}function u(){return[...o.values()]}function c(){return r}function l(e){return o.get(e)}function d(e){var t;const i=o.get(e);return!!i&&(null==(t=i.destroy)||t.call(i,r),o.delete(e),n.emit(wi.Events.PluginRemoved,i),!0)}function f(e){r=e,n.emit(wi.Events.ContextSet,r)}}function Ri(e=[],t){const n=Li();return n.addMany(e),{add:r,addMany:r,get:n.getAll,has:n.has,remove:i,setCreatePluginContext:n.setContext};function o(e){const t=n.getContext();if(!t)return;const{api:o,apiOverrides:r,modeOverrides:i,name:a}=e;o&&(e.destroyAPIMethods=t.api.extendAPI(a,{[a]:o})),r&&(e.destroyAPIOverrides=t.api.overrideAPI(a,r)),i&&(e.destroyModeOverrides=t.mode.extendMode(i))}function r(e){const r=Array.isArray(e)?e:[e],a=xi(r,n.getAll());a.forEach((r=>{n.has(r.name)&&n.remove(r.name),o(r);const a=n.add(r);if(!a){const{name:o}=r;null==t||t.log({code:Ai.LogCodes.CreateFailure,data:{currentPlugins:n.getAll().map((e=>e.name)),data:Pi(e),plugin:o},level:ln.Levels.Error,message:`Could not create ${o} plugin`}),i(r.name)}}))}function i(e){var t,o,r;if(!n.has(e))return;const i=n.getOne(e);n.remove(e),null==(t=null==i?void 0:i.destroyAPIMethods)||t.call(i),null==(o=null==i?void 0:i.destroyAPIOverrides)||o.call(i),null==(r=null==i?void 0:i.destroyModeOverrides)||r.call(i)}}var Ii=n(346);function Ni(e){return e===jo.A4.Types.WebGL3D?Promise.all([n.e(940),n.e(393)]).then(n.bind(n,2393)):e===jo.A4.Types.WebGL2D?Promise.all([n.e(940),n.e(915)]).then(n.bind(n,2915)):n.e(527).then(n.bind(n,6527))}function Bi(e){const{Arcade:t,Natural:n}=On.b.Animation.Types,o=e.themeAssets?e.themeAssets.config.perspective===ho.b.Perspective.REAL_3D:e.pieceStyle===Ii.Y.PieceStyles.Trigger;return o?jo.A4.Types.WebGL3D:[t,n].includes(e.animationType)?jo.A4.Types.WebGL2D:jo.A4.Types.Default}function Di(e){return Ni(Bi(e))}function Ui(e={},t,n,o){var r;const i=Bi(n),a=i!==o,s=i===jo.A4.Types.WebGL2D,u="animationType"in e,c=e.animationType!==t.animationType,l=s&&u&&c,d=e.themeAssets&&e.themeAssets.config.perspective!==(null==(r=t.themeAssets)?void 0:r.config.perspective),f=d||Object.keys(e).some((e=>jo.A4.TriggerOptions.includes(e)));return f&&(a||l)}function Fi(e){const t=Bi(e),n=t===jo.A4.Types.WebGL2D||t===jo.A4.Types.WebGL3D;return!n||("undefined"===typeof window.hasWebGLSupport&&(window.hasWebGLSupport=o()),!!window.hasWebGLSupport||(Wi(e,t===jo.A4.Types.WebGL3D),!1));function o(){const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return Boolean(t)&&t instanceof WebGLRenderingContext}}function Wi(e,t=!1){const{pieceStyle:n,animationType:o}=(0,rt.q)();e.animationType=o,t&&(e.pieceStyle=n,e.themeAssets&&(e.themeAssets=vo(e.themeAssets)))}const Vi=(e,t)=>{const n=e[t];return n?"function"===typeof n?n():Promise.resolve(n):new Promise(((e,n)=>{("function"===typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))}))};async function ji(e){return Vi(Object.assign({"../analysis/index.ts":()=>n.e(733).then(n.bind(n,1733)),"../capture-the-star/index.ts":()=>n.e(55).then(n.bind(n,55)),"../exploring/index.ts":()=>n.e(877).then(n.bind(n,8877)),"../guess-the-move/index.ts":()=>n.e(8).then(n.bind(n,4008)),"../observing/index.ts":()=>n.e(144).then(n.bind(n,5144)),"../passive-observing/index.ts":()=>n.e(710).then(n.bind(n,5710)),"../playing/index.ts":()=>n.e(104).then(n.bind(n,6104)),"../setup/index.ts":()=>n.e(304).then(n.bind(n,3304))}),`../${e.toLowerCase()}/index.ts`)}function qi(e){return function(){return e.state.get().machineState===Cn.States.PieceDragging}}const Hi="1.111.0";function Gi({api:e,apiOptions:t,el:n,emitter:r,init:i,logger:a,mode:s,options:u=(0,rt.q)(),plugins:c=vi(),renderer:l,monitorUntrustedEvents:d=!1}){const f=e||wn({eventEmitter:r,logger:a,options:t||{}}),p={...(0,rt.q)(),...u};n.id=`board-${p.id}`;const m=Ri(),h=O();let g,v;const y=Qn({params:{api:f,el:n,options:p},plugins:m});m.setCreatePluginContext(y.getContext());const b=Object.assign(f,{destroy:_,getMode:y.getMode,getOptions:E,getVersion:()=>Hi,isDragging:qi(y.getContext()),getRenderer:()=>g,playSound:P,plugins:m,resize:k,run:S,setMode:T,setOptions:x,setRenderer:h}),A=T(s);return"name"in A?w():A.then(w),b;function w(){m.add(c),S((0,ct.e)(o.i.InstanceEvents.Create)),n.addEventListener("contextmenu",(e=>(e.stopPropagation(),e.preventDefault(),!1))),f.onAll(S),f.emit(o.i.InstanceEvents.Create,(0,ct.e)(o.i.InstanceEvents.Create,y.getMode().name)),h(l).then((()=>{i&&f.load(i)}))}function _(){C(),f.offAll(S);const e=(0,ct.e)(o.i.InstanceEvents.Destroy);S(e),f.emit(o.i.InstanceEvents.Destroy,e)}function C(){y.setRenderer(),null==g||g.offAll(f.logger.log),null==g||g.destroy(),g=void 0,n.removeEventListener(yi.WP,null==v?void 0:v.handlePointerdown),document.removeEventListener(yi.WP,null==v?void 0:v.handleDocumentPointerdown),document.removeEventListener(yi.lF,null==v?void 0:v.handlePointermove),document.removeEventListener(yi.nC,null==v?void 0:v.handlePointerup)}function E(){return{...p}}function S(e){return y.run(e),e}function P(e){S((0,ct.e)(o.i.SoundEvents.Play,{sound:e}))}function k(e,t){S((0,ct.e)(o.i.UIEvents.Resize,{height:t,width:e}))}function T(e){return"modeType"in e?ji(e.modeType).then((t=>{const n=t.create(e.options);return M(n)})):M(e)}function M(e){var t,n;const r=y&&y.getMode();r&&(null==(t=r.plugins)||t.forEach((e=>m.remove(e.name))),m.get().forEach((e=>{var t;return null==(t=e.destroyModeOverrides)?void 0:t.call(e)})),null==(n=r.destroy)||n.call(r));const i=e(f);return f.usePlayingAs(i.usePlayingAs),i.plugins&&m.add(i.plugins),m.get().forEach((e=>e.modeOverrides&&i.extendMode(e.modeOverrides))),y&&(y.setMode(i),S((0,ct.e)(o.i.InstanceEvents.ModeChanged)),f.emit(o.i.InstanceEvents.ModeChanged,(0,ct.e)(o.i.InstanceEvents.ModeChanged,y.getMode().name))),i}function x(e){const t={...p};Object.assign(p||{},e),e&&g&&Ui(e,t,p,g.name)&&h(),f.emit(o.i.OptionsEvents.Update,(0,ct.e)(o.i.OptionsEvents.Update,e))}function O(){const e=(0,Sn.y)();return async function(n){e.add(t,n)};async function t(e){if(C(),e)g=e;else try{Fi(p)||f.emit(o.i.InstanceEvents.RendererSetFailed,(0,ct.e)(o.i.InstanceEvents.RendererSetFailed,{message:"WebGL is not supported by the browser. Will fallback to default.",isWebGLRenderError:!0})),g=(await Di(p)).createRenderer({el:n,options:p})}catch(t){f.emit(o.i.InstanceEvents.RendererSetFailed,(0,ct.e)(o.i.InstanceEvents.RendererSetFailed,{message:"Problem creating renderer. Will fallback to default.",error:t})),Wi(p,!0),g=(await Di(p)).createRenderer({el:n,options:p})}y.setRenderer(g),Object.assign(b,{animationComplete:g.animationComplete,getPointerPosition:g.getPointerPosition,isAnimating:g.isAnimating}),v=Si({el:n,getPointerPosition:g.getPointerPosition,options:p,run:S,monitorUntrustedEvents:d,api:f}),n.addEventListener(yi.WP,v.handlePointerdown),document.addEventListener(yi.WP,v.handleDocumentPointerdown),g.onAll(f.logger.log),g.on(o.i.InstanceEvents.WebGLAssetsInitialized,(()=>{f.emit(o.i.InstanceEvents.WebGLAssetsInitialized,{type:o.i.InstanceEvents.WebGLAssetsInitialized})})),f.emit(o.i.InstanceEvents.RendererSet,(0,ct.e)(o.i.InstanceEvents.RendererSet,g.name))}}}},2071:function(e,t,n){var o;n.d(t,{Z:function(){return o}}),(e=>{(e=>{e[e["White"]=1]="White",e[e["Black"]=2]="Black"})(e.ColorsAsNumbers||(e.ColorsAsNumbers={})),(e=>{e["Bughouse"]="bughouse",e["Chess"]="chess",e["Chess960"]="chess960",e["Crazyhouse"]="crazyhouse",e["KingOfTheHill"]="kingofthehill",e["ThreeCheck"]="threecheck"})(e.Variants||(e.Variants={})),e.JCEVariantTypes={["bughouse"]:"Bughouse",["chess"]:"Chess",["chess960"]:"Chess960",["crazyhouse"]:"Crazyhouse",["threecheck"]:"3-check",["kingofthehill"]:"King of the Hill"},(e=>{e["White"]="w",e["Black"]="b"})(e.ColorsAsLetters||(e.ColorsAsLetters={})),(e=>{e["White"]="white",e["Black"]="black"})(e.ColorsAsWords||(e.ColorsAsWords={})),e.DefaultTimeControl=5,(e=>{e["Black"]="?",e["Event"]="?",e["Date"]="????.??.??",e["Site"]="?",e["Value"]="?",e["Result"]="*",e["Round"]="?",e["White"]="?"})(e.EmptyPGNHeaders||(e.EmptyPGNHeaders={})),(e=>{(e=>{e[e["Capture"]=1]="Capture",e[e["BigPawn"]=2]="BigPawn",e[e["EPCapture"]=4]="EPCapture",e[e["AnyCapture"]=5]="AnyCapture",e[e["Promotion"]=8]="Promotion",e[e["CapturePromotion"]=9]="CapturePromotion",e[e["KingsideCastle"]=16]="KingsideCastle",e[e["QueensideCastle"]=32]="QueensideCastle",e[e["AnyCastle"]=48]="AnyCastle",e[e["Drop"]=64]="Drop",e[e["DropOrCapture"]=69]="DropOrCapture",e[e["DropOrPromote"]=72]="DropOrPromote"})(e.Flags||(e.Flags={})),(e=>{e[e["Capture"]=0]="Capture",e[e["Castle"]=1]="Castle",e[e["Check"]=2]="Check",e[e["Checkmate"]=3]="Checkmate",e[e["Normal"]=4]="Normal",e[e["Premove"]=5]="Premove",e[e["Promotion"]=6]="Promotion"})(e.Types||(e.Types={}))})(e.Move||(e.Move={})),(e=>{(e=>{(e=>{(e=>{(e=>{e["Arrows"]="arrows",e["Effects"]="effects",e["Pieces"]="pieces"})(e.Targets||(e.Targets={})),(e=>{e["Above"]="above",e["Below"]="below"})(e.Positions||(e.Positions={}))})(e.VisualOrder||(e.VisualOrder={})),(e=>{e["Image"]="Image",e["Star"]="Star",e["TextBox"]="TextBox"})(e.Types||(e.Types={}))})(e.CustomItem||(e.CustomItem={})),(e=>{e["alt"]="a",e["custom"]="c",e["default"]="d",e["shift"]="s",e["ctrl"]="l"})(e.ColorKeys||(e.ColorKeys={})),(e=>{e["a"]="alt",e["c"]="custom",e["d"]="default",e["s"]="shift",e["l"]="ctrl"})(e.JCEColorsMap||(e.JCEColorsMap={})),(e=>{e["Arrow"]="arrow",e["Effect"]="effect",e["Square"]="square",e["CustomItem"]="customItem"})(e.Types||(e.Types={}))})(e.Marking||(e.Marking={}))})(e.Node||(e.Node={})),(e=>{(e=>{e["p"]="pawn",e["n"]="knight",e["b"]="bishop",e["r"]="rook",e["q"]="queen",e["k"]="king"})(e.Names||(e.Names={})),(e=>{e["Pawn"]="p",e["Knight"]="n",e["Bishop"]="b",e["Rook"]="r",e["Queen"]="q",e["King"]="k"})(e.Types||(e.Types={}))})(e.Piece||(e.Piece={})),(e=>{(e=>{e["Color"]="#ffff00",e[e["Opacity"]=.5]="Opacity"})(e.Defaults||(e.Defaults={})),(e=>{e["Analysis"]="analysis",e["Move"]="move",e["Premove"]="premove",e["Selection"]="selection"})(e.Types||(e.Types={}))})(e.Highlight||(e.Highlight={})),(e=>{e["Blitz"]="blitz",e["Bullet"]="bullet",e["Rapid"]="rapid"})(e.TimeControlTypes||(e.TimeControlTypes={})),(e=>{e["Black"]="0-1",e["Draw"]="1/2-1/2",e["None"]="*",e["White"]="1-0"})(e.Results||(e.Results={}))})(o||(o={}))},859:function(e,t,n){var o;n.d(t,{R:function(){return r},S:function(){return o}}),(e=>{(e=>{e.Name="highlights"})(e.Plugin||(e.Plugin={}))})(o||(o={}));const r="highlight"},4484:function(e,t,n){function o(e){return void 0!==e.touches}n.d(t,{k:function(){return o}})},1495:function(e,t,n){var o;n.d(t,{d:function(){return o}}),(e=>{(e=>{e["Analysis"]="analysis",e["CaptureTheStar"]="capture-the-star",e["Explorer"]="exploring",e["GuessTheMove"]="guess-the-move",e["PassiveObserving"]="passive-observing",e["Observing"]="observing",e["Playing"]="playing",e["Setup"]="setup"})(e.Types||(e.Types={}))})(o||(o={}))},3825:function(e,t,n){n.d(t,{t:function(){return o}});var o=(e=>(e["BadData"]="Bad Data",e["BeforeStateHooksConflict"]="Before State hooks conflict",e["DOMDoesNotMatchJCE"]="DOM Does Not Match JCE",e["ElementAlreadyExists"]="Element Already Exists",e["ElementNotFound"]="Element Not Found",e["IllegalJCECall"]="Illegal JCE Call",e["IncorrectMode"]="Incorrect Mode",e["InvalidStateMachine"]="Invalid State Machine",e["MissingPluginDependency"]="Missing Plugin Dependency",e))(o||{})},7571:function(e,t,n){n.d(t,{A:function(){return h}});const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA8UExURUxpcUFBQUNDQ0REREREREVFRUVFRUVFRf////j4+O/v7+Li4tPT08TExK+vr5SUlICAgGtra1VVVUZGRh1ZfCsAAAAIdFJOUwAgPF19qsrhYMPqTAAAA+1JREFUeNrtm9vSqyAMhSv1FAmKrPd/132BWs+2u0g6/7Bu25l+k4QQFvTxSEpKSkpKSkpKSkpKSkpKSkpKSvpVZUoplf0UkspLDCpz9SNhyissVOU/QJVjq+opnT4fKWdbo7XWprVDLkWr7AkA6A3VNQ1q2h4AoIQT6Ez9giIiotYBwFOUqqM1FVHTC3IpAGjrLRVR04nlMasOqYh0B6CSqPvihIqILYBCZhHaQyrS3IuksQTQHFIRcSsRLjWk8IiKNFsAWfzKcs05lgEQe3sE0J1RUcPcA1X8HPIpFjF30bOYA6BTKmI20Vt9AfTnwSLN7GIXVwnYcypi5j52iyiB7i2sMipW9RaWFcE6pWokolUC9hxLS9RWAfTXWNFXYg7gMofx+5YCYK6CFb/LPwB0F8ES2BP9BHHaHUQmCAWgPU0hW4nxtAScPqMyIsP8E4A9ziALzfKP8iCNjacSOvk8MuxyaU8ldk70vki7C8WdoDsyeBCv9I1QLOlB+OP+VPeNntRDLIWjD2h3mqqPFiTMSlUO5tZu4+qcjCfoQ9U19cGWaCQCNoXq2Bnh+AEbQkXHR7KGOXbA/AJ0XNdnhg0zcxszYM8pVCdYvoUZG6+tKgCmrqmuqT4fbYZ2Hw+L6UJjv2+jDc7Z1Rz/GiN8tOKdXe0F1nx3jHWCLQDo96jaiB1C4SJcExX3Mc9kxeKazvBK7eLjeCOqWvzumorN4uOIu888XG6DxXOqmJt1lg8qgX6L5YBy/IbIMFgBVm+weplDz8qK2HDZ+ObDnnGz5hKwajaDl6YNVyt5J+xP1v2qgY41L1hc2eucqNfFBdkcMu1wyWaxGnO44XKxre/V9NzSLpcVfKBRAW5/cGADsXDlANr6gMtKVVeGVbDmszIbJ2SOlAA2DkSz6PSFTAp3rhSbxWCaS6xC1+w9r1kMg5FXo8LhHXqzmJ2jcqnq5HVGM1+NMbkUhmcQNf0Q13Oiqi/O1DGt3fyKatZYbaxTRla+qGp6j+t+h8sbgeaK6pXIDvcn0ofK6WuqF5i3BIvs5lqfjMArrBHMe6iVujWBbkjgG1TTfUt350PU3F9afEI1kpn7OsVzemb6CdR4HXRXZ1WzFfghlX9RfI97U81iRf+j7o45On/10P+jIrLhG34GoKdvoIgaFzyNxTBefUHlyysPHSz7LRVRH9gDyMdgfUVFoZ8oVf7h5JdURGE9gMsHzJ80iSxoDpsAVKSDZrEE+hBUREH9OFw/53y/pVYh24MJQkUhrxefAHQYLBNwjrh8NilT8zng6kBcAfefYm6Rfr8U/z6W6wIpLFZI/XWsKqh+4a+xSUlJSUlJSX9R/wAgFdSXQxyROwAAAABJRU5ErkJggg==",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcUVFRfj4+EZGRkRERENDQ0VFRUVFRUREREFBQdPT0////5OTk+7u7uHh4V1dXU9PT6SkpG5ubre3t8jIyIKCgji/HX0AAAAKdFJOUwC1//+RRfHebR4QloLCAAAF2ElEQVR42u2c3bacIAyFK/6gKIio7/+qFVBHHcWMhBnbZS66zkV75jvZmxACp3/+PPHEE0888cQTTzxRpHl6P6goHiK/GVWaxfH9uIqR6mZcWsFetDfjSjVVWZY340riWPIBi9yLK7LJKsm9uAbDNxbrTlzaWl15O658AOET1n24BsfX5YxluZI8LX6MRUfHj1iWa4iMJnnxUw3bJdbMpYMm6c8MX5Ml1cBVywVZ9gOygs7r8IU1hOiaXs1wNP8BVfVOZYKLrprQsuSLNjMNjSIHWIaMNSNZlnzTV04qC9ZVtQXLv7YG4564oKzPGGssWFR8iaoqT6lMxkaw8AkzCjYQKg3GGKvkNxJGZyoCiSFhnTLFoggtYQWnsglrdMKykNU1ey/uAK62DttgvHZCAg82CZkHdFa9puqalgO4WB+Qq4hfjbL9QK2ObCBcleYK469k6kinVI1b34+5Bg3VgopPvYLkAN8brqwIU0rbBVY/N1cdoH5Zf9EwB1bywhKvno8REJdej0mIotUvklXNVApWvlhXB7DXfDIcP6meqThsGxrqagB7bTRkseyrXqm+A1dVa/skqIZNQz4Kky5jrxR741lqyMmHwSYZadiNh1xJV4+brnxTtD4PsxiZ3hkoarKWhr8SbHZ9irkdQlsaxl0qMsR0mcM9kEow4VIRM126hWcwquHDhVNF7a4ITcIKaCwtlRPLLMYCS0ICTtYh1miuFqdRNdcVQAltRtxYuqdFUDHa9sqnNdNZuazpC4xCqoBU9oPFCRaGilpCKYB1VICwMFSkH+w6bWc+lbvrvFmLmX9t6IFUXaxgWI2vuUxt4MBFONTJxuH4F1bnaa5iKu8QX+kuunZY64WlzZUg1AbIIrS9fePAmi2vm1TqWRsIrLqPJw7lsNYLS1eub9QGoyDV68NhrReWl+en2gClKsy5WwCwWo/mJh9rA6AySDuHNCMdflJsTXgsRWpvo3e/vVh+eDNNRwv3+GaBJS8vxeJoFW52GGFGfdE8PCHn9cGnQoz3q8cOMQnjZmA7foa2vABhqcu7or1fdUrBOzt2n8bI1Dkm4Qus3gdLlYenYz1+mIYj02VA7tZQrLHoZSx5NGmvl1et6aLM1Rykoa6n9Lq3xO7P3C8uWaN0tVO1MA01VnZ9JVZ7P7OlolGUrN6URScDOIGDZT6ne//mpkq9394nsVvClYY+WLoKya0q5vS5s3Hon0EyAtTQw1s2AXEv1slSe/uGeY4nOwLV0GMlTlzxYgzJjYTRbrfoplony6OcmtVoH9rVDVtI+DaUNXfqkhF4sjyxxseSmqwaOhZhRtj53j2xEuSDZHls1RNYMj9NlFLuSGgdyCEjN4Z1xjBgebQs6sVOOs+mzhsJvdrANRndp6J7VeRMQpwpxEiQ5sn2qbClOr3y2VL51QfYiKkW5EMJsUZJLqrzG583CVEc70v1LiGW448HAQCqdwn9Tq+AUySA6l1C7xp/1vZcpPKv8c7e9XwN7koY0FoFqF4dJCuctai7b3eswpDWMuMJck1CU7WSUBVL8osSmk4yiLUSoIS7yUKYMx/7HfD24SBZwTbEBPRQ5ChZbagNMfNKFmKv9XZ+vO4szymzc9tZLkP9Irfr2rYxUdmwX+o/27brvrLzZHo2IVjbVL1aPUY/Dlkr1VeNvhMKVR70OgTS7PDpoViA8lDk9DglJpRS9otDdPTHxItDo86ZEWZQRnA+vgjfBOfaea3Ve/W7B6hb4Qgl+6YTvPw0+OBHtZ0h4pRRPZAQpU+IccSZY1IpVvqHGWUglQkzAWlLlLAXHylSXZCbVBHw+yT9V1f/FOuZYPT6HRqPx1IG0USDImNhr8sIVpSlwqirufs650KgnPgjWDPzSWC0g5CH3h8GwjSpgDyo/jBa/+Niim4ta67C3/HIVOYJeeqNJbGxuD+WvorFxiL+FeK+WAodSz5YD5a95q+wA8XyQeL/xMppmLjb/zbzxBNPPPHEE0/84/EXqrqgdaE+G+kAAAAASUVORK5CYII=",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABIUExURUxpcUJCQkREREVFRUREREREREVFRUVFRT8/P0RERPj4+EZGRtPT0////6CgoOHh4f39/bKysmRkZFFRUcXFxY+Pj+/v73p6esE377UAAAAKdFJOUwAoZMREiPDfEqnkaJEWAAAFq0lEQVR42u2b2ZajOgxFmzCaGMzM///pRTIhsoF0IBaw+qKHfqjK6ux1JB3LQ/35c8cdd9xxxx13OI3ES66GFITxc4hIPC4E5fnPKeLLgIVPI/zkQlR92TRlW6NgyVWo2i4rUoiyvgZXMGDUzQg1RFMNPxCnY0EHEqpUIZd3AbFyQpUqWV5ALjGkMM1SiiX7gevk6oqGcqdiARbIFZxrpFBZlAqw5NCN4emlpQwsqbHE+ViUqhuo2uflsIYc5rBmn1tbyYBQmjmEgj+54tFNezOH4KanTxGhmUV1gcJ6OURPxGouMkEImB/eYlUXKCyIx/PN1WEXiqtQVUqvPyhWdIEU4gzYp1n2Fiu8CFVbjGv1VcRCqjIbqbRYk2UF4sQmHCbT11wjTbHik2o/1FP8i6rDZSekvSDOopITVWpOpUn0PIXLplJo8MLa0ooz/OqdQRArJwYPa1JVH84V2FQKCz6m3YBT6qE25kXaGTIy0DSEIdEL+MFcSYy7Q1OsluxaobIkbLHrI4cvX3v7mwomeJrDAbvSW/8DB2jQokozusM3cxi8R2nwsmPWIzwM6UhhoVi0D2Gr3Y2/g9z6RxQWlLvMLLHASyO61Z5+2R9T9sIudxSLbllBzub920MGVvDRqqApRLEa0nJQex3Zox1QXpDCWhli4f4+J/ZgbdLSAyZpMfqoJRaUVry2peVPY/BKoSWWXVqSYqGrsu7SwEiVKRYWvFVatUGVKuYZH+q9zUyxMIf0pM23SgvIec9T49FIM+tACxfE5O1auYmV8p6nPl71Xlg5pBXvGa71UrRnlCvG81tTLMwhJEkQdpXaWWz45AoWxBqxSEnPK34a9D2uNpyJpUuLNqJ4DTXmpxquZvTGxTCbHeHajdjOsPRpPcsSFL48a46Vf27E6bT+wVPwfWbncPKHaG3pmfq1Zhm8vKWCH7Esf5CLWC3LnQuOKzOx0pc/+KRdVbpQ80xZ9BdzmC7ZVreIxXK5kSznUPsWueR5LNmWxqJztUsvVXOxNJY5P1QLWMoaFR2WVl18gSXWsRqG4hJjaRULPdaYm7F+BYvjQi+eT1oT1udp641Vua/5+Qxvtr73ae2ZD/wOG7FZEGtaV/6CZS8GDj1ermHRJTFeWhJHteBzPP6wKAR2fqJjBWu2orNjKfw6EsdjFQvf2H2B1UnJ4qcfsPQ2kES5UlrHqjV8aWmEPA5r7MR0Z0jJ04mjb+2k0qXF4Ft6ril2YukcMrg87hwcYLme5n376dH2HHIs1TBH7cUaxeIYbHAM/KkPjbHMqXH9JhbH0Ly8Ld0iFoM/jOPpT2LR3aTTmq9/aUOWHYbel8pfxMpZTriSlUnqWyoOjx8NtdqfQrZzt11ZnKiMmz3X1z397hQat7PujwP3UpVst9bec6N1ESrOx0pim1yUqmS89THfJ26h4n3ZJRYuTv7eg+O5Kd8VGbwWqbptfoWexXyhGH5Z9UYCJf+zT/+bNHYWFf/LXQ+fbW2SCv2d++UuPjhQX1cVeEN9xEMI6Mb1sp9BaaoDXiX5o16dUrJp4NAhH6LV0eO/8IOybJoXFf9jlsR74GvEun5+EfpTccD650hBKOLnzojFg4UtENGqJBWNelXIOHRNFviUA769b3OpVIe3xPPooPLytq/6vqKUvsuWnP5cs2pLqVZI1iNVTdlW438hnDlYoIu8bTYDGQI2vU6l55Cqzrvs5+had1z46q7/BFVY8eGjqnL1VhBsvS9shjT94vymSGek+JjLgb2+n2whzP4Y6brayaCKA/xvQCack31sEu09qVkNFzvGYMP4/mWUDs5Iwp3nR5/GRAeTjti+w/9rODjajZ2XFhbXr6N9tOtU63M4uDbYf5K7Hu1lsX50iMS9P+Aj5+jG2uCnP2J5/yOs3AlWnzuO3gkWR/ybWEnMFH/uuOOOO+644447nMd/5mwuGyzR1rsAAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA/UExURUxpcUFBQUNDQ0REREREREVFRUVFRUVFRf////j4+O/v7+Li4tPT08XFxbS0tKCgoI+Pj3p6emNjY1NTU0ZGRi8lq24AAAAIdFJOUwAiRmyXweDwOT8tswAABR1JREFUeNrtm2FzozYQht+VsO/aGZxk2v//C3vTnP3h7my0bz9gbIEhloTkuK02M5nYKPDw7mq1SAKoVq1atWrVqlWrVq1atWrVriZ5ziLnExHkU2BZEdmNvtmTdJ+Ntd3NfLk/PhZLREQAoBt89edwiP7Z/hraNwBAMtK3TURbY8xFmr/d9bY6VVIhAESMWAvImcK8XARU1QJYYm07o7IAOLnLN6RCPayrM3bAwTnmxRL7OvyphBgYD4tjAPU+mb597/gWeA8EC8OyTQsAdOoUwGaL3bfL+anjGCUvH2QHdEcA1lojAF4PncuHJS0A13XsL+9wcZNMYh0AOGQxyNBYtTPWGqB9zxtb/NVd3USBUQ9r3J+vXxiArv8kcM5sg3tXGBMgnRdBCk8PTrMM/aPqQesQiJmwphlOgZcrlmAJ6wXQpIwdrBaMh+Yu/9nO3D+B9nJy592VlFer/zx7IfpHnaQMKeFq+eeknv9Tzowju0Cb68Hlm8iIBR9rWa0pFnI78QDIJJO31hgjmCmwSECMMbadSCnAIevgM720A/C2ePsUvHoNfbWYM7ZuUqYSH3iFoyAcqZUX66YbaRiWJlabTZpa+PVR6+Nx/p7C1WqQZkw5mDtv3aqVVJsXiS1ZS5V9TLzNp4li5Vcrpuky1jOpJSikFg9r1LpiHTI7UTNgmZlqYyUWAZvqxfM1xAT7MEYtbJKnc/qnOuRXS/fARlaJZYF9biw4QLYpWtlhmJNrmXP/eTl4EDx9hZHoeSsZ7rtpgO9d/hmbDsBGjlwKn3NWGherZvD7xp5PkX20sm8A9NRdhehnu2QyWpLsZ7T0EiLWGm/yKfMgat8AQDsVIyIhUakESbEGcVRxI4ppdskpdd8pCmEBzWjuDSAx/AznO/+MT3xwXVxPie7vr713SFJJf/Z7Zpr1HHfvLnJaPLZoJgH80JvHwtsiceiS8gXxk/XRtbxMn7IGBlkoX0kpVp0uPIyNLq/K+KeRjGotO3hWMeIBan1YNFH5SVjtx16ZWRMgsCuNdbcep+bIQ9mxbrn4IKw7o8iU6xFYCMiNE66Uhc8EtRgLzoc4MeDm9TmxbtqUxtqFYenKxGVy54cZroSuaLLnh1svlscKrwi4qoQopdYUq7gTA++dXJMh4rE0ye3FYys0UnRNcJno5oznZ8p1MhaBy4BtSSxBqlqRwWUK5YcbfnkWta4ttTxW0m42lsWK6+xMzxDxaiViydNgjdqWxNqlzSjEF4KmWH7w1YpOXKZcflhTCEb3xGS18H9TK7ra8vN8Uaz0HcvPiMWnwuJDsNo1arWlsGKz6YquaIrmBz4K60FqNekR3y/oyGhLCM+/2W+S97ikGBYAPa9tSthOIKJf8oQyrrCJVMv8HplCk3adRrTtN0YuSLLM4tvBBb9gEIhl7Is/6zEsRy+9QCP9Sme/kO27+7vTfFiXdwuoTqmxKVWMGDus8YeteIZgyWYHAJ3r1rxaJI1tAGB/YhYs2bYATifFWjObDYDD8T5XwK6R7Q7Qn6cML2HROSv4EvA6xn21mlfA/Zx0ttA0RJl2068WeO9WY8kfgP5gwrPe/AApvxng2z3pTYiXj5x29KSYFxEBjyGhE4LlnOR5XxCAiHMZsEwbsesqzBzQmpVYErW/Kci6gCgNwFLmxaJmwcpMFfS88S/FQhksZAj5ArZWrbaMWu16J36GVaz/AFbAA5mVx0sRgmWrEwPz2rbQdY+oVq1atWrVqlXLbP8ALD7swRCgEUgAAAAASUVORK5CYII=",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOUExURUxpcUBAQENDQ0REREREREVFRUREREVFRUVFRUVFRf////j4+PHx8ejo6N7e3tPT08nJyby8vK+vr6CgoJGRkYKCgnBwcGBgYFFRUUZGRknouq0AAAAKdFJOUwAVMlVylLzf7PdB/fgsAAAHtUlEQVR42u1c27akKAxt71qAeBf+/0dngZaSQNVRwbN6ZsxL9+qiZJuE7Gyg+s+fxx577LHHHnvssceiACPCWpzlpZSyyNNPM0dpXkgpyzyLfwtUoiZcrcpcwKJsHyHz5Fdil0tgpT1rWsEh2f3RjBdXjX3bdsO8zIqGLK6ah67t+kn/vbgbV6xySnT09SLKmsnGpb051usI1v8Crkj5amKvdU5CiJ41NSOocLfGCK58mt8KS8VnJMachHUq8XdnxApVbY4gzYyQB3eWyhmAilDegzCqEDZgBKkbIWUZ3essDucknKv8igxnDWgE08hvdFcp5YTmJJy3xqQKOEUjaq7Sq7hvGUopWzQn5XrSd0oXUo5ohII1GA4NX97drlCTVnvyuYArhyY3ppZwzKlTJ9r8yR3A+Z3JlUk5u+ZUNSLeYDE4gqkRXPwqrGXODnirflnuvNdbqoC75oRBbF6WO3lzZ26plOf2nKpwvZd/JWXvGNFvYb6pyPewZmlXiL3M54oGcJA18PK+cppLKagVw8GIkHJohwfo+pDd2JcqasGw1JyFSQSCoRBqerqzeVZ9TQtDpPuDBCyLiYIga3fe2tmolbYHSddv3E2pFmKuTVijvLeBWJ0hJ757Q+DeU3eK8x7kTnfWQatD5O5tpJzbd+5MFgnHWwJSzvul3U9CichV6BV5gr6faFnTv+ftrEnTrbrRJYCyjA8++0dQ2a6pytQhAvttqQmHxJi3II+2HjOfXZ3SakkJdF6B3nZPe6YnrqIPNVd/Wnx9dnk86wyht0jBKvkAi9hRVDGst08HXN5T/OzDFL6utrcUtFZSZBQvpqOYu2NIaqND3Auy8ezp+CrV3+z2lp2p/KhiCKshIH2gIOt3WIqjcd3rDTkwoGd/V6hAUuEqHZuwmI5i6ozhqnkixBJApPTymPpI0fuod56Aq2Ozv6FAYeiJJwIxR1+eTerxWBgL3YKCb+rWJQewauPTEelEs4PoAEkXi/oF/W0jjhCmQ3RxJKhU8jFjaqwT8Wfxd0F3SKwpP8MXomvTmwJdZjoT6sTJfCMASyknYsE6JNYyLZwtGTEbtVwjd78vjCEhsInPrWfrlxYHesTcksX12sjlBiwBBuxRzKAjSY1hDRgWg6/8BdaANxl+gMX2LYZS7TOBVzKjX1jPfjch+QFYk0N0mW+UQRmxFrZ4zboWIjZ1q44EgsWPeUsLegsWSHkLFmtWCZFBCYJhZcjNi7OaI7xoaUH67sbNBTWhV16VIo4hoSCfLWfq5XRIQ0YVejRdlWABVgXK2+XR9rQERqiEfqb1mh/lsa6mQX4egZ9tWHSJoiNIEFYGBEq9Ce4DGlKVnplBd01AR9iwSK1ks3L04PggB13ACAV3K1Ab+c1dCJfuufLIWOdodqrfGfsZwVp2zylQtgrVwUZQKT3RgBxoTDVYoJ0IHaylBcYx1A1C/hlVL44rW/19ObXMrNYGrtIBiy2nKIP171szr8+KZmpWnUWt5UdVxvu0aaYGwYgtNRHvLdbpb/DPsHIzN+pldZ9CpfJr0UwtceFywqqFxFVWu+WtMQAqtpZCKatze4RRpnSTWTXrbsUV2dVJ2SgdsdXNerWuI1Gb7K8CWF440stQUPTpjkyhwtitBT0r6NUxKrbut17aTY1wCq+4YjcsKhwxXHJO63DBQU8yHSxXP+79vc8GM1dq6yj2H2BpOdwAIvTYH0ys3F5wuaNFGue/tus3Wsj9o8f+YGGtLbqsH8mIy13ECdZa0+vxweX9wdTOohUXdSFwYl3Kf+c4jrm8E2c1OeqpeseKHLZaosLBjzcz32oEc+ASx2ExtJ5ZgA3x2FUi6XQGFoGo6LbJ67PHm7s8Q6f5BCwxWuquEZ4b4omTaOh4AtZIrcOWwfv0oLTkhJfxd8J7nlxnH2rnNau340fPw8XI1dtdNbqdAFW+hxoWMXqHMMhxWeJs+jxCGCDh3cR40d5HniLIcVnqbq+uJpYfHX4nRo8QetLhd2K8HsJg58OxWztcC6E3Hf5AjBdRNSLY+bCbGC8lFrgFEOLaVhhUQS9y+RIj21B1Ie/aeBLjllhh6DAQMRqomrC3R3yI0UAViA6DEGNtwBKBb49cJ0YTVR/8nsZVYjRRBaNDX2KkANUN16UuEaOZ7UHp0H2P4BqqRtxwXeo8MTKIKigdXiZGmFah6fAqMWJXBaZD17WsK64KTYcXiNEFKjQdniZGJ6jwdHiKGClzgwpPh67bdSsE3jRt23W9skHZOOo/hr7vu65tmhvpEBEj4203jNMs5BET8zyNQ981N94ejgrpY/kd6zBK8y8uMU18dOTpm5M/H5iZv1ZbAtM2vGZU/erHNqpyv2m7XsXb+GaVhgS23X6cp4HT11mjfJjE+ZuTR3hHyrmvXz5W9+4f6HmhmpqXvy23MrNg5UrfrAxgyw/0QsQxrtT1A/z410HSViPBN9tAt9Tz9U7mC/947LQtz+iChFEJ/dEbkYktSIeTBj0veB98JgFiOJGwNgeIYhVgh9K+GuHb1MeBtr+tOwj+LWkdGBb3b1TTUwfTx4+vE29YIjQs+nfCIv6KMQt1EPUvgCUeWA+s5XZ0H9qCpPwt9t+ElRb32K/8by2PPfbYY4899tj/y/4BGYsA2gPdkaEAAAAASUVORK5CYII=",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABIUExURUxpcUFBQUNDQ0REREREREREREVFRUVFRUVFRf////39/fj4+PHx8eTk5NTU1MnJyb6+vq+vr56enoaGhnNzc2JiYlJSUkZGRt7Q2EcAAAAJdFJOUwAaSmmEosHg8fYyyCoAAAXsSURBVHja7ZvXuqM6DIXpkLjhut7/Tc+FYSeAIQacMudDlxPKvyUhL8meLLvssssuu+yyf8+KheW/gNVhbtWF9Q9iKfow90NYt/to5KewyJ9dWBdWstq+xKq/V+8n1WqG9cUKdmEdru3kgXX/br2f1vb7A+thX8Mim3ZhXVgX1oX1c1j3n8TS/WjsCUb8/av79lLdP2GZ31EQz95SP4NlnzNKfBUrH60F9DMWBVCNP35N0+cA5OQDtED9sbcXZVXVdV1XVTlpHAoAfIKlgXZyZ1FWtb81bctR1O1s+NHWVeF/qwA3LVcSQD4QVc18cNKMN55mWo5kxjfkWdYAZorFARRZllfNyn1tddppxePZzhpjjHXTNwBQy+peVxP/OmuMsY9bu3NgeT08VktGbjcv2ikTUtunl4oZ1nNBNUqKR1VjQg0/duVxqtKHT4v77Xa7T1dAKtSIRmdY6g+J0+VKSaW/rznqMO8qRZdM4x8vDRapNRRUI9nqGi4MAHSHcj9vAECz2+22oRSYcmrhDzjFtsVF7wCgPEolb9tUhBC6JJCUvDJmjnE1ABx/CXXcFHwh2Z1Xlr2RypfdnVwlAPdeKu+vds/3mHdDBMk7jWrsW9UbAP2bfUUI4XZXGAsA+v1UhPWYqo2XznL0/VSEcr2jShQA1LsTy0dRuHh3NYAjH3AWIYyr6OzKvbM+QEUoFy72YywBsE9hcQ10sTG0H8ksQgjnMjaKL2LIeyl7TmOzR0jZC7aeXDwyigUAvuYsod2fxmMvmR5X25WrGecGaCJTi4SdxfSkVdB8eym2EzkvV7AUgDjtYMMxZHbew+gNBbq8OIz16N9eZbwOYlELAHWR+wbQ+0CsfGJez3d1mWdZlpdeUwY/xT4u51tABVNLTfuCoSuS69qzLaepARbC4nHrT7eCRd1cHXldHfKXWU5rikBD6bHipnMdIEMxFAFnV7OR2xNWWwTKYSi3IrGwgiUDX0y+jlWHvnAawrKnsFRgrd+DVYSSKx6r+zRWXBBbQK0FMT+BtZw4EUJ49JfYACaExQKj0B1YeRcYC1AeXbcqwAWLvFm6awdWHbqUcb/45LFyi4QrRHMUq0CoPnAeLbhyADIoIJZtXTRW3i1GrEMMuY1TEFkLmCAWtfP0isXK22CNZ0NqRfU+FQAWFDbczZ4RiZU3QQFBhxgij20xdFicitn0JxKrAWBpMLOEi4yhfwqLmrLEYTUALAuGkOv4dr9Y0WxLriisGoALa5pd7WvWrOiVUXX9TT1jsGoAjoepuNkzG8nDufAoE10ejVVtUUlEZ9b4rLUwPnO9xirDStFTCRf7GT5qV/B9f1xep77EKraouN2741iEXT881Iy+f4VVIHjBQKX3hfAxPF3jsgDqoiw3RHNTlWXZBXuQgUo9Jem+UfNa2jMX3j4P7PqoNSp5ZADuq4RZ4+IuEstsUh3Zxmi3uMSwIWdNKAPVuEu39PdA1bujG+zbXIy9HNrQwDXPVAd3tPNuq3wdnbOdpcqyIjXXM1WTZT/ClYgqMVcyqqRcCakSciWlGrhUKiqRiCoR10hlU1ENOkCmoOL2zEmDIJdIQGX27reekDnxVDotlVfR5iyVPCKwXsscdY5KuEMC67Wc4DOBwIXopZRKKaWUVlpppZRSUsq+F4J7/TBScfOOs4LjJIiJXik9Oy+1as4ao5WUYnfztSe9rMVBc3Zv8xUZxWrjlRNzq45si9RQ9fPjrdFKyV5wxii5BexOKWNc9FJpbZ4p2zJ1AD2QFIzedtqd8v5vZzGhx/xumJHsdsLuXHm0MiWV4bfTdvw02Uoj68SWH+a2AaaRqKYW45mpKQQhEScS7mQBKncdq9kOIR94zmibkU4nCaM/cHNPdVjD/1fiNkVmOZq0hZUpsqtL3VgH97R2l/etseBBM+fX7GJ9Rn/mqOLZ5CoBvONk5/nV0KbGEuclTn1Cw6+eafpdrOL3sFgSLP2DWM0bsOiF9XEsq1JbEqy32P8Tq27fY6kb2csuu+yyyy677LLsP+d98B4+O0hIAAAAAElFTkSuQmCC",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURUxpcSQkJCUlJSUlJSUlJSUlJSUlJSUlJSwsK3d0dGZjYlZTUk1KSUVCQjo5OSYmJrRYvAoAAAAJdFJOUwAfN1Z6o8Tg+2/nYHEAAAPpSURBVHja7ZlNTxNRFIZb2gpL4kKX4EbdlcSYuMMYEt3Vf4D+growcVklboDEWU/5BdA/AJxWtioUtiXktluRxApoGejHa+5MP+ZOKb09lxij8+7K4sk5Z87HO0MkEipUqFChQoUKFeqf1s0Hd66J9DADoPbkGkjRp/D02pz1DB29N0XdA5yDtVzhK4CXZqiYhdaGnSOiggVnxoiVgrPqoogKwKkJKg7s2yvkaR0wCWwWdTtLHVVxYtAPFjbaGUrt4mySzbqhhCXL/9wgxcNutYgoXzJIMg3bJp/KqLGbCw1/ikRFC9NMVgLnvspLVgWPmawJ7CspUqGEV0xWEqtZlVXGMXuA/E9RsgR7jOZbarkk6ye3JZp9LOsXk5VpqKWXrBqblf0rWemm+hipyK/XfCvAEvznmEKuj3XK7nsVlRf8vp/AUaBc/HlMoB5IscJerDG01I4Q/P0VyWBbSdFgr0Zm/QUrCGGy72+g6XuIMkX+HYpaOOhlKMom9zEy2w2sKIQwutvST7gVy0tUycxPjFlwJGpHyjJKMZICvnWr/8nIGt4FlnurIl81sIZxQNn4woLDvLVjGWkK/Y1fBmqT3GLtK36iIB8lq2S3gSVbObYF2WKsks2iYdvKgfTG6ITF+rK5uUYBVpnFSioLp50jc0tP9eZaYf1gsMYD296bb97GT6ARPEPuruB065i67b2whAVWs6a9Vz3RVtn7yTMBSZUlvJ/vmOfxMhZvuKNzc3NzGafHqsk/GKzDTKvYYbH9Ukdo5busMzPUGJrUCayKSSNWHHXKd1lm79vjWKZOYBWDq+312BF1AivhreF3gO3O9Iiy2XeAiOV0p1o2mGnpu2Mtqnwn55Z+qbduRAUvjMq16ds3JZOCRS0n69uDwvD7RNa/CKsGHZbC/op/QZfYrzCRGJze3S56K4w7Rvdx4bvbXpILbFO4YQevozPNDKvh/wST987QAq9afZaJ7X9TMqwV9d1KBsZ4lLeAz6plcrMsMQxY3ELdtu1+c1Id+XNmNC29qp3tdyeje9ZHsvCBFNuwEkZ7lnHXqwZTlNpxPevMSM+waV8WlvdqZI2ye2LAhh1oCB9td5TAku4zzNIgVUdwOxk3rNxA1kf9KxJ3qzUYJQPTtU5TWLwqQyLa0k5yHquXtYN/AHSnMipTzF3JIsvRLdfF1RkS0Z5mwcZxOCwsWtc8u0llNQ/qimPNARrU8b7e1xyjtDM0RSJNI2w1skNRVD3Ta4n6ynBWRcsIx3AxPEXa0/JicZyTDmtGi7WowdrSatZE2wteD2tZg7Wuyfrwfbj0bF0CevrjrDd64v6nKFSoUP+zfgN+r0dDyFRp3AAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURUxpcSUlJSUlJSUlJSUlJSUlJSUlJSUlJSwsLHd0dGZjYlZTUk5LSkVCQjo5OCYmJvq3tckAAAAJdFJOUwASKUhtlMDg/auJd7sAAAV0SURBVHja7ZlNTxtHGMeNwUmOSEmbK6e2N9Nbb6GKWvXmREFqb05U9UzSF/XoSk0qIhL2vHb7AWz6AYpnnV6LjMXVyMz6CiFh1QL2FrD/1azNendnvDNjVlUOfs7Wz8/b/OeZZ1OpqU1talN7V+zm3cRQHwBLCaFmDeAkIdZHQGKOreD1TkKOpdE3f0vIsQz+NUvtZBy7hgOzVEvGsRvYMoskGceyKJtFkoxjOZhmkSTjWN71WDVg+eMromYKPY9F2gB+WV64CmsO5wNWjbU/ug+ulPrnAxZpejA8W5y46wvYNM0SYxHL3vdc+3RC1ofomaa5QQZmNRjNvT+Z3hRwYJom8a1hG5PCPkE/4JbnGt0HukuTFJG5VSQkCuvo98YdL1skbNsM9lS7iAa2whEOckYd4JEm6/pln3IwA90F3WO9K3CLpcwGftY8iq7QLUJqtKmpQd5RLIlYhFJDT4OusaM4cKPOOWbrOZb11JkQy0CPd8zBsY4KYhAiU66WyDENxSj0vSpaTBzOuVJSB9+qn2uWekLIK8a64HusiY7WJcvStSNk1Vgp76l3/a6XLoex1gRt0VTP/h1seiyDyV9dcJBsdOc1yshS7x7tr7dEvU8d1SBnjJ7HqrWEnc8qqRzkHM446YokzFat5HU8Fx/sUcKoo9iuOWxKWW08VhacUhyrxoI8VuvUc4EO1uqh5FO1hGUvBSccV4SllrCCN8JxtauHCknbKh2WQU8QokVbYVYTf6scIFFHNEKsBkv+iUIVURZUkUZZ1OgoSP2FIPMWz3IwL2/UA0GINRrK/YC1JL383bLgkqVhVs1L/kNpiOditwSsx1Lp2hVkvv2S0ijbxj+yW8MVZR59nkVlTXEbZ4IQ/4IrYBmnstfnlqDnDeDtHs/qSBS1L3QLeNniWA4kD+wzPvOWgR/Qa0XEkLEW4kPcNAVudW+iX+dY7VjVmUNP6NaTGTFrSXJp+Jmnw2y30ZmfQZ8IWPdiFXWzGDjNe8PEP0rNRsYwhqLNWFYOoxBZqfa8UeeU6eOFiPUw/iEbDmPPBtxFFvxaRIHkrH4peDfvr7Lh5L7ncItn2bGHO+9uBAZ5w3uAfu0NGC4nGzKhyKE+Ynko98FAiHoCVrxfWRz6P28CnW+WF4dCtMa3BLXxU6wQ+v/fcHAy799ykYGOKrBmRxM4Dczd+UhHWFQhxlT+8qxYzZHSvQ/UBemSiXQGQ1jD8ZsnXYiO0g2q0F+p1BeA+8YL0V3wH97R8ZdShTOUSqXzANb3AiHOAS+IKF3y6ST91WBH4vufj0iEny6J5njzxOeD7c28n/hDIkyX0gR260v4D/SZAvfouwxRZaBgm+PP7vqLGLc+JkRqdHX3Qy/ImBBVhqbwfsgl40Kkes/udIF/pfkh2lov5dRt3q1RiLbKwDpqjxXerVGI8vkrfDpdMjZEtaE8ILMvRAOiRqsG1uSojw9RsVV5lRWEqNdeOe4kBqpIKU41qmi4JCZErfbKCEIMsJqxNwd3wa3FhajVXnnU41htjcWVKF2B7pJNmJG7MjZdWuqVGS6rrO0GpUcjeztBS9zAoUWPVg1w5q6uH+m1RBariLFVjZa4VQh5MrQg7anqcXxvENs6rVcrZTNgxQrZHk55z9Rg7GMh3lTNcVbcYGu27xT7FIdlM9Z+N9TWrBngtSmzkqPUFjm20ZHarypr1rSB8jDRlUr0NVmtVi6r8SeeKAjquVewOKtWTLOkEGQWu8UNIrVq2XEV1h1EzXbklVxxFVl/yK9IbhIcZ6+k6460QLnG7A2lI8Usv84eY5ZsdcI+diizjqWsNUUWkbIyGqyTKesdZq0fKZoCS93+T9bcj+r2fWpqU5va1HTsP1MAb+04YA6IAAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAqUExURUxpcSUlJSUlJSUlJSUlJSUlJSUlJSwsLHd0dGdkZFZTUkVCQjw6OiYmJk6AIV8AAAAIdFJOUwAWNFWCq977e1jxYQAABNNJREFUeNrtmb9v20YUx/XDUlZrSScBGVJkMpCtk4AiuwAXBdqJQIMk3Qg07eAkCHfSyB9ACegc+9hdgk+aGyTSEDsSK4nf/6W4H6QpmSLveETRAHqbnfiD977v3feeTrXaIQ5xiK8qOpWRHtpY/lgN6luweFYF6ggifqiAZQEfyQRYHleR1tgj5C/gqTHrBCuXEEJGWBizbPjnjEUdPDBENbHhaZFgjlNDVguveFqEjvDZkHUP46HIa4IbY+l9IvKi+GLMGiQs00b2MCSxXgvjvKRcdI4/DFldkFh6PDZktfFRsEbGbawdYS3kMh/VWgMhZ02q8AmLF1lFiWwoompOIzvbeO0xlwjNS+wjcj0m15eaeRsxdrlcLytQfu2ec7m+Z009NXIvXHgkkau9MEpr5Q5JIlffoJktwPfEdDFPrTsGVtGXadEpT6gFlE6sCfiuPIwPuGeUT6yHFWsiCaizFOpR8H6WONYOLlzhg1z6OkIyLTmz97FmI08IneCaz+2GBCUd0cKYK8+s/hdui28ImeL3UscncmWJU65SD1eEBKV8rIfXosRAttHi1l/GfOo2fFmibKPDjIy8L6F+C2tRYnzLNrDhPzr66vfwIS6Rcn+Ob5Gp9lJXd+DzQSUBnfDTyNtI2Ia4MChRjESXtbFUkSdxiZx1yosWKP0i7bhEQuV49WOWbifZaikmIqByvOxQsgLNzbWNV1IuzjpOxqvEXdnDhZQrkKMajxd32WstuUJXysVYC171WrKI3obYZBMxlNIL9zpKsbQEazG5blk3/FdvEtZUR7AuxlJ6QqUTxkud8LOXOheQL6XnrM980U9Yequ+HcXSc9Zv6SPE/V9d/Mat9MlxPEmzxMQp2vM/W6yt4yhYj9Wn/kMsfTZLo5HdZOozjjZjjbiEiifIv8sKU6yJ+inqI2kjL4iJY6VZVH0orCiRfh9L2cLsTZolb8cozXKUByzx+hTL3mYtVe+gXdbxHdY8VB77VdJGvshlsFCW1el0OrusY3XWeZrFoxyrucUKjFgNuT7LkKxNFSwq4ir9Cy0WyQmq0ce6AivUmPsClvLc15y1l4MKqM55tDfVsazIyy9Rw3P6KGTdqHv0MJ+l4dFdFMilcXe0b+/VfSzlOy2102TLNVX/GNlMHeSstKRtKx6iKJ+lPvZbF1hWiVpPmr294vO0JjrL7ze3i1tWWmKLUv80lJMWneu8BjT2iS8sVu8xzEJOWpqPYSfZglEpl9ZjWCtzWkVaenKxj7Xh3rQoljWt6GcUGcQlaj6Ptu8WKVH6L8ANZ3f0Y1SJF+Deru/QJK1rTVSthTATNSnzBGaxxFhhMxZns7ez2ewTS0v/DabxHeAgK55pfuf08CfkxIsnGjn9nP7L8IzHVpLPVXNr2vz/v/17djXw3VR4AzqbnfF/XKjB6haAT5dblC3icMRgSkP2CNjsBYk4n6t9Hdlw2EeFgvCmStN/H5HvFsMcFc9nT6FC6MFgd0W5vBwMBgL2TmFmG+wp1BvkLTrkkrVXwfRbWHm5IInz/yw+l/uvxp14XyxYL29f2vKz4u9c+yCKUWzVOWvJLquwkXakyirey9VZ80KWs1FmFV6TqI5V12CF/0/W9OtlRTPFcIpZ6vGfsn7ViNohDnGIQ2jGv7ULQsgUpwsIAAAAAElFTkSuQmCC",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURUxpcSUlJSUlJSYmJiUlJSYmJiUlJYiGhXh1dW1ramBeXVZTUk1LSkVCQjk3NyYmJt1oLkIAAAAHdFJOUwApUXmew+Gm1HRSAAAEcklEQVR42u2ZvW8cRRjGf7N2QBcRMnM+UlDAnnEoaEj8DxBb9EhBQqJBUESpIKHmP0AIXUOBUuAaKYEORQqJKwoULIsCiRDsoySxbkdHsKXEvpdid897vv2YWR+EYt/uZnefeZ73az4OGmusscYaa6yxo6YcXukaiAb2+JMtvSOxXVo9NtYVSW23rsb2otH73wACEJn03RcuSLS1nf/NfO5o8OZN4NEpUBxc37JLoTKLWlt47Wvg0q1+7ld5gwsf3kx5KPY3bCdEBvHnGuDaL+ddsTo7PSBKngnBOQCLBkLZttDaWHHTOPcQDq63WQq1RQGLyQMNqvfkS169qLl9ftOFl4IHn/ycEFFYFWawGBG8tGUTsZVYwuPPCcESgsIupMMaAoRlGFiso+9HECYfK2xKK/7Zn9OAdfS9JCEU1qDFcKymByfZ7Mb6XHmpBCsAGGamIGQYFuZ9Aa8AEBTosZOTn8NErjsvAGyQxQIFoYTFdZfLSyUAJ7MEBAVrkkJb13qMsaxetlnvBIvl3S4P6+pnCRY/JS6PmejfD4O851iPVhXKGEMLzr7XRe/b2AHaVWPK6+DWxPDdPH6VGit6sfbTWMtq8FJevs937b/ES82Kl/bjFVbqceW1W46lQfG+I9aoFCtOmL4z1lwFlnbGkqsnSkIZAnrPusZxkwulSaTYd95P/MBCocIQMLznXHpqxE5miVcaJBHV1qC6GOtcxq9vcr8PqK7SJh2MxA6CGOqv591bQnCAbCljpp9EYKDb9yjTM1JmH/jtMd9YTwtK0j3mmOWjU5578re+RaIosihzWMwGA38/57GmJQV+N46VDKLuobciFsWnTxzdMci2rd0Lp7qKTBw6VA1eWRtMr3i1sdh24FX4QEa3JydNe1pbK09eKmcPW9Xwi7GOhr4/ThZ9nDgeJXZcjZllUx8fK6qPZQtEyyx4jdF9sVo5uwp7eP7wwtIlkVXeOWGd9hB1ecXw4s0r98Bj62nUNe4hAp8NlszQX1LeDP002loaeyV6Wn5YqjTntCeWlCTxTLCkDq+ZnTuK/SX1/GVLFgI9C17U4dUq4GXLmmHgX9qFrAP3Vlh5HAw82lf2AuUpaZwplpQl6wx5WT+sXmk7bj2t2i5sX6XFHdQoR+uJJTWKe748kbRBnU4ucCyRWN87PlDYttFqcvp2sjuUoRcvRadTMLmBts/dUefKxNEzGg0iibIjuyuuETt7L1Yz2I4mPKS0Me1ufCR9+4YTVuchcH9ju4h1+5VVYPWOA5b6qMdvN8qdcPYiey9OxXT65ubM9/z4XYVDB78un7i3WZ2r7/LgziRzpYw5Erqdr/iiWuP8E/k0drTSmbP/+OghNg7HZb2yXoX1cv/PNUzeNUcGMop45uPh6apcPcd6u1vhLmMY/DHt6imsUBYWHNK5beyzVb5XPXGrDWVbugIrcDhzpufcsIqXR0/WlViu/6WKA9bseM1yHWp5aOz993vfBst5fXQqbUcs87/UuHfZ/dvHNNZYY4352T/ZP4i5JEtsbQAAAABJRU5ErkJggg==",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAzUExURUxpcSYmJiUlJSUlJSUlJSUlJSUlJSUlJS4uLXd0dGZjY1ZTUk5MS0VCQjw6OiYmJh8fH+/JGhMAAAAJdFJOUwAWOFp1lLzg/a0PANwAAAbDSURBVHja7ZvrlqsqDIC3ipqRW9//ac8CvJAQW6ph1l77mPk3pfCZxFyA/vnzyCOPPPLII4888kgnMEJW+nEC7/08DWcrd2qavfcwqf63oIaw4CowcmDdeIzw06+AdZNHAkMxRAEeMra3Zp9U5YzWxqXlRzIkqQqyEXNrri5S6Z+fn0VrrY1/FVxRm27ZRrjXL3AFKrdBBYHXy/vcjmrj3kbYgD41pRopVdIGHMroA9WCRkQu1dKEwWcQlTY2cI3IhIhKa2tfr5y8ibLImsZGZXSZsmxmwYTl2qprTibUGCtfNICTEdpG8rldcEjOvBAs6w+XnqOyFooFmULlwzuvirAoHM6nyYgAHhTaLNir6PCFsuKi3a7PpVRWdHrV0OOBUVaBVY5oj7WUa77DMu2xQgCn0SH6lt+wgm8tzIiANbR0eUZZAWt7/cF7s5Qj3OvVzuWDLgyniiPMT95DSZW9qy0kZBbGhtnbHxRqC+6grLFhXRoyNefwMyoxDFWWbxm21kWpMjyqbMJrAURZofhpWtnEssWi+E2rqWmtTHMjty0gtiJvXTUuG6pAVHvG+hWyFOBpodiiFVwLdXuehPvdAU2IHa8TqmvqWxu9shUcYtfg8qpmKBS6GzHW1HNfOfdHqKzRA8V85vZXrXj3j9BlkjJJP9aN8KHNPA0EuNGjT3u4fVoY+XN3QKdPZ7ajO5v7k1+jRm84wdKlFVUWuJjw/mnuD1R7oxcTMfpul2GZaMWJteGK5WlAzppIqOfqSaMXuXI7ESz8LvZ5Iki6pHObrMJ14R99bSRfsm8a6zyKmD3OL66I8uTDDs+dt7bahLnnShMaVLGngmrgsQzqMOLCQJrI7s3cmsz9TllAvklWRlgaW7EnSRP3FuXcoeeu2Qoom66U+bKHHhCWKfpEc4bFN3TgK5o1VTRdMbP5rC0ecNVF+0TQZ1iKaegMkyf4NsLRXj1hjfns+HlRi2Hx9kO25lTMnSKM/1wjTrEtLrAgcwCCpTMrjvQjimUZLF+LVfYu77Ci186MDVks3NsW79M5lmMaPcieaCRrm72apzZMWOp07n0LY6zwLWCwcpenWMfi1IbaIKxi7uQhNbtMQznzGiD6U6zdioA6kO2T8XRubWu3TTpfmCgpa2aTcRaqe9KNlVjU9fYWpSL7jKV/xFUVcj9d2mosbUixRtqgrMqq6CG7rIc4KvK8jyixdFRnB/wHE+o+XLkNUNUWjSdcU5dtVZLVYyFQ6JlgZT0R6rcr93Kmo7XBXOdYOljRFzZMXjeVVLmuajvbdFIBlua97fuMrdY6k8Hdd3PiWRHut1MLOdV2GdtpE1CukZby2Ip4P2fHnWm3vYar1+srqr1JzVePoStxcVjRiWjcWLGgoDJpC+BVdnsfG0Ugy+xcHYsVrej4f2/PiXZywt7FfOFIbyRGSVzqBCs2C0azxuWo3NXd1I4+fvIf1bPra8PZMNF2mMqsyrq4izMV6THZkcfSwNgwYWEqfXN/sC9TnFtbdA7Lsv/dvkE26+DG/uBc2GXj4gA0Z8P0huJ3et0Qv7w/qEqANWzqarGUymw2vLwTx+XexPUllrtWzNTGiJ2rHsuQ99neig7MPkf2yn2H5crO4Obx4sRpxgDUY2n8XPa2w5eHEsf7+AWW06yy7p0ezHzsvijGCjj8mdNfFyvh8GxilFHW7UON6atwUEMlclzW82XMdRMKOLyo01srEx1OE+MdE9btsl1LjHeUJXWvRSZGWCsWHd4lxosmFLxtM913+p3Kyp0PD/djhLWi0WHv7kGGSvQi112nP6hEr73dTIwGKUvwjP9WYsyorOztkTtOn1OB8O2R64kxp7LSt0cuJ0ZE5cTvaVx0ekTV4JrntRiBqRpcl7qUGDFVk8unFxIjobItrkt9HyMIlHh0uJQYqapa3Wv+zulLqka3wL+JESWUdDq8kBg5KOl0+LXT81CNHL4yMZoTqDbRgU+MxqwUbhMAF/5WaZoOqdOH+4AOgPzw6VQAImbDXz10s78jTX6C1KnpnUZyOR03SZsxv/0YMJwNTrYs4frZiSzx3ryxLucEJamy/WYlOPsO5RRxu57o/TyI5p1wSHkBCLElNCVJ5e4xrWTgvRcK9vtP6CTEfHPT9FNd6hfizFE+paFFrwPzL2tyW/RWht5xrvfWG58WMWOXfpF4BwjD/TgJdSm5DfDszGwQsCHIYmkQsKLkKcZxfD0LvIdWGMv62/3iIHoUdThXfx9L67/O51UDLP3PYo3y8SFiqQfrwfprsbyTFhmsFvJvYqm5jTT7kfUjjzzyyCOPPPL/lf8AtuykcwsccVwAAAAASUVORK5CYII=",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAzUExURUxpcSIiIiUlJSUlJSUlJSUlJSUlJSUlJSUlJYWDgnd0dGNgYFZTUk5MS0NAQDIxMSYmJtBHgnAAAAAJdFJOUwARMVJ8nr7f8e5A/hcAAAUDSURBVHja7ZrrmqMgDIYrB3WLHO7/avcBPCJgwNh29+GbX9Pq+E4SYxLzejU1NTU1Nf17oieRX8AaTSjWsP5BrOnPqvdPYb0XTT+FJaZFDathoeX2Mxb/Xr4/ZKsA64sZrGHV5/YNS2yffQ3rvSX3RdtH769hba6LqWE1rIbVsH4O6z39IpZaJXcwcv30649qtcPSP1RB7KR+Bkv/Dla3aAiwXKQvX36tpu+C0HLBxT92dUIZd2KMkp0VqDFGhlhDcOZy6uHM20iUD8HwY+gZ9VfgQcT74OrmE1kfDk56htMNEX4eyeyu0IehNUljDH29COsT5w3sts3o9re11kpprY9XOIWW7xTZ0b7aaf115LfAOj7/VTUJV54LIYRN5Ac4GWDtv9NKye17KdX85XgjdVDvPjUjBb5armDCZ6FakWTsUTmf19cazJtKxpj2ZPr0cYbJH+DARlrlQBdVKg01k51CywZXhmlnUFpLNeWhPNn5otOlvMHKA8xSaXHoTHGlauxl40oDTHWXqyy30uepPNdQcj92NjOIh6l8fPHCwJqeppozGC1yoXqeymaXY7WRl32ePXgPVpqLzrl9eh6rxFy9N5Z4HksWmKv7mLFsTwm+GZlPDh8wlvWiNmbsgD7UnzGWxVJQL3ofiozh1VWBMO0Lv0MhWO1FkvOh1CZf4xUeLZ0XB2BoJXwo9bFAl9dJKT6nCLBMB6oddNxYAVUe7HywSkQErI7o3YMnhuUuxG1/2K3dlsyWnyN378jmo1USi4KePDLqQ3t+T3b9Y8Y3OuwHafx/kOAx2JjCOlVHpE/Zy1fE3enxfw9rimHJiLFZwlz27iKRdHgDyySw7OnX45r00IZFOsoFi9/CGu5g0ZjDLRZs8DR+GgvmxNSdGMsvJVg85kT4QNrnrXjI83os27XoFBaFZvnEXU+qsXjsUKnAWZ66R/UUN1fQ1sGxqEkZyxZcwOI0/trk3NaBscgYTbyzsXpg36PidY0OoxOKZafkiRwPfgXjiub4PCucsgCx3PQnnuKhdY2vA2W8ZpbBlAWGlaBajQXy4dyQgaY/MKw+XpmtxgL2r8TNSyFcICyermmK2lc/GcnUdyMpwMpSFc1GSDwWzlwALJajKoisZErep4mZ6xrrkqpkHpjIMzsun+4vsahJJyzvwqKpLsm1D47LTfuvsMglVf8qErvmopTlimbG3NpgnmosfZXBc2EvL9o/nftaqqrA2idBAFceS2epal5jDFdpwr+Qk9E+X0Ooqt6SkSyXBAxtpMxSVb7RdkWSxh7/3aV6gGtP1b9eP8KFRIXMhUaFyoVIhch1oLq/pUHG3GP7W1Tz+32FRKWxqJLVyZepkhPGOqoBb/uH3eN6iOqizIFSHboTHPU3wkvdK2UuyxwZFgjbMqfS88+68ymX+kGpysq9pElzKMG6VEZuQaqm+SoJezBNhA8/sJwX2YVJVqWPGyi2C7k574oJId5p+QW0YANtQA0uNq4dQxYlibgtyQ5ojvQ7U0ZP71sS87s8ipizlk28e/KdGkXL8AYDyqqyaU3sTIkgmIVfqcxqOez4H01FazX5hRux3Vu1Wvlwtvv9wo1AWtawaBrDXDwzsKwsKDCia8RurB0WQ3hCK1wsmyV6jNDCX1UcEOqGJzYo70e8xsZCiPmGVfiYfgSLNiyoGtbnsRSyNArWI/o/sfjwjLAb2aampqampqam1195W8+wSJhrTQAAAABJRU5ErkJggg==",h={wp:o,wn:r,wb:i,wr:a,wq:s,wk:u,bp:c,bn:l,bb:d,br:f,bq:p,bk:m}},5182:function(e,t,n){n.d(t,{f:function(){return o}});const o={enPassant:"https://www.chess.com/article/view/how-to-capture-en-passant",soundsDefault:"https://www.chess.com/bundles/web/sounds",soundsTheme:"https://images.chesscomfiles.com/chess-themes/sounds/",webglAssetPaths:"__CHESSCOM_WEBGL_ASSET_PATHS__",webglDataUrl:"https://www.chess.com/bundles/web/images/webgl_data",webglDataUrlDev:"static/webgl_data"}},8760:function(e,t,n){n.d(t,{A4:function(){return o},aP:function(){return a},vv:function(){return i}});var o,r=n(7535),i=(e=>(e["Pseudo3d"]="pseudo3d",e["Disabled"]="board-disabled",e["Flipped"]="flipped",e))(i||{}),a=(e=>(e["All"]="All",e["Move"]="Move",e))(a||{});(e=>{(e=>{e["Default"]="default",e["WebGL2D"]="webgl-2d",e["WebGL3D"]="webgl-3d"})(e.Types||(e.Types={})),e.TriggerOptions=[r.b.SaveableOptions.AnimationType,r.b.SaveableOptions.PieceStyle]})(o||(o={}))},2446:function(e,t,n){n.d(t,{B:function(){return r}});n(9479);var o=n(2071);function r(e){return void 0!==e.flags&&(Boolean(1===(1&e.flags))||e.flags===o.Z.Move.Flags.EPCapture)}},5142:function(e,t,n){n.d(t,{_w:function(){return re},jd:function(){return B},rG:function(){return C},ur:function(){return R},wr:function(){return ce}});n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(4979);var o,r,i=Object.defineProperty,a=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t,n)=>(a(e,"symbol"!==typeof t?t+"":t,n),n);(function(e){(function(e){e[e["Backspace"]=8]="Backspace",e[e["Delete"]=46]="Delete",e[e["DownArrow"]=40]="DownArrow",e[e["Enter"]=13]="Enter",e[e["Escape"]=27]="Escape",e[e["LeftArrow"]=37]="LeftArrow",e[e["RightArrow"]=39]="RightArrow",e[e["Spacebar"]=32]="Spacebar",e[e["Stop"]=137]="Stop",e[e["Tab"]=9]="Tab",e[e["UpArrow"]=38]="UpArrow"})(e.KeyCodes||(e.KeyCodes={}))})(o||(o={})),function(e){(function(e){e["DidHide"]="modal-did-hide"})(e.Events||(e.Events={}))}(r||(r={}));var u,c,l="function"==typeof Map?new Map:(u=[],c=[],{has:function(e){return u.indexOf(e)>-1},get:function(e){return c[u.indexOf(e)]},set:function(e,t){-1===u.indexOf(e)&&(u.push(e),c.push(t))},delete:function(e){var t=u.indexOf(e);t>-1&&(u.splice(t,1),c.splice(t,1))}}),d=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(le){d=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function f(e){var t=l.get(e);t&&t.destroy()}function p(e){var t=l.get(e);t&&t.update()}var m,h,g=null;function v(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function y({retainSpace:e,selector:t,show:n,throwErrorIfNotFound:o}){const r=document.querySelector(t);if(r)r.classList[n?"remove":"add"](e?m.Classes.Invisible:m.Classes.Hidden);else if(o)throw new Error(`Couldn't find an element with the selector ${t}`)}function b(e,t){const n=e.className,o=t.className;e.className=o,t.className=n}function A(e,t){const n=e.parentNode,o=t.parentNode;if(!n||!o)return;const r=document.createElement("div"),i=document.createElement("div");n.replaceChild(r,e),o.replaceChild(i,t),n.replaceChild(t,r),o.replaceChild(e,i)}function w(e,t="."){return`${t}${e}`}"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((g=function(e){return e}).destroy=function(e){return e},g.update=function(e){return e}):((g=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!l.has(e)){var t,n=null,o=null,r=null,i=function(){e.clientWidth!==o&&c()},a=function(t){window.removeEventListener("resize",i,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),l.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",i,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",l.set(e,{destroy:a,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),c()}function s(t){var n=e.style.width;e.style.width="0px",e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior="auto",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach((function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null}))}}(e);e.style.height="",e.style.height=e.scrollHeight+n+"px",o=e.clientWidth,t()}}function c(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(o<t?"hidden"===n.overflowY&&(s("scroll"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(s("hidden"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var i=d("autosize:resized");try{e.dispatchEvent(i)}catch(a){}}}}(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],f),e},g.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],p),e}),function(e){(function(e){e["Hidden"]="hidden",e["Invisible"]="invisible"})(e.Classes||(e.Classes={}))}(m||(m={})),function(e){(function(e){e[e["Backspace"]=8]="Backspace",e[e["Delete"]=46]="Delete",e[e["DownArrow"]=40]="DownArrow",e[e["Enter"]=13]="Enter",e[e["Escape"]=27]="Escape",e[e["LeftArrow"]=37]="LeftArrow",e[e["RightArrow"]=39]="RightArrow",e[e["Spacebar"]=32]="Spacebar",e[e["Stop"]=137]="Stop",e[e["Tab"]=9]="Tab",e[e["UpArrow"]=38]="UpArrow"})(e.KeyCodes||(e.KeyCodes={}))}(h||(h={}));Symbol.toStringTag;function _(){const e=[];return{emit:t,listeners:e,off:n,offAll:o,offMany:r,on:i,onAll:a,onMany:s,once:u};function t(t,n){let o;for(o of e)o.type!==t&&"all"!==o.type||o.handler(n)}function n(t){const n=e.findIndex((e=>t.type===e.type&&t.handler===e.handler));-1!==n&&e.splice(n,1)}function o(e){return n({handler:e,type:"all"})}function r(e=[]){e.forEach((e=>n(e)))}function i(t,n){const o={handler:n,type:t};e.push(o)}function a(e){i("all",e)}function s(e=[],t){e.forEach((e=>i(e,t)))}function u(t,o){const r={handler:(...e)=>{n(r),o(...e)},type:t};e.push(r)}}const C=Object.freeze(Object.defineProperty({__proto__:null,createEventEmitter:_},Symbol.toStringTag,{value:"Module"}));function E(e,t){return t.every((t=>Object.prototype.hasOwnProperty.call(e,t)))}function S(e={}){return Object.keys(e).length>0}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){return t.some((t=>Object.prototype.hasOwnProperty.call(e,t)))}function T(e){return Object.keys(e).reduce(((t,n)=>({...t,[e[n]]:n})),{})}function M(e){return!Object.keys(e).length}function x(e,t=[]){return Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>({...t,[n]:e[n]})),{})}function O(e,t){return t.reduce(((t,n)=>(Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]),t)),{})}function L(e){return Object.keys(e).reduce(((t,n)=>{let o=e[n];return"boolean"===typeof o&&(o=o?"1":"0"),t[n]=o,t}),{})}const R=Object.freeze(Object.defineProperty({__proto__:null,hasAllProperties:E,hasData:S,hasProperty:P,hasSomeProperties:k,invertObject:T,isEmpty:M,objectWithExcludedProps:x,pick:O,transformObjectBooleansToBinaryString:L},Symbol.toStringTag,{value:"Module"}));var I;function N({data:e,initialState:t,states:n},o=_()){let r=t;return{...o,getCurrentState:i,getData:a,transition:s};function i(){return r}function a(){return{...e}}function s(t,i){if(!n[r][t])return o.emit(I.Event.Types.NoTransition,{action:t,data:e,state:r}),!1;const a=n[r][t](i),s="string"===typeof a?a:a.nextState,u=n=>({action:t,currentState:r,data:e,event:n,nextState:s,params:i});return r!==s&&o.emit(I.Event.Types.OnExit,u(I.Event.Types.OnExit)),a.data&&Object.assign(e,a.data),r!==s&&o.emit(I.Event.Types.OnEnter,u(I.Event.Types.OnEnter)),r===s?o.emit(I.Event.Types.OnReEnter,u(I.Event.Types.OnReEnter)):r=s,!0}}(function(e){(function(e){(function(e){e["NoTransition"]="NoTransition",e["OnEnter"]="Enter",e["OnExit"]="Exit",e["OnReEnter"]="ReEnter"})(e.Types||(e.Types={}))})(e.Event||(e.Event={}))})(I||(I={}));const B=Object.freeze(Object.defineProperty({__proto__:null,get StateMachine(){return I},createStateMachine:N},Symbol.toStringTag,{value:"Module"}));var D="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},U={};
/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||l(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[o]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||l(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[o]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{var t=new Audio;"undefined"===typeof t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(le){e.noAudio=!0}else e.noAudio=!0;try{t=new Audio;t.muted&&(e.noAudio=!0)}catch(le){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(l){return e}if(!t||"function"!==typeof t.canPlayType)return e;var o=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/(\d+)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!o&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){while(e._html5AudioPool.length<e.html5PoolSize)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(c){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),"undefined"===typeof u.start?u.noteOn(0):u.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&n.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new t,o=function(e){var t=this;e.src&&0!==e.src.length?t.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return n.ctx||l(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,"undefined"!==typeof n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var o=0;o<e._src.length;o++){var i,s;if(e._format&&e._format[o])i=e._format[o];else{if(s=e._src[o],"string"!==typeof s){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(s),i||(i=/\.([^.]+)$/.exec(s.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&n.codecs(i)){t=e._src[o];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new r(e),e._webAudio&&a(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var o=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===o._state&&!o._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!o._playLock)){for(var i=0,a=0;a<o._sounds.length;a++)o._sounds[a]._paused&&!o._sounds[a]._ended&&(i++,r=o._sounds[a]._id);1===i?e=null:r=null}}var s=r?o._soundById(r):o._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==o._state){s._sprite=e,s._ended=!1;var u=s._id;return o._queue.push({event:"play",action:function(){o.play(u)}}),u}if(r&&!s._paused)return t||o._loadQueue("play"),s._id;o._webAudio&&n._autoResume();var c=Math.max(0,s._seek>0?s._seek:o._sprite[e][0]/1e3),l=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=o._sprite[e][0]/1e3,p=(o._sprite[e][0]+o._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var m=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=p,s._loop=!(!s._loop&&!o._sprite[e][2])};if(!(c>=p)){var h=s._node;if(o._webAudio){var g=function(){o._playLock=!1,m(),o._refreshBuffer(s);var e=s._muted||o._muted?0:s._volume;h.gain.setValueAtTime(e,n.ctx.currentTime),s._playStart=n.ctx.currentTime,"undefined"===typeof h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,c,86400):h.bufferSource.noteGrainOn(0,c,l):s._loop?h.bufferSource.start(0,c,86400):h.bufferSource.start(0,c,l),d!==1/0&&(o._endTimers[s._id]=setTimeout(o._ended.bind(o,s),d)),t||setTimeout((function(){o._emit("play",s._id),o._loadQueue()}),0)};"running"===n.state&&"interrupted"!==n.ctx.state?g():(o._playLock=!0,o.once("resume",g),o._clearTimer(s._id))}else{var v=function(){h.currentTime=c,h.muted=s._muted||o._muted||n._muted||h.muted,h.volume=s._volume*n.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(o._playLock=!0,m(),r.then((function(){o._playLock=!1,h._unlocked=!0,t?o._loadQueue():o._emit("play",s._id)})).catch((function(){o._playLock=!1,o._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(o._playLock=!1,m(),o._emit("play",s._id)),h.playbackRate=s._rate,h.paused)return void o._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?o._endTimers[s._id]=setTimeout(o._ended.bind(o,s),d):(o._endTimers[s._id]=function(){o._ended(s),h.removeEventListener("ended",o._endTimers[s._id],!1)},h.addEventListener("ended",o._endTimers[s._id],!1))}catch(i){o._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=o._src,h.load());var y=window&&window.ejecta||!h.readyState&&n._navigator.isCocoonJS;if(h.readyState>=3||y)v();else{o._playLock=!0,o._state="loading";var b=function(){o._state="loaded",v(),h.removeEventListener(n._canPlayEvent,b,!1)};h.addEventListener(n._canPlayEvent,b,!1),o._clearTimer(s._id)}}return s._id}o._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var r=t._soundById(n[o]);if(r&&!r._paused&&(r._seek=t.seek(n[o]),r._rateSeek=0,r._paused=!0,t._stopFade(n[o]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;"undefined"===typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),r=0;r<o.length;r++){n._clearTimer(o[r]);var i=n._soundById(o[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(o[r]),i._node&&(n._webAudio?i._node.bufferSource&&("undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"mute",action:function(){o.mute(e,t)}}),o;if("undefined"===typeof t){if("boolean"!==typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),i=0;i<r.length;i++){var a=o._soundById(r[i]);a&&(a._muted=e,a._interval&&o._stopFade(a._id),o._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,n.ctx.currentTime):a._node&&(a._node.muted=!!n._muted||e),o._emit("mute",a._id))}return o},volume:function(){var e,t,o,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return o=t?r._soundById(t):r._sounds[0],o?o._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)o=r._soundById(t[u]),o&&(o._volume=e,i[2]||r._stopFade(t[u]),r._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(e,n.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=e*n.volume()),r._emit("volume",o._id));return r},fade:function(e,t,o,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,o,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),o=parseFloat(o),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var c=n.ctx.currentTime,l=c+o/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,o,a[s],"undefined"===typeof r)}}return i},_startFadeInterval:function(e,t,n,o,r,i){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?o/c:o),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var r=(Date.now()-d)/o;d=Date.now(),s+=u*r,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if("boolean"!==typeof r[0])return n=o._soundById(parseInt(r[0],10)),!!n&&n._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=o._getSoundIds(t),a=0;a<i.length;a++)n=o._soundById(i[a]),n&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,o.playing(i[a])&&(o.pause(i[a],!0),o.play(i[a],!0)))));return o},rate:function(){var e,t,o,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!==typeof e)return o=r._soundById(t),o?o._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(o=r._soundById(t[u]),o){r.playing(t[u])&&(o._rateSeek=r.seek(t[u]),o._playStart=r._webAudio?n.ctx.currentTime:o._playStart),o._rate=e,r._webAudio&&o._node&&o._node.bufferSource?o._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):o._node&&(o._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[o._sprite][0]+r._sprite[o._sprite][1])/1e3-c,d=1e3*l/Math.abs(o._rate);!r._endTimers[t[u]]&&o._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,o),d)),r._emit("rate",o._id)}return r},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)o._sounds.length&&(t=o._sounds[0]._id);else if(1===r.length){var i=o._getSoundIds(),a=i.indexOf(r[0]);a>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==o._state||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,r)}}),o;var s=o._soundById(t);if(s){if(!("number"===typeof e&&e>=0)){if(o._webAudio){var u=o.playing(t)?n.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=o.playing(t);l&&o.pause(t,!0),s._seek=e,s._ended=!1,o._clearTimer(t),o._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&o.play(t,!0),o._emit("seek",t)};if(l&&!o._webAudio){var f=function(){o._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return o},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var o=0;o<t._sounds.length;o++)if(!t._sounds[o]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,o=t._soundById(e);return o&&(n=t._sprite[o._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++)t[o]._paused||e.stop(t[o]._id),e._webAudio||(e._clearSound(t[o]._node),t[o]._node.removeEventListener("error",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1),t[o]._node.removeEventListener("ended",t[o]._endFn,!1),n._releaseHtml5Audio(t[o]._node)),delete t[o]._node,e._clearTimer(t[o]._id);var r=n._howls.indexOf(e);r>=0&&n._howls.splice(r,1);var a=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src||e._src.indexOf(n._howls[o]._src)>=0){a=!1;break}return i&&a&&delete i[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var r=this,i=r["_on"+e];return"function"===typeof t&&i.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),r},off:function(e,t,n){var o=this,r=o["_on"+e],i=0;if("number"===typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var a=n===r[i].id;if(t===r[i].fn&&a||!t&&a){r.splice(i,1);break}}else if(e)o["_on"+e]=[];else{var s=Object.keys(o);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(o[s[i]])&&(o[s[i]]=[])}return o},once:function(e,t,n){var o=this;return o.on(e,t,n,1),o},_emit:function(e,t,n){for(var o=this,r=o["_on"+e],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(o,r[i].fn),0),r[i].once&&o.off(e,r[i].fn,r[i].id));return o._loadQueue(e),o},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new r(e)},_drain:function(){var e=this,t=e._pool,n=0,o=0;if(!(e._sounds.length<t)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&n++;for(o=e._sounds.length-1;o>=0;o--){if(n<=t)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"===typeof e){for(var n=[],o=0;o<t._sounds.length;o++)n.push(t._sounds[o]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=i[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,o=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return t;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),o))try{e.bufferSource.buffer=n._scratchBuffer}catch(le){}return e.bufferSource=null,t},_clearSound:function(e){var t=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);t||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(e){this._parent=e,this.init()};r.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var i={},a=function(e){var t=e._src;if(i[t])return e._duration=i[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),r=0;r<n.length;++r)o[r]=n.charCodeAt(r);u(o.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?u(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete i[t],e.load())},s(a)}},s=function(e){try{e.send()}catch(le){e.onerror()}},u=function(e,t){var o=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(i[t._src]=e,c(t,e)):o()};"undefined"!==typeof Promise&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(r).catch(o):n.ctx.decodeAudioData(e,r,o)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(n.usingWebAudio){try{"undefined"!==typeof AudioContext?n.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(le){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!r&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain="undefined"===typeof n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=o,"undefined"!==typeof D?(D.HowlerGlobal=t,D.Howler=n,D.Howl=o,D.Sound=r):"undefined"!==typeof window&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=o,window.Sound=r)})(),
/*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var o=this;return o.ctx&&o.ctx.listener?(t="number"!==typeof t?o._pos[1]:t,n="number"!==typeof n?o._pos[2]:n,"number"!==typeof e?o._pos:(o._pos=[e,t,n],"undefined"!==typeof o.ctx.listener.positionX?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o)):o},HowlerGlobal.prototype.orientation=function(e,t,n,o,r,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!==typeof t?s[1]:t,n="number"!==typeof n?s[2]:n,o="number"!==typeof o?s[3]:o,r="number"!==typeof r?s[4]:r,i="number"!==typeof i?s[5]:i,"number"!==typeof e?s:(a._orientation=[e,t,n,o,r,i],"undefined"!==typeof a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,o,r,i),a)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(t,n)}}),o;var r="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0]}for(var i=o._getSoundIds(n),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!==typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,r),"spatial"===r?"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(t,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,o,r)}}),i;if(n="number"!==typeof n?0:n,o="number"!==typeof o?-.5:o,"undefined"===typeof r){if("number"!==typeof t)return i._pos;i._pos=[t,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!==typeof t)return u._pos;u._pos=[t,n,o],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),"undefined"!==typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(t,n,o)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(t,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,o,r)}}),i;if(n="number"!==typeof n?i._orientation[1]:n,o="number"!==typeof o?i._orientation[2]:o,"undefined"===typeof r){if("number"!==typeof t)return i._orientation;i._orientation=[t,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!==typeof t)return u._orientation;u._orientation=[t,n,o],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),e(u,"spatial")),"undefined"!==typeof u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,o)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,o,r=this,i=arguments;if(!r._webAudio)return r;if(0===i.length)return r._pannerAttr;if(1===i.length){if("object"!==typeof i[0])return o=r._soundById(parseInt(i[0],10)),o?o._pannerAttr:r._pannerAttr;t=i[0],"undefined"===typeof n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:"undefined"!==typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!==typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!==typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:"undefined"!==typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:"undefined"!==typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:"undefined"!==typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:"undefined"!==typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var a=r._getSoundIds(n),s=0;s<a.length;s++)if(o=r._soundById(a[s]),o){var u=o._pannerAttr;u={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:u.maxDistance,refDistance:"undefined"!==typeof t.refDistance?t.refDistance:u.refDistance,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:u.panningModel};var c=o._panner;c||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),c=o._panner),c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel}return r},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()})(U);let F=class{constructor(e,t=!1){s(this,"assets"),s(this,"howler",null),s(this,"useAudioElement",!1);const n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);this.assets=n?e.filter((e=>e.endsWith("mp3"))).concat(e.filter((e=>!e.endsWith("mp3")))):e,this.useAudioElement=t}load(){this.unload(),this.howler||(this.howler=new U.Howl({html5:this.useAudioElement,src:this.assets,onloaderror:()=>{console.warn("Howler: sounds failed to load, falling back to html5 audio"),this.howler=new U.Howl({html5:!0,src:this.assets,onloaderror:()=>{console.error("Howler: html5 audio fallback failed to load")}})}}))}unload(){var e;null==(e=this.howler)||e.unload()}play(){var e;this.howler||this.load(),null==(e=this.howler)||e.play(),window.Cypress&&(window.Cypress.howlerHistory||(window.Cypress.howlerHistory=[]),window.Cypress.howlerHistory.push({time:Date.now(),src:this.assets.slice(0)}))}};var W;(function(e){e["Suspended"]="web-ui-sound-suspended",e["Enabled"]="web-ui-sound-enabled"})(W||(W={}));const V=window.chesscom||{},j=window.AudioContext||window.webkitAudioContext;let q=Boolean(j);function H(){try{return new j}catch(le){return null}}function G(){return q}function K(e){if(j){if(V.audioContext||(V.audioContext=H()),!V.audioContext||!V.audioContext.resume)return q=!1,void e();V.audioContext.resume().then((()=>{q=!1,e()}))}}const Z=["mousedown","keydown","touchstart","touchend"];let z=!1;function $(e){z||(z=!0,Z.forEach((t=>window.addEventListener(t,e))))}function Q(e){z&&(z=!1,Z.forEach((t=>window.removeEventListener(t,e))))}function Y(e,t){function n(o){var r;(null==(r=null==o?void 0:o.data)?void 0:r.key)===e&&(t(),window.removeEventListener("message",n))}window.addEventListener("message",n)}function X(){G()&&K((()=>{window.postMessage({key:W.Enabled},window.location.origin),Q(X)}))}function J(e,t=!1){const n=new F(e,t);return G()?($(X),Y(W.Enabled,(()=>n.load()))):n.load(),n}const ee=3;let te=0,ne=!1;function oe(e){G()?!ne&&te>ee?(te=0,ne=!0,window.postMessage({key:W.Suspended},window.location.origin)):ne||(te++,X(),Y(W.Enabled,(()=>e.play()))):e.play()}const re=Object.freeze(Object.defineProperty({__proto__:null,Sound:F,get SoundEvents(){return W},enableSound:X,loadSound:J,playSound:oe},Symbol.toStringTag,{value:"Module"}));function ie(e){return e&&e.length&&"/"!==e.substr(-1)?`${e}/`:e}function ae(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function se(e){return e.toString().replace(/(?:\r\n|\r|\n)/g,"<br>")}function ue(e){return`${e[0].toLowerCase()}${e.slice(1)}`}const ce=Object.freeze(Object.defineProperty({__proto__:null,addTrailingSlash:ie,capitalizeFirstLetter:ae,newlineToBr:se,uncapitalizeFirstLetter:ue},Symbol.toStringTag,{value:"Module"}))},6886:function(e,t,n){n.d(t,{T:function(){return r}});var o=n(2071);function r(e){return e===o.Z.ColorsAsNumbers.Black?o.Z.ColorsAsNumbers.White:o.Z.ColorsAsNumbers.Black}},6559:function(e,t,n){var o;n.d(t,{k:function(){return o}}),(e=>{(e=>{(e=>{e["ClearAllAnalysis"]="Clear All Analysis",e["DeleteCommentAfter"]="Delete Comment After",e["DeleteCommentBefore"]="Delete Comment Before",e["DeleteComment"]="Delete Comment",e["DeleteLine"]="Delete Entire Variation",e["DeleteMove"]="Delete Move",e["InsertComment"]="Comment",e["InsertCommentAfter"]="Comment After",e["InsertCommentBefore"]="Comment Before",e["InsertContinuation"]="Insert Continuation",e["MoveVariationDown"]="Move Variation Down",e["MoveVariationUp"]="Move Variation Up",e["Promote"]="Promote",e["RemoveAnnotation"]="Remove Annotation",e["ShowAllAnnotations"]="Show All Annotations",e["HideAllAnnotations"]="Hide All Annotations",e["RemoveBegin"]="Remove Begin",e["RemoveEnd"]="Remove End",e["RemoveEvaluationAnnotation"]="Remove Evaluation Annotation",e["RemoveFocus"]="Remove Focus",e["SetBegin"]="Set Begin",e["SetEnd"]="Set End",e["SetFocus"]="Set Focus"})(e.Actions||(e.Actions={})),(e=>{e["BadMove"]="Bad move",e["BlackHasDecisiveAdvantage"]="Black has a decisive advantage",e["BlackHasModerateAdvantage"]="Black has a moderate advantage",e["BlackHasSlightAdvantage"]="Black has a slight advantage",e["Blunder"]="Blunder",e["Drawish"]="Drawish",e["DubiousMove"]="Dubious move",e["ExcellentMove"]="Excellent move",e["GoodMove"]="Good move",e["Miss"]="Miss",e["Novelty"]="Novelty",e["Unclear"]="Unclear",e["PositionInZuqZwang"]="The position is in zugzwang",e["SpeculativeMove"]="Speculative move",e["WhiteHasSlightAdvantage"]="White has a slight advantage",e["WhiteHasModerateAdvantage"]="White has a moderate advantage",e["WhiteHasDecisiveAdvantage"]="White has a decisive advantage",e["WithInitiative"]="With initiative",e["WithCompensation"]="With compensation",e["WithAttack"]="With an attack",e["TimeTrouble"]="Time trouble",e["Counterplay"]="Counterplay",e["DevelopmentLead"]="Development lead"})(e.Annotations||(e.Annotations={})),(e=>{e["B"]="B",e["K"]="K",e["N"]="N",e["P"]="P",e["Q"]="Q",e["R"]="R"})(e.Pieces||(e.Pieces={})),(e=>{e["NumberOfDays"]="numberOfDays",e["NumberOfHours"]="numberOfHours",e["NumberOfMinutes"]="numberOfMinutes"})(e.Plural||(e.Plural={})),(e=>{e["AddComment"]="Add Comment..."})(e.Prompt||(e.Prompt={})),(e=>{e["FiftyMove"]="Fifty moves were played with no capture or pawn move, so the game ended in a draw.",e["InsufficientMaterial"]="Neither player had enough material to force checkmate, so the game ended in a draw.",e["WhiteTimeoutVsInsufficientMaterial"]="Although White ran out of time, Black did not have sufficient material to ever force checkmate, so the game ended in a draw.",e["BlackTimeoutVsInsufficientMaterial"]="Although Black ran out of time, White did not have sufficient material to ever force checkmate, so the game ended in a draw.",e["DrawByAgreement"]="The game has been drawn by agreement.",e["Stalemate"]="A draw by stalemate occurs when the player whose turn it is has no legal moves, but their king is not in check.",e["EnPassant"]="En passant is a special pawn move by which a pawn captures another pawn that has advanced two squares.",e["ThreeFoldRepetition"]="This game ended in a draw because the same position was repeated three times."})(e.Tooltips||(e.Tooltips={})),(e=>{e["TimeoutVsInsufficientMaterial"]="Game drawn by timeout vs insufficient material",e["DrawByAgreement"]="Game drawn by agreement"})(e.GameTerminationMessages||(e.GameTerminationMessages={}))})(e.Translation||(e.Translation={})),(e=>{e["HML"]="hml",e["VML"]="vml",e["MOVE_LIST"]="move-list"})(e.Types||(e.Types={}))})(o||(o={}))},4863:function(e,t,n){function o(e){return function(t){return e===t.type}}n.d(t,{is:function(){return o}})},496:function(e,t,n){n.d(t,{U:function(){return r}});var o=n(6278);function r(e,t=150,n){return`${(0,o.L)(n)}/chess-themes/pieces/${e}/${t}`}},3330:function(e,t,n){n.d(t,{v:function(){return r}});var o=n(4484);function r(e){return!(0,o.k)(e)&&3===e.which}},9466:function(e,t,n){function o(e={}){const t=e;function n(e){if(void 0===t[e])throw new Error(`Requested object at key ${e} is undefined.`);return t[e]}function o(){return t}function r(e,n){t[e]=n}function i(){return Object.keys(t)}function a(e){return void 0!==t[e]}function s(e){delete t[e]}return{deleteItem:s,get:n,getCollection:o,isDefined:a,keys:i,set:r}}n.d(t,{N:function(){return o}})},346:function(e,t,n){var o;n.d(t,{Y:function(){return o}}),(e=>{(e=>{e["Default"]="staunton_executive",e["Trigger"]="real3d"})(e.PieceStyles||(e.PieceStyles={})),(e=>{e["CameraSettings"]="cameraSettings"})(e.CacheKeys||(e.CacheKeys={})),(e=>{e["Board"]="board-webgl-3d",e["PieceDrag"]="piece-dragging",e["PieceHover"]="piece-hover",e["PromotionWindow"]="promotion-window-3d",e["StatisticsPanel"]="statistics-panel"})(e.CssClasses||(e.CssClasses={})),(e=>{e[e["AnalysisOverlay"]=1]="AnalysisOverlay",e[e["NotationPlane"]=2]="NotationPlane",e[e["OverSquare"]=3]="OverSquare",e[e["HighligtedSquare"]=4]="HighligtedSquare",e[e["Hint"]=5]="Hint",e[e["CustomItem"]=6]="CustomItem",e[e["PieceShadow"]=7]="PieceShadow",e[e["Arrow"]=8]="Arrow",e[e["Effect"]=9]="Effect",e[e["Highest"]=10]="Highest"})(e.ObjectsRenderOrder||(e.ObjectsRenderOrder={})),(e=>{e[e["PositionY"]=.005]="PositionY"})(e.Arrow||(e.Arrow={})),(e=>{e[e["PositionY"]=.005]="PositionY"})(e.CustomItem||(e.CustomItem={})),(e=>{e[e["PositionY"]=.005]="PositionY"})(e.Effect||(e.Effect={})),(e=>{e[e["Size"]=10]="Size",e[e["HalfSize"]=5]="HalfSize",e[e["BorderSize"]=.5]="BorderSize",e[e["OverBorderSize"]=.5]="OverBorderSize",e[e["VisibleY"]=.005]="VisibleY",e[e["InvisibleY"]=-.2]="InvisibleY",e[e["InsideTolerance"]=.01]="InsideTolerance"})(e.Square||(e.Square={})),(e=>{e[e["MarginSize"]=4]="MarginSize",e[e["Size"]=88]="Size"})(e.Board||(e.Board={})),(e=>{e[e["Distance"]=140]="Distance",e[e["DistanceMin"]=50]="DistanceMin",e[e["DistanceMax"]=500]="DistanceMax",e[e["PanAngle"]=0]="PanAngle",e[e["TiltAngle"]=100]="TiltAngle",e[e["HorizontalPanning"]=0]="HorizontalPanning",e[e["VerticalPanning"]=-12]="VerticalPanning",e[e["ZoomIncrement"]=5]="ZoomIncrement"})(e.Camera||(e.Camera={}))})(o||(o={}))},1215:function(e,t,n){n.d(t,{O:function(){return r}});var o=n(2071);function r(e){return e===o.Z.ColorsAsNumbers.Black?o.Z.ColorsAsWords.Black:o.Z.ColorsAsWords.White}},5271:function(e,t,n){n.d(t,{E:function(){return o}});n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);function o(e){const t=new Set(Array.isArray(e)?e:Object.values(e));return function(e){return t.has(e.type)}}},5929:function(e,t,n){n.d(t,{Hk:function(){return o},TK:function(){return i},Vq:function(){return r},dn:function(){return a}});const o=["wp","wn","wb","wr","wq","wk","bp","bn","bb","br","bq","bk"],r={"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff00"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff00"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],checkers:["#e3a6a9","#999999","checkers",".jpg","#fae18a"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],default:["#779952","#edeed1","green",".png","#ffff00"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff00"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff00"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},i={"3d_staunton":{format:"png",isPseudo3d:!0,path:"3d_staunton"},"3dchesskid":{format:"png",isPseudo3d:!0,path:"3d_chesskid"},"3dplastic":{format:"png",isPseudo3d:!0,path:"3d_plastic"},"3dwood":{format:"png",isPseudo3d:!0,path:"3d_wood"},"8_bit":{format:"png",path:"8_bit"},alpha:{format:"png",path:"alpha"},bases:{format:"png",path:"bases"},blindfold:{format:"png",path:"blindfold"},book:{format:"png",path:"book"},bubblegum:{format:"png",path:"bubblegum"},cases:{format:"png",path:"cases"},classic:{format:"png",path:"classic"},club:{format:"png",path:"club"},condal:{format:"png",path:"condal"},dash:{format:"png",path:"dash"},game_room:{format:"png",path:"game_room"},glass:{format:"png",path:"glass"},gothic:{format:"png",path:"gothic"},graffiti:{format:"png",path:"graffiti"},icy_sea:{format:"png",path:"icy_sea"},light:{format:"png",path:"light"},lolz:{format:"png",path:"lolz"},luca:{format:"png",path:"luca"},marble:{format:"png",path:"marble"},maya:{format:"png",path:"maya"},metal:{format:"png",path:"metal"},modern2:{format:"png",path:"modern"},nature:{format:"png",path:"nature"},neo:{format:"png",path:"neo"},neo_wood:{format:"png",path:"neo_wood"},neon:{format:"png",path:"neon"},newspaper:{format:"png",path:"newspaper"},ocean:{format:"png",path:"ocean"},real3d:{format:"png",path:"neo"},sky:{format:"png",path:"sky"},space:{format:"png",path:"space"},tigers:{format:"png",path:"tigers"},tournament:{format:"png",path:"tournament"},vintage:{format:"png",path:"vintage"},wood:{format:"png",path:"wood"}};function a(e){const t=r[e];if(!t)return null;const[n,o,i,a,s]=t;return{darkSquareColor:n,lightSquareColor:o,path:i,extension:a,highlightColor:s}}},7535:function(e,t,n){var o;n.d(t,{b:function(){return o}}),(e=>{class t extends Error{}e.StylesSetFailed=t,(e=>{(e=>{e["Arcade"]="arcade",e["Default"]="default",e["Fast"]="fast",e["Natural"]="natural",e["None"]="none",e["Slow"]="slow"})(e.Types||(e.Types={})),(e=>{e[e["Default"]=180]="Default",e[e["Fast"]=100]="Fast",e[e["Slow"]=500]="Slow"})(e.Speeds||(e.Speeds={}))})(e.Animation||(e.Animation={})),(e=>{e["Selected"]="#ffff00",e["Blue"]="#52b0dc",e["Green"]="#acce59",e["Orange"]="#ffaa00",e["Red"]="#eb6150"})(e.HighlightColors||(e.HighlightColors={})),(e=>{e["Analysis"]="analysis",e["Move"]="move",e["Selected"]="selected"})(e.HighlightTypes||(e.HighlightTypes={})),(e=>{e["Blue"]="rgba(72, 193, 249, 0.8)",e["Green"]="rgba(159, 207, 63, 0.8)",e["Orange"]="rgba(255, 170, 0, 0.8)",e["Red"]="rgba(248, 85, 63, 0.8)"})(e.HighlightedArrowColors||(e.HighlightedArrowColors={})),(e=>{e["Inside"]="inside",e["Off"]="off",e["Outside"]="outside"})(e.CoordinatesPositions||(e.CoordinatesPositions={})),(e=>{e["Click"]="click",e["Drag"]="drag",e["Drag_Only"]="drag_only",e["DragOnly"]="drag-only"})(e.MoveMethods||(e.MoveMethods={})),(e=>{e["Figurine"]="figurine",e["Text"]="text"})(e.MoveListDisplayTypes||(e.MoveListDisplayTypes={})),(e=>{e["Default"]="default",e["Traditional"]="traditional"})(e.MoveListClassificationStyles||(e.MoveListClassificationStyles={})),(e=>{e["HoverSquareOutline"]="hoverSquareOutline"})(e.BooleanOptions||(e.BooleanOptions={})),(e=>{e["AnimationType"]="animationType",e["BoardStyle"]="boardStyle",e["Coordinates"]="coordinates",e["DarkMode"]="darkMode",e["EvaluationBarType"]="evaluationBarType",e["HighlightLegalMoves"]="highlightLegalMoves",e["HighlightMoves"]="highlightMoves",e["MoveListDisplayType"]="moveListDisplayType",e["MoveListClassificationStyle"]="moveListClassificationStyle",e["PieceStyle"]="pieceStyle",e["SoundTheme"]="soundTheme",e["PlaySounds"]="playSounds"})(e.SaveableOptions||(e.SaveableOptions={}))})(o||(o={}))},5437:function(e,t,n){n.d(t,{V:function(){return o}});class o extends Error{constructor({code:e,message:t,data:n}){super(t),this.code=e,this.data=n,this.message=t,this.name="ChessError"}}},1067:function(e,t,n){function o(){let e,t;return{promise:new Promise(((n,o)=>{e=n,t=o})),reject:t,resolve:e}}n.d(t,{H:function(){return o}})},813:function(e,t,n){function o(e,t){return{data:t||{},type:e}}n.d(t,{e:function(){return o}})},3135:function(e,t,n){n.d(t,{BB:function(){return o},WP:function(){return r},lF:function(){return i},nC:function(){return a}});var o=(e=>(e["Mousedown"]="mousedown",e["MouseMove"]="mousemove",e["Mouseup"]="mouseup",e["PointerDown"]="pointerdown",e["PointerMove"]="pointermove",e["PointerUp"]="pointerup",e["Touchstart"]="touchstart",e["Touchmove"]="touchmove",e["Touchend"]="touchend",e))(o||{});const{Pointerdown:r,Pointermove:i,Pointerup:a}=s();function s(){const e="onpointerdown"in window,t="ontouchstart"in window;let n,o,r;return e?(n="pointerdown",o="pointermove",r="pointerup"):t?(n="touchstart",o="touchmove",r="touchend"):(n="mousedown",o="mousemove",r="mouseup"),{Pointerdown:n,Pointermove:o,Pointerup:r}}},7593:function(e,t,n){function o(e){return void 0!==(null==e?void 0:e.ids)}n.d(t,{L:function(){return o}})},9335:function(e,t,n){var o;n.d(t,{b:function(){return o}}),(e=>{(e=>{e["AddMove"]="AddMove",e["AnalysisEnd"]="AnalysisEnd",e["AnalysisStart"]="AnalysisStart"})(e.APIEvents||(e.APIEvents={})),(e=>{e.Name="observing"})(e.Plugin||(e.Plugin={}))})(o||(o={}))},9486:function(e,t,n){function o(e){return 0===e}n.d(t,{u:function(){return o}})},3609:function(e,t,n){n.d(t,{PM:function(){return r},VJ:function(){return a},ky:function(){return i}});var o=n(8873);function r(e){return a(e.themeAssets),e}function i(e){return s(e.themeAssets),e}function a(e){if(!e)return e;if(e.config.perspective!==o.b.Perspective.REAL_3D)return e;throw new Error("ThemeAssets: Expected 2D assets, received 3D assets")}function s(e){if(!e)return e;if(e.config.perspective===o.b.Perspective.REAL_3D)return e;throw new Error("ThemeAssets: Expected 3D assets, received 2D assets")}},2989:function(e,t,n){function o(e){return Math.round(e/100)}n.d(t,{y:function(){return o}})},9895:function(e,t,n){n.d(t,{q:function(){return i}});var o=n(7535);function r(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return[0,0,0,0,0,0,0,0,0,0].reduce((t=>t+e.charAt(Math.floor(Math.random()*e.length))),"")}function i(){return{allowMarkings:!0,disableUserMarkings:!1,analysisHighlightColors:{alt:o.b.HighlightColors.Blue,ctrl:o.b.HighlightColors.Orange,default:o.b.HighlightColors.Red,shift:o.b.HighlightColors.Green},analysisHighlightOpacity:.8,animationType:o.b.Animation.Types.Default,arrowColors:{alt:o.b.HighlightedArrowColors.Blue,ctrl:o.b.HighlightedArrowColors.Red,default:o.b.HighlightedArrowColors.Orange,shift:o.b.HighlightedArrowColors.Green},aspectRatio:1,autoClaimDraw:!0,autoPromote:!1,autoResize:!0,boardStyle:"green",captureKeyStrokes:!0,checkBlinkingSquareColor:"#ff0000",coordinates:o.b.CoordinatesPositions.Inside,darkMode:!1,diagramStyle:!0,enabled:!0,disableUserNavigation:!1,fadeSetup:0,flipped:!1,highlightColor:void 0,highlightLegalMoves:!0,highlightMoves:!0,highlightOpacity:.5,hoverSquareOutline:!0,id:r(),moveListContextMenuEnabled:!0,moveListDisplayType:o.b.MoveListDisplayTypes.Text,moveListClassificationStyle:o.b.MoveListClassificationStyles.Default,moveMethod:o.b.MoveMethods.Drag,overlayInAnalysisMode:!1,pieceStyle:"neo",playSounds:!0,premoveDelay:200,premoveHighlightColor:"#f42a32",premoveHighlightOpacity:.5,rounded:!0,setupImprovements:!1,soundTheme:"default",syncEffects:!0,threatSquareColor:"#ff0000",threatSquareOpacity:.8,useSharedStyleTag:!1,disableRookCastling:!1,assetPaths:{basePath:"https://www.chess.com",enPassant:"https://www.chess.com/article/view/how-to-capture-en-passant",soundsTheme:"https://images.chesscomfiles.com/chess-themes/sounds/"}}}},6352:function(e,t,n){var o;n.d(t,{i:function(){return o}}),(e=>{(e=>{e["Event"]="Event",e["State"]="State"})(e.LogCodes||(e.LogCodes={})),(e=>{e["DraggingPiece"]="draggingPiece",e["HideHoverSquare"]="hideHoverSquare",e["MachineState"]="machineState",e["PromotionMove"]="promotionMove",e["SoundPlayed"]="soundPlayed",e["SelectedPiece"]="selectedPiece"})(e.State||(e.State={})),(e=>{e["AddMove"]="AddMove",e["BlinkHighlight"]="BlinkHighlight",e["ClearMarkings"]="ClearMarkings",e["CreateContinuation"]="CreateContinuation",e["CreateGame"]="CreateGame",e["DeletePosition"]="DeletePosition",e["DrawAgreed"]="DrawAgreed",e["DrawClaimed"]="DrawClaimed",e["GameResigned"]="GameResigned",e["IllegalMove"]="IllegalMove",e["LineCommentUpdated"]="LineCommentUpdated",e["LineUpdated"]="LineUpdated",e["Load"]="Load",e["Mark"]="Mark",e["Move"]="Move",e["MoveBackward"]="MoveBackward",e["MoveForward"]="MoveForward",e["MoveVariation"]="MoveVariation",e["NodeUpdated"]="NodeUpdated",e["NodeLimitsUpdated"]="NodeLimitsUpdated",e["OutOfTime"]="OutOfTime",e["PromoteVariation"]="PromoteVariation",e["Reload"]="Reload",e["ResetGame"]="ResetGame",e["ResetToMainLine"]="ResetToMainLine",e["SelectLineEnd"]="SelectLineEnd",e["SelectNode"]="SelectNode",e["SelectLineStart"]="SelectLineStart",e["SetBoardPosition"]="SetBoardPosition",e["SetPlayingAs"]="SetPlayingAs",e["TurnSet"]="TurnSet",e["Undo"]="Undo",e["Unmark"]="Unmark",e["UpdatePGNHeaders"]="UpdatePGNHeaders"})(e.APIEvents||(e.APIEvents={})),(e=>{e["PromotionAreaClosePointerdown"]="PromotionAreaClosePointerdown",e["PromotionPiecePointerdown"]="PromotionPiecePointerdown"})(e.BoardEvents||(e.BoardEvents={})),(e=>{e["Create"]="Create",e["Destroy"]="Destroy",e["ModeChanged"]="ModeChanged",e["RendererSet"]="RendererSet",e["RendererSetFailed"]="RendererSetFailed",e["WebGLAssetsInitialized"]="WebGLAssetsInitialized",e["StylesSetFailed"]="StylesSetFailed"})(e.InstanceEvents||(e.InstanceEvents={})),(e=>{e["Update"]="UpdateOptions",e["UpdateMode"]="UpdateModeOptions"})(e.OptionsEvents||(e.OptionsEvents={})),(e=>{e["Play"]="PlaySound"})(e.SoundEvents||(e.SoundEvents={})),(e=>{e["Resize"]="Resize",e["ToggleHotkeyLegend"]="ToggleHotkeyLegend"})(e.UIEvents||(e.UIEvents={})),(e=>{e["MousedownLeft"]="MousedownLeft",e["MousedownRight"]="MousedownRight",e["PointerdownLeft"]="PointerdownLeft",e["PointerdownRight"]="PointerdownRight",e["Pointermove"]="Pointermove",e["Pointerup"]="Pointerup",e["Wheel"]="Wheel"})(e.UserEvents||(e.UserEvents={})),(e=>{e["UntrustedUserEvent"]="UntrustedUserEvent"})(e.FairPlay||(e.FairPlay={}))})(o||(o={}))},8282:function(e,t,n){n.d(t,{B:function(){return r}});var o=n(8387);function r(e,t,n){let r;if("string"===typeof e)r=o.A.sanToObj(e,t,n);else if("san"in e)if("to"in e)r=e;else{const{san:i,...a}=e,s=o.A.sanToObj(i,t,n);r=s?{...s,...a}:null}else if("tcn"in e){const{tcn:t,...n}=e;r={...o.A.decodeTCN(t)[0],...n}}else r=e;return r?{animate:!0,...r}:null}},1700:function(e,t,n){n.d(t,{X:function(){return ee}});var o=n(7535),r=n(6352),i=n(813),a=n(5142),s=n(843),u=n(1067);function c(){let e=!1;const t=(0,u.H)();return{isReady:()=>e,ready:n,waitForReady:()=>t.promise};function n(n){var o;e=!0,null==(o=t.resolve)||o.call(t,n)}}function l(e){return function({context:t,event:n,line:o,selectedNode:i,queue:a}){const{data:s,type:u}=n,c=null==i?void 0:i.ply;return u===r.i.APIEvents.AddMove&&s.listMove?e.addNode(s.listMove):s&&1===s.plyDiff&&i?(e.addNode(i),e.selectNode(c)):u===r.i.APIEvents.CreateGame||u===r.i.APIEvents.Load||u===r.i.APIEvents.DeletePosition?e.loadNodes(o):u===r.i.APIEvents.LineUpdated?(e.loadNodes(o),e.selectNode(c)):s.moveListDisplayType?(e.setMoveListDisplayType(s.moveListDisplayType),e.loadNodes(o,c)):u===r.i.APIEvents.NodeUpdated&&s.changes&&Object.prototype.hasOwnProperty.call(s.changes,"timestamp")?e.updateTimestamp(s.changes.node):u===r.i.APIEvents.UpdatePGNHeaders&&s.Result?(e.setResult(s.Result),t.game.inThreefoldRepetition()&&a.add(e.addThreeFoldIcons,o)):0===c?e.deselectNode():u!==r.i.OptionsEvents.Update&&e.selectNode(c),s.changes&&Object.prototype.hasOwnProperty.call(s.changes,"customColor")&&e.updateNodeColor(s.ids.move+1,s.changes.customColor),c}}var d;n(4114),n(9479);function f({el:e,value:t,variable:n}){if(void 0!==t)return e.style.setProperty(n,t);e.style.removeProperty(n)}function p(e,t){function n(n){f({el:e,value:t,variable:n})}Object.values(d.CssVariables).forEach(n)}(e=>{(e=>{e["CircleInfo"]="circle-info",e["MoveInfoIcon"]="move-info-icon",e["ThreeFoldIcon"]="redo",e["IconFont"]="icon-font-chess",e["MoveList"]="move-list"})(e.Classes||(e.Classes={})),(e=>{e["EnPassantIcon"]="span"})(e.Tags||(e.Tags={})),(e=>{e["Color"]="--nodeCustomColor",e["TooltipTop"]="--tooltip-top"})(e.CssVariables||(e.CssVariables={}))})(d||(d={}));var m=n(6559),h=n(3135);function g(e,t){const n=document.createElement("div"),o=document.createElement(d.Tags.EnPassantIcon);return n.appendChild(o),n.classList.add(d.Classes.MoveInfoIcon),o.classList.add(d.Classes.IconFont,d.Classes.CircleInfo),n.addEventListener(h.WP,i),n.addEventListener("mouseover",r),n.dataset.tooltip=t[m.k.Translation.Tooltips.EnPassant](),{el:n,listener:{el:n,eventName:h.WP,handler:i}};function r(){const e=n.getBoundingClientRect().y;n.style.setProperty("--tooltip-top",`${e}px`)}function i(t){t.stopPropagation(),window.open(e,"_blank")}}function v(e={}){const t={...e};return{get:n,set:o};function n(){return t}function o(e){Object.assign(t,e)}}var y=n(2071);function b(e){return y.Z.Piece.Names[e.toLowerCase()]}function A(e,t){return e.toUpperCase()===e?w(e,t):e}function w(e,t){return`<span class="icon-font-chess ${b(e)}-${t}" data-figurine="${e}"></span>`}function _({color:e,moveListDisplayType:t,san:n,translations:r}){return n.split("").map((n=>"NBRQK".includes(n)?t===o.b.MoveListDisplayTypes.Figurine?A(n,e):r[n]():n)).join("")}const C=65;function E(e,t){const n=t/40,o=e/n;return 2*C/Math.PI*Math.atan(o/3)}var S=n(1215),P=n(8387);function k(e){if(!e)return null;const t=e.map((({fen:e})=>P.A.shortenFen(e,3))),n=T(t);return 3===n.length?n:null}function T(e){const t=[];for(let n=e.length-1;n>=0;n--)if(e[n]===e[e.length-1]&&t.push(n),3===t.length)return t;return t}function M(e,t){const n=k(e);if(n)return n.map((e=>t[e]))}function x(e){return`time-${e}`}function O(e){return e===y.Z.Move.Flags.EPCapture}var L=n(2989);const R=7;function I(e){return`.${e}`}var N;function B({containerEl:e,moveListEl:t,nodeEl:n,position:o="center",onlyIfOutside:r=!1}){if(!t||!n)return;const i=e||t,a=i.getBoundingClientRect(),s=n.getBoundingClientRect();if(!(r&&a.top<=s.top&&a.bottom>=s.bottom))switch(o){case"nearest-edge":c();break;case"top":l();break;case"bottom":d();break;case"center":default:u()}function u(){const e=(a.bottom-a.top)/2,t=a.top-s.top+e;i.scrollTop-=t}function c(){const e=s.top-a.top,t=a.bottom-s.bottom;e<t?l():d()}function l(){i.scrollTop-=a.top-s.top}function d(){i.scrollTop+=s.bottom-a.bottom}}function D(e){const{el:t,toggleTimestamps:n}=e,o=[],r=v(e);return{addMove:i,addNode:a,addTimestamp:s,clearList:u,createList:c,deselectNode:w,destroyList:P,enableColors:k,getLastPly:T,getParams:r.get,getResult:H,getResultNodeElement:G,getTimestamp:K,hasResultNode:Q,addThreeFoldMoveIcons:oe,removeTimestamp:Y,scrollToSelectedNode:X,selectNode:ee,selectNodeElement:J,setResultNode:ne,setTimestampValue:ae,setParams:r.set,updateNodeColor:ue};function i(e){const n=document.createElement("div");return n.classList.add(N.DOM.ClassNames.Move),e&&(n.setAttribute(N.DOM.Attributes.WholeMoveNumber,`${e}`),n.innerHTML=`${e}.`),t.appendChild(n),n}function a(e){const{color:t,flags:n,ids:o,ply:r,san:a,wholeMoveNumber:s}=e;if(!t||!r||!a||!s||j(r))return;let u=U(s);u||(u=i(s));const c=l({color:(0,S.O)(t),moveId:o.move,isEPCapture:!!n&&O(n),ply:r,san:a});return c?(e.ply&&Object.prototype.hasOwnProperty.call(e,"customColor")&&p(c,e.customColor),u.appendChild(c)):void 0}function s({baseTime:e,node:t,timestamp:n,title:o,value:r}){const{color:i,ply:a,wholeMoveNumber:s}=t;if(!i||!a||!s)return;const u=U(s);if(!u)return;const c=Z(a);c&&u.removeChild(c);const l=A(a);return o&&ie(o,l),re(i,l),ae({baseTime:e,ply:a,timestamp:n,value:r},l),u.appendChild(l),l}function u(){P(),c()}function c(){P(),t.classList.add(N.DOM.ClassNames.List),n&&t.classList.add(N.DOM.ClassNames.ToggleTimestamps)}function l({color:e,isEPCapture:n,moveId:i,ply:a,san:s}){const{EPIconInfoPath:u,moveListDisplayType:c,translations:l}=r.get(),d=document.createElement("div");if(d.setAttribute(N.DOM.Attributes.Ply,a.toString()),d.classList.add(e,N.DOM.ClassNames.Node),d.innerHTML=_({color:e,moveListDisplayType:c,san:s,translations:l}),n){const{el:e,listener:t}=g(u,l);d.appendChild(e),o.push({el:e,eventName:h.WP,handler:t.handler})}return d.addEventListener(h.WP,f),o.push({eventName:h.WP,handler:f}),d;function f(){t.dispatchEvent(new CustomEvent(N.Events.SelectNode,{detail:{ids:{move:i,line:0},ply:a}}))}}function f(e,t){const n=document.createElement("span");return n.innerHTML=e,n.classList.add(t,N.DOM.ClassNames.GameResult),n}function b(){const{translations:e}=r.get(),t=document.createElement("div"),n=document.createElement("span");return t.appendChild(n),t.classList.add(d.Classes.MoveInfoIcon),n.classList.add(d.Classes.IconFont,d.Classes.ThreeFoldIcon),t.dataset.tooltip=e[m.k.Translation.Tooltips.ThreeFoldRepetition](),t.addEventListener("mouseover",o),t;function o(){const e=t.getBoundingClientRect().y;t.style.setProperty("--tooltip-top",`${e}px`)}}function A(e){const t=document.createElement("div");return t.setAttribute(N.DOM.Attributes.Ply,e.toString()),t.setAttribute(N.DOM.Attributes.VMLElement,N.DOM.ElementTypes.Timestamp),t}function w(e){const t=e?j(e):$();t&&C(t)}function C(e){e.classList.remove(N.DOM.ClassNames.Selected)}function P(){o.forEach((e=>{t.removeEventListener(e.eventName,e.handler)})),t.classList.remove(N.DOM.ClassNames.List),t.innerHTML=""}function k(e){const{colorsEnabled:n}=r.get();n!==e&&(r.set({colorsEnabled:e}),t.classList[e?"add":"remove"](N.DOM.ClassNames.ColorsEnabled))}function T(){const e=q();if(!e.length)return;const t=V(e[e.length-1]);return t||void 0}function D(){const e=t.style.getPropertyValue(N.DOM.CSSVariables.MaxMoveTimeTaken);return e.length?parseFloat(e):null}function U(e){return t.querySelector(`[${N.DOM.Attributes.WholeMoveNumber}="${e}"]`)}function F(){return Array.from(t.querySelectorAll(`${I(N.DOM.ClassNames.Move)}`))}function W(e){return e.classList.contains(y.Z.ColorsAsWords.Black)?y.Z.ColorsAsNumbers.Black:y.Z.ColorsAsNumbers.White}function V(e){const t=e.getAttribute(N.DOM.Attributes.Ply);return t?parseInt(t,10):null}function j(e){return t.querySelector(`${I(N.DOM.ClassNames.Node)}[${N.DOM.Attributes.Ply}="${e}"]`)}function q(){return Array.from(t.querySelectorAll(`${I(N.DOM.ClassNames.Node)}`))}function H(){const e=G();return e?e.innerText:y.Z.Results.None}function G(){return t.querySelector(I(N.DOM.ClassNames.GameResult))}function K(e){const t=Z(e);if(!t)return null;const n=t.getAttribute(N.DOM.Attributes.Time);return 0===(null==n?void 0:n.length)?null:parseFloat(n)}function Z(e){return t.querySelector(`[${N.DOM.Attributes.VMLElement}="${N.DOM.ElementTypes.Timestamp}"][${N.DOM.Attributes.Ply}="${e}"]`)}function z(){const e=t.style.getPropertyValue(N.DOM.CSSVariables.TimestampWidth);return e.length?parseFloat(e):null}function $(){return t.querySelector(I(N.DOM.ClassNames.Selected))}function Q(){return Boolean(t.querySelector(I(N.DOM.ClassNames.GameResult)))}function Y(e){const t=Z(e);t&&t.parentNode.removeChild(t)}function X(){const{scrollContainer:e}=r.get(),n=$(),o=e||t;n?B({containerEl:o,moveListEl:t,nodeEl:n}):o.scrollTop=0}function J(e){const t=$();e!==t&&(t&&C(t),e.classList.add(N.DOM.ClassNames.Selected))}function ee(e){const t=j(e);t&&J(t)}function te(e){null!==e?t.style.setProperty(N.DOM.CSSVariables.MaxMoveTimeTaken,e.toString()):t.style.removeProperty(N.DOM.CSSVariables.MaxMoveTimeTaken)}function ne(e){const t=G();if(null!==t){const e=t.parentNode;if(!e)return;e.removeChild(t),0===e.childNodes.length&&e.parentNode.removeChild(e)}if(e===y.Z.Results.None)return;const n=q().slice(-1)[0],o=n&&W(n)!==y.Z.ColorsAsNumbers.Black?y.Z.ColorsAsWords.Black:y.Z.ColorsAsWords.White,r=o===y.Z.ColorsAsWords.White?i():F().slice(-1)[0],a=f(e,o);r.appendChild(a)}function oe(e){const t=M(e,q());t&&3===t.length&&t.forEach((e=>{e.querySelector(I(d.Classes.MoveInfoIcon))||e.appendChild(b())}))}function re(e,t){t.classList.add(x((0,S.O)(e)))}function ie(e,t){t.title=e}function ae({baseTime:e,ply:n,value:o,timestamp:r},i){const a=i||Z(n);if(!a)return;const s=z(),u=D();if(a.setAttribute(N.DOM.Attributes.Time,r.toString()),a.style.setProperty(N.DOM.CSSVariables.TimeValue,r.toString()),a.innerHTML=o,(!s||o.length*R>s)&&se(o.length),e){const n=E(r,(0,L.y)(e));return a.style.setProperty(N.DOM.CSSVariables.TimeBarWidth,`${n}px`),t.classList.add(N.DOM.ClassNames.WithBaseTime),void(u&&te(null))}t.classList.remove(N.DOM.ClassNames.WithBaseTime),(!u||r>u)&&te(r)}function se(e){const n=e*R;t.style.setProperty(N.DOM.CSSVariables.TimestampWidth,`${n}px`)}function ue(e,t){const n=j(e);n&&p(n,t)}}(e=>{(e=>{(e=>{e["Ply"]="data-ply",e["Time"]="data-time",e["WholeMoveNumber"]="data-whole-move-number",e["VMLElement"]="data-vml-element"})(e.Attributes||(e.Attributes={})),(e=>{e["TimeBarWidth"]="--timeBarWidth",e["TimeValue"]="--timeValue",e["MaxMoveTimeTaken"]="--timeMaxValue",e["TimestampWidth"]="--timestampWidth"})(e.CSSVariables||(e.CSSVariables={})),(e=>{e["ColorsEnabled"]="movelist-colored",e["List"]="vertical-move-list",e["GameResult"]="game-result",e["Move"]="move",e["Node"]="node",e["Selected"]="selected",e["WithBaseTime"]="timestamps-with-base-time",e["ToggleTimestamps"]="toggle-timestamps"})(e.ClassNames||(e.ClassNames={})),(e=>{e["Timestamp"]="timestamp"})(e.ElementTypes||(e.ElementTypes={}))})(e.DOM||(e.DOM={})),(e=>{e["SelectNode"]="SelectNode"})(e.Events||(e.Events={}))})(N||(N={}));const U={[m.k.Translation.Prompt.AddComment]:()=>m.k.Translation.Prompt.AddComment,[m.k.Translation.Annotations.BadMove]:()=>m.k.Translation.Annotations.BadMove,[m.k.Translation.Annotations.BlackHasDecisiveAdvantage]:()=>m.k.Translation.Annotations.BlackHasDecisiveAdvantage,[m.k.Translation.Annotations.BlackHasModerateAdvantage]:()=>m.k.Translation.Annotations.BlackHasModerateAdvantage,[m.k.Translation.Annotations.BlackHasSlightAdvantage]:()=>m.k.Translation.Annotations.BlackHasSlightAdvantage,[m.k.Translation.Annotations.Blunder]:()=>m.k.Translation.Annotations.Blunder,[m.k.Translation.Actions.ClearAllAnalysis]:()=>m.k.Translation.Actions.ClearAllAnalysis,[m.k.Translation.Actions.DeleteCommentAfter]:()=>m.k.Translation.Actions.DeleteCommentAfter,[m.k.Translation.Actions.DeleteCommentBefore]:()=>m.k.Translation.Actions.DeleteCommentBefore,[m.k.Translation.Actions.DeleteComment]:()=>m.k.Translation.Actions.DeleteComment,[m.k.Translation.Actions.DeleteLine]:()=>m.k.Translation.Actions.DeleteLine,[m.k.Translation.Actions.DeleteMove]:()=>m.k.Translation.Actions.DeleteMove,[m.k.Translation.Annotations.Drawish]:()=>m.k.Translation.Annotations.Drawish,[m.k.Translation.Annotations.DubiousMove]:()=>m.k.Translation.Annotations.DubiousMove,[m.k.Translation.Annotations.ExcellentMove]:()=>m.k.Translation.Annotations.ExcellentMove,[m.k.Translation.Tooltips.EnPassant]:()=>m.k.Translation.Tooltips.EnPassant,[m.k.Translation.Tooltips.Stalemate]:()=>m.k.Translation.Tooltips.Stalemate,[m.k.Translation.Tooltips.InsufficientMaterial]:()=>m.k.Translation.Tooltips.InsufficientMaterial,[m.k.Translation.Tooltips.FiftyMove]:()=>m.k.Translation.Tooltips.FiftyMove,[m.k.Translation.Tooltips.WhiteTimeoutVsInsufficientMaterial]:()=>m.k.Translation.Tooltips.WhiteTimeoutVsInsufficientMaterial,[m.k.Translation.Tooltips.BlackTimeoutVsInsufficientMaterial]:()=>m.k.Translation.Tooltips.BlackTimeoutVsInsufficientMaterial,[m.k.Translation.Tooltips.DrawByAgreement]:()=>m.k.Translation.Tooltips.DrawByAgreement,[m.k.Translation.Annotations.GoodMove]:()=>m.k.Translation.Annotations.GoodMove,[m.k.Translation.Actions.InsertCommentAfter]:()=>m.k.Translation.Actions.InsertCommentAfter,[m.k.Translation.Actions.InsertCommentBefore]:()=>m.k.Translation.Actions.InsertCommentBefore,[m.k.Translation.Actions.InsertComment]:()=>m.k.Translation.Actions.InsertComment,[m.k.Translation.Actions.InsertContinuation]:()=>m.k.Translation.Actions.InsertContinuation,[m.k.Translation.Annotations.Miss]:()=>m.k.Translation.Annotations.Miss,[m.k.Translation.Actions.MoveVariationDown]:()=>m.k.Translation.Actions.MoveVariationDown,[m.k.Translation.Actions.MoveVariationUp]:()=>m.k.Translation.Actions.MoveVariationUp,[m.k.Translation.Actions.ShowAllAnnotations]:()=>m.k.Translation.Actions.ShowAllAnnotations,[m.k.Translation.Actions.HideAllAnnotations]:()=>m.k.Translation.Actions.HideAllAnnotations,[m.k.Translation.Annotations.Novelty]:()=>m.k.Translation.Annotations.Novelty,[m.k.Translation.Pieces.B]:()=>m.k.Translation.Pieces.B,[m.k.Translation.Pieces.K]:()=>m.k.Translation.Pieces.K,[m.k.Translation.Pieces.N]:()=>m.k.Translation.Pieces.N,[m.k.Translation.Pieces.P]:()=>m.k.Translation.Pieces.P,[m.k.Translation.Pieces.Q]:()=>m.k.Translation.Pieces.Q,[m.k.Translation.Pieces.R]:()=>m.k.Translation.Pieces.R,[m.k.Translation.Actions.Promote]:()=>m.k.Translation.Actions.Promote,[m.k.Translation.Actions.RemoveAnnotation]:()=>m.k.Translation.Actions.RemoveAnnotation,[m.k.Translation.Actions.RemoveBegin]:()=>m.k.Translation.Actions.RemoveBegin,[m.k.Translation.Actions.RemoveEnd]:()=>m.k.Translation.Actions.RemoveEnd,[m.k.Translation.Actions.RemoveEvaluationAnnotation]:()=>m.k.Translation.Actions.RemoveEvaluationAnnotation,[m.k.Translation.Actions.RemoveFocus]:()=>m.k.Translation.Actions.RemoveFocus,[m.k.Translation.Actions.SetBegin]:()=>m.k.Translation.Actions.SetBegin,[m.k.Translation.Actions.SetEnd]:()=>m.k.Translation.Actions.SetEnd,[m.k.Translation.Actions.SetFocus]:()=>m.k.Translation.Actions.SetFocus,[m.k.Translation.Annotations.Counterplay]:()=>m.k.Translation.Annotations.Counterplay,[m.k.Translation.Annotations.DevelopmentLead]:()=>m.k.Translation.Annotations.DevelopmentLead,[m.k.Translation.Annotations.TimeTrouble]:()=>m.k.Translation.Annotations.TimeTrouble,[m.k.Translation.Annotations.SpeculativeMove]:()=>m.k.Translation.Annotations.SpeculativeMove,[m.k.Translation.Tooltips.ThreeFoldRepetition]:()=>m.k.Translation.Tooltips.ThreeFoldRepetition,[m.k.Translation.Annotations.PositionInZuqZwang]:()=>m.k.Translation.Annotations.PositionInZuqZwang,[m.k.Translation.Annotations.Unclear]:()=>m.k.Translation.Annotations.Unclear,[m.k.Translation.Annotations.WhiteHasDecisiveAdvantage]:()=>m.k.Translation.Annotations.WhiteHasDecisiveAdvantage,[m.k.Translation.Annotations.WhiteHasModerateAdvantage]:()=>m.k.Translation.Annotations.WhiteHasModerateAdvantage,[m.k.Translation.Annotations.WhiteHasSlightAdvantage]:()=>m.k.Translation.Annotations.WhiteHasSlightAdvantage,[m.k.Translation.Annotations.WithAttack]:()=>m.k.Translation.Annotations.WithAttack,[m.k.Translation.Annotations.WithCompensation]:()=>m.k.Translation.Annotations.WithCompensation,[m.k.Translation.Annotations.WithInitiative]:()=>m.k.Translation.Annotations.WithInitiative,[m.k.Translation.Plural.NumberOfDays]:e=>1===e?`${e} day`:`${e} days`,[m.k.Translation.Plural.NumberOfHours]:e=>1===e?`${e} hr`:`${e} hrs`,[m.k.Translation.Plural.NumberOfMinutes]:e=>1===e?`${e} min`:`${e} mins`,[m.k.Translation.GameTerminationMessages.DrawByAgreement]:()=>m.k.Translation.GameTerminationMessages.DrawByAgreement,[m.k.Translation.GameTerminationMessages.TimeoutVsInsufficientMaterial]:()=>m.k.Translation.GameTerminationMessages.TimeoutVsInsufficientMaterial};var F=n(5182);function W(e){const t=Math.ceil(e/10);let n=Math.floor(t/86400),o=Math.floor(t%86400/3600),r=Math.ceil(t%3600/60);return 60===r&&(r=0,o+=1),24===o&&(o=0,n+=1),{days:n,hours:o,minutes:r}}function V(e,t){const{days:n,hours:o,minutes:r}=W(e),i={days:o>0||r>0?", ":"",hours:r>0?", ":""},a=n>0?`${t[m.k.Translation.Plural.NumberOfDays](n)}${i.days}`:"",s=o>0?`${t[m.k.Translation.Plural.NumberOfHours](o)}${i.hours}`:"",u=r>0?`${t[m.k.Translation.Plural.NumberOfMinutes](r)}`:"";return`${a}${s}${u}`}function j(e,t){const{days:n,hours:o,minutes:r}=W(e);return n?n>0?`${t[m.k.Translation.Plural.NumberOfDays](n)}`:"":o?o>0?`${t[m.k.Translation.Plural.NumberOfHours](o)}`:"":r>0?`${t[m.k.Translation.Plural.NumberOfMinutes](r)}`:""}function q(e){const t=Math.floor(e/600),n=((e-600*t)/10).toFixed(1);if(0===t)return n;const o=`0${n}`.substr(-4);return`${t}:${o}`}function H({formatTimestampAsHumanReadable:e,timestamp:t,translations:n}){return{title:e?V(t,n):void 0,value:e?j(t,n):q(t)}}var G=n(7621);function K({colorsEnabled:e=!1,el:t,epIconInfoPath:n=F.f.enPassant,getTimeControl:r,formatTimestampAsHumanReadable:i=!1,moveListDisplayType:a=o.b.MoveListDisplayTypes.Text,scrollContainer:s,showResultNode:u=!0,showTimestamps:c=!0,toggleTimestamps:l=!1,translations:d=U}){let f=r;const p=D({colorsEnabled:e,el:t,EPIconInfoPath:n,moveListDisplayType:a,scrollContainer:s,toggleTimestamps:l,translations:d});return p.createList(),{addNode:m,addThreeFoldIcons:_,create:p.createList,deselectNode:p.deselectNode,destroy:p.destroyList,enableColors:p.enableColors,loadNodes:v,selectNode:b,setMoveListDisplayType:A,setResult:w,setGetTimeControl:C,updateNodeColor:p.updateNodeColor,updateTimestamp:E};function m(e){const t=p.getResult();t!==y.Z.Results.None&&p.setResultNode(y.Z.Results.None),p.addNode(e),h(e),t!==y.Z.Results.None&&p.setResultNode(t)}function h(e){const t=(0,G.H)(e);if(!t||!c)return;const{title:n,value:o}=H({formatTimestampAsHumanReadable:i,timestamp:t,translations:d});p.addTimestamp({baseTime:g(),node:e,timestamp:t,title:n,value:o})}function g(){var e;return null==(e=null==f?void 0:f())?void 0:e.baseTime}function v(e,t){const n=p.getResult();p.clearList(),e.forEach((e=>{p.addNode(e),h(e)})),n!==y.Z.Results.None&&p.setResultNode(n);const o=t??p.getLastPly();void 0!==o&&p.selectNode(o),p.scrollToSelectedNode()}function b(e){void 0===e?p.deselectNode():"number"===typeof e?p.selectNode(e):p.selectNodeElement(e),p.scrollToSelectedNode()}function A(e){p.setParams({moveListDisplayType:e})}function w(e){u?p.setResultNode(e):p.getResult()!==y.Z.Results.None&&p.setResultNode(y.Z.Results.None)}function _(e){p.addThreeFoldMoveIcons(e)}function C(e){f=e}function E(e){const{ply:t}=e,n=(0,G.H)(e);if(!t)return;if(null===n)return p.removeTimestamp(t);const{title:o,value:r}=H({formatTimestampAsHumanReadable:i,timestamp:n,translations:d}),a=p.getTimestamp(t);a?a!==n&&p.setTimestampValue({baseTime:g(),ply:t,timestamp:n,value:r}):p.addTimestamp({baseTime:g(),node:e,timestamp:n,title:o,value:r})}}var Z,z=n(5271),$=n(9335),Q=n(8573);(e=>{(e=>{e["Ready"]="Ready",e["Updated"]="Updated"})(e.Events||(e.Events={})),(e=>{e.Name="vml"})(e.Plugin||(e.Plugin={}))})(Z||(Z={}));var Y=n(7593),X=n(4863);const{createEventEmitter:J}=a.rG;function ee({colorsEnabled:e=!1,displayTimeInClockFormat:t=!0,el:n,emitter:a=J(),formatTimestampAsHumanReadable:u=!t,loadLineOnCreate:d=!0,namespace:f=Z.Plugin.Name,scrollContainer:p,showResultNode:m=!0,showTimestamps:h=!0,toggleTimestamps:g=!1,translations:v=U}){let y,b=!0;const A=c(),w=(0,s.y)(!1),_=K({el:n,formatTimestampAsHumanReadable:u,getTimeControl:()=>null,scrollContainer:p||n,showResultNode:m,showTimestamps:h,toggleTimestamps:g,translations:v}),C=l(_);return{api:e=>({activate:()=>{T(!0),k((0,i.e)(r.i.APIEvents.Load),e.api)},deactivate:()=>T(!1),...a,getMoveList:()=>_,isActive:()=>Boolean(b),isReady:()=>A.isReady(),waitForVMLReady:A.waitForReady}),create:E,destroy:S,match:[{condition:M,handler:(e,t)=>k(e,t.api)},{condition:(0,X.is)(r.i.OptionsEvents.Update),handler:e=>{"enabled"in e.data&&T(e.data.enabled)}}],name:f};function E(t){var n;const{api:r}=t;if(_.setGetTimeControl(r.timeControl.get),_.create(),y=P(r),e&&_.enableColors(e),d){const e=r.getLine(0),t=null==(n=r.getSelectedNode())?void 0:n.ply,i=r.getOptions().moveListDisplayType;i===o.b.MoveListDisplayTypes.Figurine&&_.setMoveListDisplayType(i),(null==e?void 0:e.length)&&_.loadNodes(e,t),m&&(_.setResult(r.getResult()),r.getContext().game.inThreefoldRepetition()&&_.addThreeFoldIcons(e))}A.ready(_),a.emit(Z.Events.Ready,_),b=r.getOptions().enabled}function S(){null==y||y(),w.clear(),_&&_.destroy()}function P(e){return n.addEventListener(N.Events.SelectNode,t),function(){n.removeEventListener(N.Events.SelectNode,t)};function t({detail:t}){if(!b||e.getOptions().disableUserNavigation)return;const{ids:n}=t;e.selectNode(n.line,n.move)}}function k(e,t){var n;const o=t.getRelativeNode();w.add(C,{context:t.getContext(),event:e,line:null==(n=t.getLine)?void 0:n.call(t,0),selectedNode:(0,Y.L)(o)?o:void 0,queue:w}),requestAnimationFrame((()=>{requestAnimationFrame((function(){w.flush(),a.emit(Z.Events.Updated,_)}))}))}function T(e){b=e}function M(e){return b&&(0,z.E)([...Q.n,$.b.APIEvents.AddMove,r.i.APIEvents.LineUpdated,r.i.APIEvents.NodeUpdated,r.i.APIEvents.DeletePosition,r.i.APIEvents.UpdatePGNHeaders,r.i.InstanceEvents.Create,r.i.InstanceEvents.ModeChanged,r.i.OptionsEvents.Update])(e)}}},8387:function(e,t,n){n.d(t,{A:function(){return a}});n(4114),n(6573),n(8100),n(7936),n(9479),n(7467),n(4732),n(9577);var o=n(3013),r={exports:{}};(function(e){
/*!
   * Chess.com (c) 2020 | all rights reserved
   */
/*!
   * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
   */
(function(){var t=function(){var e=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],t=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],n=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],o=[4174784170,2938602761],r={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},i=[];i[5]=1,i[6]=0,i[9]=3,i[10]=2,i[17]=5,i[18]=4,i[33]=7,i[34]=6,i[65]=9,i[66]=8,i[129]=11,i[130]=10;var a=[2,5,10,20,40,80,160,64],s="nbrq",u=["","0000000","000000","00000","0000","000","00","0",""],c=16;function l(e){var t=e.toString(16);return u[t.length]+t}function d(e){return l(e[0])+l(e[1])}function f(e){return[parseInt(e.substr(0,8),16),parseInt(e.substr(8),16)]}function p(i,s){var u,c,l,f,p,m,h,g,v,y,b,A,w=i.split(" "),_=w[0].split("/"),C="w"===w[1],E=0,S=Number(C),P=S?3:4;for(l=7;l>=0;l-=1)for(f=0,p=_[l],h=p.length,m=0;m<h;m+=1)g=p[m],b=r[g],b>=0&&(v=e[64*b+8*(7-l)+f],u=(u^v[0])>>>0,c=(c^v[1])>>>0,b===S&&l===P&&(E|=1<<f)),f+=Number(g)||1;return"-"!==w[2]&&(y=w[2],y.indexOf("K")>-1&&(v=t[0],u=(u^v[0])>>>0,c=(c^v[1])>>>0),y.indexOf("Q")>-1&&(v=t[2],u=(u^v[0])>>>0,c=(c^v[1])>>>0),y.indexOf("k")>-1&&(v=t[1],u=(u^v[0])>>>0,c=(c^v[1])>>>0),y.indexOf("q")>-1&&(v=t[3],u=(u^v[0])>>>0,c=(c^v[1])>>>0)),w[3]&&"-"!==w[3]&&(A=w[3].charCodeAt(0)-97,a[A]&E&&(v=n[A],u=(u^v[0])>>>0,c=(c^v[1])>>>0)),C&&(u=(u^o[0])>>>0,c=(c^o[1])>>>0),s&&"hex"===s?d([u,c]):[u,c]}function m(e,t){var n=new XMLHttpRequest,o=e.toLowerCase().indexOf(".json")>-1;function r(){var e;if(n.status>=200&&n.status<300||304===n.status||0===n.status||1223===n.status)if(o)try{t(null,JSON.parse(n.response))}catch(r){t(r)}else e=new DataView(n.response),t(null,e);else t(new Error("Error code: "+n.status))}n.open("GET",e,!0),o||(n.responseType="arraybuffer"),n.onload=r,n.onerror=r,n.send()}function h(e){var t,n,o,r,i={};function a(e,t){var o,r,i,a,u,c,l=n.getUint16(e+8),d=n.getUint16(e+10);return r=l>>9&7,i=l>>6&7,a=l>>3&7,u=7&l,c=l>>12&7,4===i&&t&&r===a&&"-"!==t&&(7===u&&(0===r&&t.indexOf("K")>-1||7===r&&t.indexOf("k")>-1)?u-=1:0===u&&(0===r&&t.indexOf("Q")>-1||7===r&&t.indexOf("q")>-1)&&(u+=2)),o=String.fromCharCode(i+97)+(r+1)+String.fromCharCode(u+97)+(a+1),c&&(o+=s[c-1]),{move:o,weight:d}}function u(e){e.sort((function(e,t){return t.weight-e.weight}))}function l(e){return"string"===typeof e&&(e={fen:e}),t(e)}function d(e){var t,n,o,r,i,a=0;if(e=e||{},t=e.moves||l(e),u(t),o=t.length,o){if(e.type&&1!==o&&"best"!==e.type){if("random"===e.type){for(r=Math.floor(Math.random()*t.sum)+1,i=0;i<o-1;i+=1)if(a+=t[i].weight,r<=a)break;return t[i].move}return"randomDisregardWeight"===e.type?t[Math.floor(Math.random()*o)].move:"worst"===e.type?t[o-1].move:(n=parseInt(e.type)||1,n<0&&(n=o+n+1),n<1?n=1:n>o&&(n=o),t[n-1].move)}return t[0].move}}function m(e){var t,o,r,i,s,u=n.length||n.byteLength||0,l=e.offset||0,d=e.fen,m=e.chess960,h=e.checkAll,g=[],v=0;for(e.hash?(t=e.hash,"string"===typeof t&&(t=f(t))):t=p(d),!m&&d&&(s=d.split(" ")[2]),l=0;l<u;l+=c)if(n.getUint32(l)===t[0]&&n.getUint32(l+4)===t[1])r=a(l,s),g[g.length]=r,v+=r.weight,o=!0;else if(o&&!h)break;if(g.sum=v,e.relative)for(i=g.length-1;i>=0;i-=1)g[i].relative=Math.round(g[i].weight/v*1e4);return g}function h(e){var t,n=[],o=e.b.length;for(t=0;t<o;++t)n.push({move:e.b[t],weight:e.w[t]});return n}function g(e){var t,n,r,a,s,u,c=0,l=e.fen;if(i.useFen)r=l.replace(/ \d+ \d+$/,""),t=o[r],t||(a=r.replace(/[a-h][1-8]$/,"-"),a!==r&&(t=o[a]));else if(e.hash||(e.hash=p(l,"hex")),t=o[e.hash],t){if(t[0]&&t[0].n&&(t=t[0]),t.n&&!t.b)return[];if(t.b)t=h(t);else if(!e.chess960&&l)for(u=l.split(" ")[2],n=t.length-1;n>=0;n-=1)s=t[n].move.match(/e([18])([ah])\1/),s&&("h"===s[2]&&("1"===s[1]&&u.indexOf("K")>-1||"8"===s[1]&&u.indexOf("k")>-1)?t[n]={move:"e"+s[1]+"g"+s[1],weight:t[n].weight}:"a"===s[2]&&("1"===s[1]&&u.indexOf("Q")>-1||"8"===s[1]&&u.indexOf("q")>-1)&&(t[n]={move:"e"+s[1]+"c"+s[1],weight:t[n].weight}))}if(t)for(n=t.length-1;n>=0;n-=1)c+=Number(t[n].weight);else t=[];return t.sum=c,t}if(i={query:l,pick:d},e.getUint32)t=m,n=e,i.buffer=n;else for(r in t=g,o=e,i.json=o,o){i.useFen=r.indexOf(" ")>-1;break}return i}function g(e,t){function n(e,n){var o;if(n&&(o=h(n)),t)return t(e,o);if(e)throw e;return o}m(e,n)}var v=function(){var e={};return function(t,n){e[t]?e[t].book?setTimeout((function(){n(null,e[t].book)}),0):e[t].cbs.push(n):(e[t]={cbs:[n]},g(t,(function(n,o){var r=e[t].cbs;n?delete e[t]:(e[t].book=o,e[t].cbs=void 0),r.forEach((function(e){setTimeout((function(){e(n,o)}),0)}))})))}}();return{hash:p,loadBook:v,to64BitHex:d,zobristPiece:e,zobristCastle:t,zobristEnPassant:n,zobristTurn:o,zobristPieceValue:r,zobristPieceValueNumbers:i}}(),n=function(){var e,n,o,r,i={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,fischerandom:1,fischerrandom:1,fischer:1,chess9lx:1,960:1,crazyhouse:2,"three-check":3,threecheck:3,"3check":3,kingofthehill:4,koth:4,bughouse:5},a=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],s={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,l=0,d=0,f=-1,p=1,m=2,h=4,g=8,v=16,y=32,b=64,A=128,w=3,_=252,C=255,E=256,S=512,P=112,k=1,T=2,M=4,x=3,O=7,L=14,R=21,I=127,N="pnbrqkPNBRQK",B="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",D=[];D[5]=[-16,-17,-15],D[6]=[16,17,15],D[8]=[-18,-33,-31,-14,18,33,31,14],D[16]=[-17,-15,17,15],D[32]=[-16,1,16,-1],D[64]=[-17,-16,-15,1,17,16,15,-1],D[128]=[-17,-16,-15,1,17,16,15,-1];var U={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},F={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},W={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},V={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},j=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],q=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],H=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],G=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],K=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],Z=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],z=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],$=[0,5,8,11,14],Q=[31,7,7,7,63],Y={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},X=[h,g,v,y,b],J=["","N","B","R","Q"],ee={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},te=[0,6,1],ne={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},oe=["Event","Site","Date","Round","White","Black","Result"],re=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function ie(e){return e>>4}function ae(e){return 7&e}function se(e){return String.fromCharCode(ae(e)+97)+(8-ie(e))}function ue(e){return 3-e}function ce(e,t){e[0]=(e[0]^t[0])>>>0,e[1]=(e[1]^t[1])>>>0}function le(e,t,n){return t<1?e:(t="number"===typeof t?t:80,e.replace(new RegExp("(.{1,"+t+"})(?: |$|\r?\n)","g"),"$1"+n).slice(0,-n.length))}function de(e){var t,n;return e=e.trim(),n=e.split(" "),t=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][n.length],t&&e?e+=t:"0"===n[5]&&(n[5]=1,e=n.join(" ")),e}function fe(e){var t=Math.floor(e%36e3/600),n=Math.floor(e%36e3%600)/10;return Math.floor(e/36e3)+":"+(t<10?"0":"")+t+":"+(n<10?"0":"")+n}function pe(e){var t=e.split(":");return 10*(3600*t[0]+60*t[1]+1*t[2])}function me(){t.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function he(e,t){var n,o,r=e.length,a=0,s=0,u=t&&(t===i.Crazyhouse||t===i.Bughouse);for(n=0;n<r;++n)if(o=e[n],+o!==+o)if("/"===o){if(8!==s&&(e=e.substr(0,n)+(8-s)+e.substr(n),++n,++r),s=0,++a>7){if(!u&&n<r-1||!/^[pnbrq]{0,63}$/i.test(e.substr(n+1)))return!1;break}}else if(U[o]){if(++s>8)return!1}else{if("~"!==o)return!1;u&&n&&/[nbrq]/i.test(e[n-1])||(e=e.substr(0,n)+e.substr(n+1),--n,--r)}else s+=1*o,s>8&&(e=e.substr(0,n)+(o-(s-8))+e.substr(n+1),s=8);return e}function ge(e,t){var n,o,r,a,s,u,c,l,d,f,p,m,h,g,v,y,b,A,w,_,C=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,E=i[t]||1*t||i[String(t).replace(/\s/g,"").toLowerCase()],S=E===i.Crazyhouse||E===i.Bughouse,P=0,k=0,T=!0,M="",x={0:0,7:0},O={0:0,7:0},L={0:"k",7:"K"},R={0:"r",7:"R"},I=E===i.Chess960;if(!e)return 1;if(E===i.Bughouse&&(s=e.split(" | "),2===s.length))return u=ge(s[0],t),0===u&&(u=ge(s[1],t)),u;if(s=e.split(/\s+/),E===i["3-check"]&&7===s.length&&(a=s.pop(),!/^\+[0-3]\+[0-3]$/.test(a)||"+3+3"===a))return 14;if(6!==s.length)return 1;if(/\D|.{7,}|^0|^$/.test(s[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(s[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(s[3]))return 4;if(f=s[2],I){if(!C.test(f))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(f)){if("undefined"!==typeof t||!C.test(f))return 5;I=!0}if("w"!==s[1]&&"b"!==s[1])return 6;if(S&&(s[0]=s[0].replace(/~(?=.*\/)/g,"")),o=s[0].split("/"),S&&9===o.length&&(a=o.pop(),!/^[pnbrq]{0,63}$/i.test(a)))return 13;if(8!==o.length)return 7;if("3"===s[3][1]&&"w"===s[1]||"6"===s[3][1]&&"b"===s[1])return 11;for("-"!==s[3]&&(k="3"===s[3][1]?4:3,c=4===k?5:2,P=s[3].charCodeAt(0)-97,T=!1,M=4===k?"P":"p"),n=0;n<o.length;++n){for(A=0,w=!1,_=0;_<o[n].length;_++)if(r=o[n][_],+r===+r){if(w)return 8;A+=1*r,w=!0}else{if(-1===N.indexOf(r))return 9;if(T||k!==n||P!==A||M!==r||(T=!0),c===n&&P===A)return 11;n%7===0&&(r===L[n]?O[n]=1<<A:r===R[n]&&(x[n]|=1<<A)),++A,w=!1}if(8!==A)return 10}if(!T)return 11;if("-"!==f)if(I)for(m={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},p={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},b={0:[0,0],7:[0,0]},n=f.length-1;n>=0;--n){if(v=f.charCodeAt(n),y&&y>v&&y-v<8)return 15;if(75===v?(g=7,h=x[g]&m[O[g]]):81===v?(g=7,h=x[g]&p[O[g]]):107===v?(g=0,h=x[g]&m[O[g]]):113===v?(g=0,h=x[g]&p[O[g]]):(g=v>=97?0:7,h=1<<v-(g?65:97),y=v),!h||0!==(h&h-1))return 15;if(O[g]<2||O[g]>64||(h&x[g])!==h)return 15;if(++b[g][1*(O[g]<h)]>1)return 15}else{if(l=(f.indexOf("K")>-1?128:0)|(f.indexOf("Q")>-1?1:0),l&&(16!==O[7]||(l&x[7])!==l))return 15;if(d=(f.indexOf("k")>-1?128:0)|(f.indexOf("q")>-1?1:0),d&&(16!==O[0]||(d&x[0])!==d))return 15}return 0}function ve(e,t){var n,o,r="",i=0,a=t?6:0;if(e)while(i<5){for(n=e>>$[i]&Q[i],o=0;o<n;++o)r+=N[i+a];++i}return r}function ye(e,n){n[p]&&ce(e,t.zobristCheck[n[p]-1]),n[m]&&ce(e,t.zobristCheck[n[m]+2])}function be(e,n){var o,r,i,a,s,u,c,l=0;for(o=1;o<3;++o){if(r=n[o],r){i=0;while(i<5){for(s=l+63*i,a=r>>$[i]&Q[i],u=0;u<a;++u)c=t.zobristPiece[s++],ce(e,[31*c[0]>>>0,17*c[1]>>>0]);++i}}l=315}}function Ae(e,n,o,r){e[o+1]!==r&&e[o-1]!==r||ce(n,t.zobristEnPassant[ae(o)])}function we(e,t){var n,o,r=[];for(n=0;n<120;++n)136&n&&(n+=8),o=e[n],o&&(o&t)===t&&r.push(n);return r}function _e(e,t,o,r){var i;(0===n||e[o+8]&T)&&(ie(o)%7===0?(i=r|ee.PROMOTION|t<<O|o<<L,u[l++]=i|4<<R,u[l++]=i|3<<R,u[l++]=i|2<<R,u[l++]=i|1<<R):u[l++]=r|t<<O|o<<L)}function Ce(e){switch(e){case 67:case 68:case 51:case 52:return!0}return!1}function Ee(e,t,n,o){var r,i,a,s=t+(n-t%8),u=n>t%8?1:-1;for(a=t+u;a!==s;a+=u)if(e[a])return!1;if(r=o===p?1===u?118:114:1===u?6:2,i=r-u,e[r+8]||e[r]&&r!==t&&r!==s||e[i]&&i!==t&&i!==s)return!1;if(r!==t)for(u=r>t?1:-1,a=t+u;a!==r;a+=u)if(a!==s&&e[a]||e[a+8])return!1;return!0}var Se=function(){function e(t,n,o,r,a,s,u){var c,l,d,f,h,g,v,y,b=[],A="",w=!0,_=n[o],C=_.length,E="";if(_.commands)for(f in _.commands)(!s||s.indexOf(f)>-1)&&(E+="[%"+f+" "+_.commands[f]+"]");for(_.initComment&&!u&&(E=(E+" "+_.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),E&&b.push("{"+E+"}"),l=0;l<C;++l){if(c=_[l],g=c.color===p,A="",E="",r!==i.Bughouse?(w&&!g?A=t+"...":g&&(A=t+"."),a&&(g||w)&&(A+=" ")):(b.bughouseOrder||(b.bughouseOrder=[]),b.bughouseOrder.push(c.bughouseOrder),l||(b.blackCountOffset=_[0].color===m?1:0)),A+=c.san,c.annotation&&(A+=c.annotation),c.additionalAnnotation&&(A+=" "+c.additionalAnnotation.join(" ")),w=!1,"undefined"===typeof c.time||c.commands||(c.commands={clk:fe(c.time)}),c.commands)for(f in c.commands)(!s||s.indexOf(f)>-1)&&(E+="[%"+f+" "+c.commands[f]+"]");if(c.comment&&!u&&(E=(E+" "+c.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),E&&(A+=" {"+E+"}",w=!0),b.push(A),c.lines)for(v=c.lines.length,d=0;d<v;++d)y=c.lines[d],n[y].length&&(h=e(t,n,y,r,a,s,u),h[0]="("+h[0],h[h.length-1]+=")",b=b.concat(h),w=!0);g||t++}return b}function t(e,t,n){var o=t,r=e.siblingGame.pgn(),i=0,a=0,s=[];t.bughouseOrder=t.bughouseOrder||[],r.bughouseOrder=r.bughouseOrder||[];while(t.bughouseOrder.length||r.bughouseOrder.length)!t.bughouseOrder.length||r.bughouseOrder.length&&t.bughouseOrder[0]>r.bughouseOrder[0]?(r.bughouseOrder.shift(),s.push("B")):(t.bughouseOrder.shift(),s.push("A"));return t=[],s.forEach((function(s){var u,c,l,d="";"A"===s?(u=o,++i,c=i,l=e.startingMoveNumber()):(u=r,++a,c=a,l=e.siblingGame.startingMoveNumber()),d=String(Math.floor((c+1)/2)+l-1),(u.blackCountOffset+c)%2?d+=s:d+=s.toLowerCase(),d+="."+(n?" ":"")+u.shift(),t.push(d)})),t}function n(e,t){return"["+e+' "'+String(t).replace(/(\"|\\)/g,"\\$1")+'"]'}return function(o,r,a,s,u,c){var l,d,f="string"===typeof o.newline?o.newline:"\n",p="undefined"===typeof o.spaceAfterPeriods||o.spaceAfterPeriods,m="";for(l in m+=n("Event",r.Event)+f,m+=n("Site",r.Site)+f,m+=n("Date",r.Date)+f,m+=n("Round",r.Round)+f,u===i.Bughouse?(m+=n("WhiteA",r.WhiteA||"?")+f,m+=n("BlackA",r.BlackA||"?")+f,m+=n("WhiteB",r.WhiteB||"?")+f,m+=n("BlackB",r.BlackB||"?")+f):(m+=n("White",r.White)+f,m+=n("Black",r.Black)+f),m+=n("Result",r.Result)+f,u&&(m+=n("Variant",r.Variant)+f),r.FEN&&r.FEN!==B&&(m+=n("SetUp","1")+f,m+=n("FEN",r.FEN)+f),r)-1===re.indexOf(l)&&(m+=n(l,r[l])+f);if(m+=f,d=e(s,a,0,u,p,o.hideCommands?[]:o.restrictCommands,o.hideComments),u===i.Bughouse){if(c.isDependent)return d;d=t(c,d,p)}return d.push(r.Result),m+le(d.join(" "),o.maxWidth,f)}}(),Pe=function(){var e="!?‼⁇⁉⁈□∇Δ∞⩲⩱±∓⨀⟳→↑⇆∆⌓⇔⇗⟫⟪✕⊥⊕○⇄↻⊙☒~",t=/\[%(\S+)\s([^\]]+)\]/,n=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function o(e){var n,o=e.commands||{};while(n=t.exec(e.value))e.value=e.value.replace(n[0],"").trim(),o[n[1]]=n[2],e.commands=o}function r(e,t,n,o){for(var r;++t<n;)if((r=e[t].trim())&&"%"!==r[0])return"["===r[0]&&(!o||/^\[\S+\s+".*"\]$/.test(r))}return function(t,i){var a,s,u,c,l,d,f,p="tags",m=[],h={type:p,value:""},g=0,v=[],y=!0;i=i||{},a=t.split(/\r?\n/),c=a.length,i.recordErrorInfo&&(v._trackTokenInfo=function(e){var t=m.length;e._lineStart=t?m[t-1]._lineEnd:1,e._colStart=t?m[t-1]._colEnd+1:0,e._lineEnd=s+1,e._colEnd=l,m[t]=e},m.push=v._trackTokenInfo);e:for(s=0;s<c;++s)if(u=a[s].trim(),"%"!==u[0])if(u){if(u=" "+u+" ",d=u.length,l=0,y)for(;l<d;++l)if(f=u[l],"tags"===p){if("["===f)p="tagName",h={type:p,value:""};else if(f.trim()){p="san",h={type:p,value:""},y=!1;break}}else if("tagName"===p)h.value&&""===f.trim()?(m.push(h),p="tagValueStart"):" "!==f&&(h.value+=f);else if("tagValueStart"===p){if('"'===f||"“"===f)p="tagValue",h={type:p,value:""};else if(f.trim()){m.push({type:"tagValue",value:u.slice(l,-1).match(/(.*?)"?\]?$/)[1]}),p="tags",h={type:p,value:""};continue e}}else if("tagValue"===p)if('"'===f||"”"===f)if(m.push(h),"]"===u[l+1])p="tags",h={type:p,value:""},++l;else{if("]"===u.slice(-2,-1)){h.value+=u.substr(l).match(/(.*?)"?\s*\] $/)[1],p="tags",h={type:p,value:""};continue e}p="tagEnd"}else"\\"===f&&l+2<d&&(++l,f=u[l]),l>0&&(h.value+=f);else{if("]"!==f){if(!f.trim())continue;--l}p="tags",h={type:p,value:""}}for(;l<d;++l)if(f=u[l],"san"===p)if(e.indexOf(f)>-1)"!"===f||"?"===f||e.indexOf(f)<6&&(f=["!!","??","!?","?!"][e.indexOf(f)-2])?(h.value&&m.push(h),h={type:"a",value:f},"!"!==u[l+1]&&"?"!==u[l+1]||(h.value+=u[++l]),m.push(h),h={type:"san",value:""}):("∞"===f&&"=/"===h.value?(h.type="aa",h.value+=f):(h.value&&(n.test(h.value)&&("--"!==h.value||i.rejectNullMoves)&&(h.type="aa"),m.push(h)),h={type:"aa",value:f},"↑"===f&&"↑"===u[l+1]&&(h.value="↻",++l)),m.push(h),h={type:"san",value:""});else if(" "===f||"\t"===f||"\r"===f||"{"===f||"("===f||")"===f){if(h.value){if("$"===h.value[0])h.type="nag";else if("*"===h.value||"1-0"===h.value||"0-1"===h.value||"1/2-1/2"===h.value||"½-½"===h.value){if(!(g||l+1<d)){if(h.type="result","½-½"===h.value&&(h.value="1/2-1/2"),m.push(h),v.push(m),s+1===c||s+2===c&&!a[s+1])return v;p="tags",y=!0,h={type:p,value:""},m=[],i.recordErrorInfo&&(m.push=v._trackTokenInfo);break}h.type="*"===h.value?"cont":"comment"}n.test(h.value)&&("--"!==h.value||i.rejectNullMoves)&&(h.type="aa"),m.push(h),h={type:p,value:""}}if(" "===f||"\t"===f||"\r"===f)p="san";else if("{"===f)p="comment",m.length&&"comment"===m[m.length-1].type&&(h=m.pop(),h.value+=" ");else if("("===f)p="san",m.push({type:"variationStart",value:++g});else{if(g<1){if(!i.commentErrors)return!1}else m.push({type:"variationEnd",value:g--});p="san"}h.type=p}else if("."===f||!h.value&&+f===+f&&"-"!==u[l+1]&&"/"!==u[l+1]){if(+f===+f)switch(h.number||(h.number=""),h.number+=f,u[l+1]){case"A":case"a":case"B":case"b":h.number+=u[++l],m.push({type:"number",value:h.number}),delete h.number}}else h.value+=f;else 0===l&&(h.value=h.value.trim()),"}"!==f?("\\"===f&&l+2<d&&(f=u[++l]),h.value+=f):(h.value=h.value.trim(),h.value.indexOf("[")>-1&&o(h),m.push(h),p="san",h={type:p,value:""})}else m.length&&("tags"===p?(p="san",y=!1):"tagValueStart"!==p&&r(a,s,c,g||"comment"===p)&&("comment"===p&&m.push(h),"tagValue"!==m[m.length-1].type&&(v.push(m),m=[],i.recordErrorInfo&&(m.push=v._trackTokenInfo)),p="tags",y=!0,g=0));return h.value&&m.push(h),!m.length&&v.length||v.push(m),v}}();function ke(re,le){var fe,Te,Me=0,xe=!0,Oe=[],Le=p,Re=[],Ie=f,Ne=0,Be=1,De=1,Ue=[],Fe=[Ue],We=0;Ue.id=We;var Ve={},je=[],qe=!1,He=!1,Ge=Ct,Ke=function(e,t){var n,o,r,i,a,s,u="";return e&ee.KQSIDE_CASTLE?u=e&ee.KSIDE_CASTLE?"O-O":"O-O-O":e&ee.DROP?(r=e>>L&I,n=e>>R,n&&(u+=J[n]),u+="@"+se(r)):(r=e>>L&I,o=e>>O&I,i=Te[o],i&h?(e&ee.ANY_CAPTURE&&(u+=String.fromCharCode(ae(o)+97)+"x"),u+=se(r),e&ee.PROMOTION&&(n=e>>R,u+="="+J[n])):(u+=V[i&C],d>1&&(u+=kt(i,o,r)),e&ee.ANY_CAPTURE&&(u+="x"),u+=se(r))),t||(e&ee.KQSIDE_CASTLE?(o=e>>O&I,r=e>>L&I):e&ee.DROP_OR_PROMOTE&&(i=X[n]+Le),pt(i,o,r,e)&&(Ge(e,o,r,n),a=c,c=l,s=d,Me&&Mt()||ft()===c?u+="#":u+="+",l=c,c=a,d=s,Pt(Ue.pop()))),u};function Ze(){var e,n,o,r=Le===p?[4174784170,2938602761]:[0,0];for(o=0;o<120;++o)136&o&&(o+=8),e=Te[o],e&&ce(r,t.zobristPiece[64*t.zobristPieceValueNumbers[e&C]+8*(7-ie(o))+ae(o)]);if(He)for(n=1;n<3;++n)Re[n]&&(0!==(Re[n]&Re[n]-1)?(ce(r,t.zobristCastle[n-1]),ce(r,t.zobristCastle[n+1])):Re[n]>1<<ae(Oe[n])?ce(r,t.zobristCastle[n-1]):ce(r,t.zobristCastle[n+1]));else{for(n=1;n<3;++n)Re[n]&&(Re[n]&ee.KSIDE_CASTLE&&ce(r,t.zobristCastle[n-1]),Re[n]&ee.QSIDE_CASTLE&&ce(r,t.zobristCastle[n+1]));qe?be(r,fe._hand):Me===i["3-check"]&&ye(r,je)}return Ie!==f&&Ae(Te,r,Ie+(Le===p?16:-16),h|Le),r}function ze(){var e;return Ue.length?e=Ue[Ue.length-1].hash:(Ue.hash||(Ue.hash=Ze()),e=Ue.hash),[e[0],e[1]]}function $e(e){function t(e){return/#/.test(e)&&vt()&&(e=e.replace("#","+")),e}function n(n,o){var r=e(n,o);return r&&("string"===typeof r?r=t(r):(r.san=t(r.san),Ue[Ue.length-1].san=r.san)),r}return n._isBughouseified=!0,n._orig=e,n}function Qe(e,t){var n=Me;Me=e?i[e]||1*e||i[String(e).replace(/\s/g,"").toLowerCase()]||i.Chess:0,n!==Me&&(Me===i.Bughouse?(qe=!0,fe.isDependent||(fe.siblingGame=ke(),fe.siblingGame.hashing(xe),fe.siblingGame.isDependent=!0,fe.siblingGame.siblingGame=fe,fe.siblingGame.header({Variant:"Bughouse"})),me(),Ge=St,Ke=$e(Ke),fe.move=$e(fe.move)):(delete fe.siblingGame,qe=Me===i.Crazyhouse,He=Me===i.Chess960,Me?(me(),Ge=St):Ge=Ct,Ke._isBughouseified&&(Ke=Ke._orig,fe.move=fe.move._orig)),t||it(ot()))}function Ye(e,t){var n,o,r=e>7?p:m;while(!(136&e)){if(n=Te[e],n&r)if(n&y){if(o)return;o=e%8+(r===p?65:97)}else if(n&A)return o;e+=t}}function Xe(e,t,n){Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=p,Oe[p]=f,Oe[m]=f,Re[p]=0,Re[m]=0,fe._hand[p]=0,fe._hand[m]=0,je[p]=0,je[m]=0,Ie=f,Ne=0,Be=1,t||(Ue=[],Fe=[Ue],We=0,Ue.id=We,Ve={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},e?rt(["Variant",e]):Qe(!1,n),n||it(ot()))}function Je(){Xe(0,!1,!0),Ue.hash=[1178310168,378666140],Te=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33,0,0,0,0,0,0,0,0],De=1,Oe[p]=116,Oe[m]=4,Re[p]=48,Re[m]=48}function et(e,t,n,o){var r,u,c,l,d,g,v,b,_,C,E,P,k=0;if(o?(r=e.split(" "),P=r[3],E=r[2]):(r=e.trim().split(/\s+/),P=r[3]||"-",E=r[2]||"-"),"undefined"===typeof t?(31&E.charCodeAt(0))<9&&Qe(i.Chess960,!0):Qe(t,!0),u=r[0],!o&&!(u=he(u,Me)))return!1;if(l=u.length,Xe(a[Me],n,!0),qe){if(Me===i.Bughouse&&!fe.isDependent&&(g=e.split(" | "),!fe.siblingGame.load(1===g.length?e:g[1],t,n,o)))return Je(),!1;for(d=0;d<l;++d)if(v=u[d],+v!==+v)if("/"===v){if(k>111){for(++d;d<l;++d)v=u[d],fe._hand[v<"a"?p:m]+=1<<Y[v]>>>0;break}k+=8}else Te[k]=U[v],"~"===u[d+1]&&(++d,Te[k]|=S),Te[k]&A&&(Oe[Te[k]&w]=k),++k;else k+=1*v}else for(d=0;d<l;++d)v=u[d],+v!==+v?"/"===v?k+=8:(Te[k]=U[v],Te[k]&A&&(Oe[Te[k]&w]=k),++k):k+=1*v;if(Le="b"===r[1]?m:p,"-"!==E)if(He){for(_={1:[0,0],2:[0,0]},d=E.length-1;d>=0;--d)c=E.charCodeAt(d),75===c?c=Ye(119,-1):81===c?c=Ye(112,1):107===c?c=Ye(7,-1):113===c&&(c=Ye(0,1)),b=c<97?p:m,C=ne[String.fromCharCode(c)],(o||Te[C]===(y|b))&&(c>=97?Oe[b]>=1&&Oe[b]<=6&&(Re[b]|=1<<C):Oe[b]>=113&&Oe[b]<=118&&(Re[b]|=1<<C-112),++_[b][1*(Oe[b]<C)]);(_[p][0]>1||_[p][1]>1)&&(Re[p]=0),(_[m][0]>1||_[m][1]>1)&&(Re[m]=0)}else{if(!o)for(d=E.length-1;d>=0;--d)b=E.charCodeAt(d)<97?p:m,Te[ne[E[d]]]===(y|b)&&Oe[b]===(b===p?116:4)||(E=E.substr(0,d)+E.substr(d+1));for(d=E.length-1;d>=0;--d)switch(E[d]){case"K":Re[p]|=ee.KSIDE_CASTLE;break;case"Q":Re[p]|=ee.QSIDE_CASTLE;break;case"k":Re[m]|=ee.KSIDE_CASTLE;break;case"q":Re[m]|=ee.QSIDE_CASTLE;break}}return!o&&(2!==P.length||Le===p&&"6"!==P[1]||Le===m&&"3"!==P[1]||Te[P.charCodeAt(0)-97+16*(8-("3"===P[1]?4:5))]!==(h|ue(Le))||Te[s[P]])&&(P="-"),Ie="-"===P?f:s[P],Ne=1*r[4]||0,Be=1*r[5]||1,Me===i["3-check"]&&(r[6]&&"+3+3"!==r[6]&&(g=r[6].match(/^\+([0-3])\+([0-3])$/)),g=g||[0,0,0],je[p]=1*g[1],je[m]=1*g[2]),n||(De=Be,it(ot())),!0}function tt(){var e,t,n=0,o="",r="";for(e=0;e<120;++e)136&e&&(n&&(o+=n),o+="/",n=0,e+=8),t=Te[e],t?(n&&(o+=n,n=0),o+=W[t&C]):++n;return n&&(o+=n),Re[p]&ee.KSIDE_CASTLE&&(r+="K"),Re[p]&ee.QSIDE_CASTLE&&(r+="Q"),Re[m]&ee.KSIDE_CASTLE&&(r+="k"),Re[m]&ee.QSIDE_CASTLE&&(r+="q"),o+=" "+(Le===p?"w":"b")+" "+(r||"-")+" "+(Ie===f?"-":se(Ie))+" "+Ne+" "+Be,o}function nt(){var e,t,n,o=0,r="",a="";for(e=0;e<120;++e)136&e&&(o&&(r+=o),r+="/",o=0,e+=8),n=Te[e],n?(o&&(r+=o,o=0),r+=W[n&C],qe&&n&S&&(r+="~")):++o;if(o&&(r+=o),qe&&(r+="/"+ve(fe._hand[p],!0)+ve(fe._hand[m])),He){t=Re[m],e=0;while(t)1&t&&(a=String.fromCharCode(e+97)+a),t>>=1,++e;t=Re[p],e=0;while(t)1&t&&(a=String.fromCharCode(e+65)+a),t>>=1,++e}else Re[p]&ee.KSIDE_CASTLE&&(a+="K"),Re[p]&ee.QSIDE_CASTLE&&(a+="Q"),Re[m]&ee.KSIDE_CASTLE&&(a+="k"),Re[m]&ee.QSIDE_CASTLE&&(a+="q");return r+=" "+(Le===p?"w":"b")+" "+(a||"-")+" "+(Ie===f?"-":se(Ie))+" "+Ne+" "+Be,Me===i["3-check"]?r+=" +"+je[p]+"+"+je[m]:Me!==i.Bughouse||fe.isDependent||(r+=" | "+fe.siblingGame.fen()),r}function ot(){return Me?nt():tt()}function rt(e){var t,n,o;for(t=0;t<e.length;t+=2)n=e[t],o=e[t+1],n&&("Variant"===n&&(Qe(o),o=Me?a[Me]:void 0),"Result"===n&&"*"!==o&&"1-0"!==o&&"0-1"!==o&&"1/2-1/2"!==o&&(o="*"),void 0!==o?Ve[n]=String(o):oe.indexOf(n)>-1?Ve[n]="Date"===n?"????.??.??":"?":delete Ve[n]);return Ve}function it(e){Ue.length>0||We||(e!==B?(Ve.SetUp="1",Ve.FEN=e,Ue.hash=null):(delete Ve.SetUp,delete Ve.FEN,Ue.hash=[1178310168,378666140]))}function at(e){var t=Te[s[e]];return t?{type:W[t&_|m],color:t&w,promoted:0!==(t&S)}:null}function st(e,t){return He&&Re[e]?Z:Re[e]&ee.KSIDE_CASTLE&&!Te[t+1]&&!Te[t+2]?Re[e]&ee.QSIDE_CASTLE&&!Te[t-1]&&!Te[t-2]&&!Te[t-3]?(r=ee.KQSIDE_CASTLE,K):(r=ee.KSIDE_CASTLE,H):Re[e]&ee.QSIDE_CASTLE&&!Te[t-1]&&!Te[t-2]&&!Te[t-3]?(r=ee.QSIDE_CASTLE,G):q}function ut(t,i){var a,s,u,c,l,d,p,m,g,v,y,b,A,w=Le,C=Te;if(e=[],n=0,o=0,r=0,C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=C[24]=C[25]=C[26]=C[27]=C[28]=C[29]=C[30]=C[31]=C[40]=C[41]=C[42]=C[43]=C[44]=C[45]=C[46]=C[47]=C[56]=C[57]=C[58]=C[59]=C[60]=C[61]=C[62]=C[63]=C[72]=C[73]=C[74]=C[75]=C[76]=C[77]=C[78]=C[79]=C[88]=C[89]=C[90]=C[91]=C[92]=C[93]=C[94]=C[95]=C[104]=C[105]=C[106]=C[107]=C[108]=C[109]=C[110]=C[111]=C[120]=C[121]=C[122]=C[123]=C[124]=C[125]=C[126]=C[127]=0,i!==f){for(b=st(w,i),a=0;a<120;++a)if(136&a&&(a+=8),c=Te[a],c)if(c&w)(!t||c&t)&&e.push(a);else if(A=b[a-i+119],0!==(A&c))if(c&h)for(g=D[c],s=1;s<3;++s)p=a+g[s],136&p||(C[p+8]|=k,p===i&&(++n,C[a+8]|=T));else{g=D[c&_],m=g.length,y=c&P;e:for(s=0;s<m;++s)if(v=g[s],p=a,!(i>p&&v<0&&i-p>16||i<p&&v>0&&p-i>16))while(0===(136&(p+=v))){if(C[p+8]|=k,l=Te[p],l){if(l&w)if(p===i){for(u=p-v;u!==a;u-=v)C[u+8]|=T;C[a+8]|=T,++n,y&&(p+=v,0===(136&p)&&(C[p+8]|=k))}else if(y&&A&E){d=p;while((d+=v)!==i)if(136&d||Te[d])continue e;C[p+8]|=M+(Math.abs(v)<<x),++o}break}if(!y)break}}n>1&&(e=[i])}else e=we(Te,w|t)}function ct(e,t){var o,r,i,a=t+16*(Le===p?1:-1);return(1!==n||0!==(Te[t+8]&T)||0!==(Te[a+8]&T))&&(o=Te[e],Te[t]=o,Te[e]=0,r=Te[a],Te[a]=0,i=gt(),Te[e]=o,Te[t]=0,Te[a]=r,!i)}function lt(e){var t,n,o;if(He){if(Re[e])for(t=Oe[e],n=t%8,o=0;o<8;++o)Re[e]&1<<o&&Ee(Te,t,o,e)&&(u[l++]=(o>n?ee.KSIDE_CASTLE:ee.QSIDE_CASTLE)+(t<<O)+(t+(o-n)<<L),++o)}else r&ee.KSIDE_CASTLE&&(t=Oe[e],n=t+2,0===Te[t+9]&&0===Te[t+10]&&(u[l++]=ee.KSIDE_CASTLE+(t<<O)+(n<<L))),r&ee.QSIDE_CASTLE&&(t=Oe[e],n=t-2,0===Te[t+7]&&0===Te[t+6]&&(u[l++]=ee.QSIDE_CASTLE+(t<<O)+(n<<L)))}function dt(e,t,o){var r,i,a,s,c;if(!e)for(t&&(t>>=26),s=0;s<5;++s)if((!t||(0|t)===1<<s)&&fe._hand[o]&Q[s]<<$[s]){for(0===s?(r=16,i=103,a=ee.DROP):(r=0,i=119,a=ee.DROP|s<<R),c=r;c<=i;++c)136&c&&(c+=8),Te[c]||(0===n||1===n&&Te[c+8]&T)&&(u[l++]=a|c<<L);if(t)return}}function ft(t,r){var i,a,s,f,p,m,v,y,b,A,w=Le,C=ue(w),E=Oe[w];for(ut(t,E),d=e.length,l=c,b=0;b<d;++b)if(i=e[b],f=Te[i],!(n&&o&&Te[i+8]&M))if(f&h)for(m=D[f],0!==o&&0!==(Te[i+8]&M)&&Te[i+8]>>x!==16||(p=i+m[0],0===Te[p]&&(_e(Te,i,p,0),te[w]===ie(i)&&(p+=m[0],Te[p]||_e(Te,i,p,ee.BIG_PAWN)))),a=1;a<3;++a)v=m[a],p=i+v,136&p||o&&Te[i+8]&M&&Te[i+8]>>x!==Math.abs(v)||(Te[p]&C?_e(Te,i,p,ee.CAPTURE):p===Ie&&ct(i,p)&&(u[l++]=ee.EP_CAPTURE|i<<O|p<<L));else{if(o&&Te[i+8]&M){if(f&g)continue;if(!(j[i-Oe[w]+119]&f))continue;v=Te[i+8]>>x,m=[v,-v]}else m=D[f&_];if(A=i<<O,i===E){for(a=0;a<8;++a)v=m[a],p=i+v,0===(136&p)&&(Te[p]?Te[p]&C&&0===(Te[p+8]&k)&&(u[l++]=ee.CAPTURE|A|p<<L):0===(Te[p+8]&k)&&(u[l++]=A|p<<L));0===n&&lt(w)}else for(s=m.length,y=f&P,a=0;a<s;++a){v=m[a],p=i;while(1){if(p+=v,136&p)break;if(Te[p]){Te[p]&C&&(0===n||Te[p+8]&T)&&(u[l++]=ee.CAPTURE|A|p<<L);break}if((0===n||Te[p+8]&T)&&(u[l++]=A|p<<L),!y)break}}}return Me&&(qe?dt(r,t,w):!He&&Mt()&&(l=c)),l}function pt(e,t,n,o){var r,a,s,u,c,l,d,m,g;if(Me===i["King of the Hill"]&&e&A&&Ce(n))return!0;if(o&ee.KQSIDE_CASTLE&&(n=Le===p?o&ee.KSIDE_CASTLE?117:115:o&ee.KSIDE_CASTLE?5:3,e=y,g=!0),r=Oe[ue(Le)],r===f)return!1;if(0===(e&A)&&(a=j[n-r+119],a&e)){u=z[n-r+119],l=e&P,c=n+u;while(0===(136&c)){if(c===r){if(e&h){if((e&w)===p?r-n<0:r-n>0)return!0;break}return!0}if(c!==t&&Te[c]||!l)break;c+=u}}if(!g){if(s=j[t-r+119],s&P&&(u=z[t-r+119],u!==z[n-r+119])){c=r-u;while(0===(136&c)){if(c!==t&&(d=Te[c],d)){if(d&Le&&s&d&&d&P)return!0;break}c-=u}}if(o&ee.EP_CAPTURE&&(m=n+16*(Le===p?1:-1),s=j[m-r+119],s&P)){u=z[m-r+119],c=r-u;while(0===(136&c)){if(c!==t&&c!==m){if(c===n)break;if(d=Te[c],d){if(d&Le&&s&d&&d&P)return!0;break}}c-=u}}}return!1}function mt(e,t){var n,o,r,i,a=D[g],s=g|e;for(n=0;n<8;++n)if(r=t+a[n],0===(136&r)&&(o=Te[r],(o&s)===s))return!0;for(a=D[A],n=0;n<8;++n){i=a[n],r=t+i;while(0===(136&r)){if(o=Te[r],o){if(o&e&&j[t-r+119]&o){if(!(o&h))return!0;if(e===p?t-r<0:t-r>0)return!0}break}r+=i}}return!1}function ht(e){return Oe[e]!==f&&mt(ue(e),Oe[e])}function gt(){return ht(Le)}function vt(){var e,t,n,o=1<<$[4];return fe._hand[Le]+=o,e=c,c=l,t=d,n=ft()!==c,l=c,c=e,d=t,fe._hand[Le]-=o,n}function yt(){return gt()&&(u[0]=0)===ft()&&!u[0]&&(Me!==i.Bughouse||!vt())}function bt(){var e=!gt()&&(u[0]=0)===ft()&&!u[0];return e&&Me===i.Bughouse&&!fe.isDependent&&(e=fe.siblingGame.inStalemate()),e&&Oe[Le]!==f}function At(e){var t,n,o=100,r=0,i=0,a=0;for(n=0;n<120;++n)if(136&n&&(n+=8),t=Te[n],t){if(e&&0===(t&e))continue;if(o&t)return!1;if(t&g){if(i||r++)return!1}else if(t&v){if(r)return!1;if(++i,(ie(n)+n)%2&&++a,a&&i!==a)return!1}}return Oe[p]!==f&&Oe[m]!==f}function wt(){if(Ne<8)return!1;for(var e,t=ze(),n=!1,o=Ne,r=!1,i=Ue,a=i.length-1;;){if(a-=2,a<0){if(i.id){a=i.atMoveNode+a+2,i=Fe[i.parentId];continue}if(-2===a)return!1;e=i.hash,r=!0}else e=i[a].hash,i[a].halfMoves>o||o<2?r=!0:o=i[a].halfMoves;if(e[0]===t[0]&&e[1]===t[1]){if(n)return!0;n=!0}if(r)return!1}}function _t(e){var n,o,r,a,s,u,c,l,d,f,m=e.move;if(Me===i.Crazyhouse||m&ee.DROP?(o=fe._hand,u=e.hash,f=e.color):(o=fe.siblingGame._hand,e.handSibling=!0,xe&&(c=fe.siblingGame._history(),c.length?u=c[c.length-1].hash:(c.hash||(c.hash=fe.siblingGame._hashPosition()),u=c.hash)),f=ue(e.color)),e.captured){switch(r=e.captured&S?h:e.captured&_,r&_){case h:l=0;break;case g:l=1;break;case v:l=2;break;case y:l=3;break;default:l=4}n=1<<$[l],xe&&(s=o[f]>>$[l]&Q[l],d=t.zobristPiece[s+63*l+(f===p?0:315)])}else a=m>>R,n=-1<<$[a],xe&&(s=o[f]>>$[a]&Q[a],d=t.zobristPiece[s-1+63*a+(f===p?0:315)]);o[f]+=n,e.handChange=n,xe&&ce(u,[31*d[0]>>>0,17*d[1]>>>0])}function Ct(e,n,o,r){var i,a,s,u,c,l,d,g,v=Le,b=ue(v),w={move:e,epSquare:Ie,halfMoves:Ne,castlingW:Re[p],castlingB:Re[m],color:v},_=v===p;xe&&(u=ze(),w.hash=u,ce(u,t.zobristTurn),Ie!==f&&Ae(Te,u,Ie+(_?16:-16),h|v)),0===(e&ee.KQSIDE_CASTLE)?qe&&e&ee.DROP?(Te[o]=X[r]|v,xe&&ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[Te[o]]+8*(7-ie(o))+ae(o)]),_t(w),d=0):(d=Te[n],g=Te[o],g&&(w.captured=g,xe&&ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[Te[o]&C]+8*(7-ie(o))+ae(o)]),g&y&&Re[b]&&(He?ie(o)===(_?0:7)&&(s=1<<ae(o),Re[b]&s&&(Re[b]^=s,xe&&(s>1<<ae(Oe[v])?ce(u,t.zobristCastle[b-1]):ce(u,t.zobristCastle[b+1])))):o===(_?7:119)?Re[b]&ee.KSIDE_CASTLE&&(Re[b]^=ee.KSIDE_CASTLE,xe&&ce(u,t.zobristCastle[b-1])):o===(_?0:112)&&Re[b]&ee.QSIDE_CASTLE&&(Re[b]^=ee.QSIDE_CASTLE,xe&&ce(u,t.zobristCastle[b+1])))),e&ee.PROMOTION?Te[o]=X[r]|v|S:Te[o]=Te[n],Te[n]=0,xe&&(ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[d&C]+8*(7-ie(n))+ae(n)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[Te[o]&C]+8*(7-ie(o))+ae(o)]))):d=A,e&ee.EP_CAPTURE?(_?(l=o+16,c=6):(l=o-16,c=8),w.captured=h|b,Te[l]=0,xe&&ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[h|b]+8*(c-ie(o))+ae(o)])):d&A?(He?(e&ee.KQSIDE_CASTLE&&(Te[o]=0,Te[n]=0,e&ee.KSIDE_CASTLE?_?(i=118,a=117):(i=6,a=5):_?(i=114,a=115):(i=2,a=3),Te[i]=v|A,Te[a]=v|y,xe&&(ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[A|v]+8*(7-ie(n))+ae(n)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[y|v]+8*(7-ie(o))+ae(o)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[A|v]+8*(7-ie(i))+ae(i)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[y|v]+8*(7-ie(a))+ae(a)]))),xe&&(0!==(Re[v]&Re[v]-1)?(ce(u,t.zobristCastle[v-1]),ce(u,t.zobristCastle[v+1])):Re[v]>1<<ae(Oe[v])?ce(u,t.zobristCastle[v-1]):ce(u,t.zobristCastle[v+1])),Oe[v]=i||o):(e&ee.KQSIDE_CASTLE&&(Te[o]=Te[n],Te[n]=0,e&ee.KSIDE_CASTLE?(i=o-1,a=o+1):(i=o+1,a=o-2),Te[i]=Te[a],Te[a]=0,xe&&(ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[A|v]+8*(7-ie(n))+ae(n)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[y|v]+8*(7-ie(a))+ae(a)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[A|v]+8*(7-ie(o))+ae(o)]),ce(u,t.zobristPiece[64*t.zobristPieceValueNumbers[y|v]+8*(7-ie(i))+ae(i)]))),xe&&(Re[v]&ee.KSIDE_CASTLE&&ce(u,t.zobristCastle[v-1]),Re[v]&ee.QSIDE_CASTLE&&ce(u,t.zobristCastle[v+1])),Oe[v]=o),Re[v]=0):d&y&&Re[v]&&(He?ie(n)===(_?7:0)&&(s=1<<ae(n),Re[v]&s&&(Re[v]^=s,xe&&(s>1<<ae(Oe[v])?ce(u,t.zobristCastle[v-1]):ce(u,t.zobristCastle[v+1])))):n===(_?119:7)?Re[v]&ee.KSIDE_CASTLE&&(Re[v]^=ee.KSIDE_CASTLE,xe&&ce(u,t.zobristCastle[v-1])):n===(_?112:0)&&Re[v]&ee.QSIDE_CASTLE&&(Re[v]^=ee.QSIDE_CASTLE,xe&&ce(u,t.zobristCastle[v+1]))),e&ee.BIG_PAWN?(Ie=_?o+16:o-16,xe&&Ae(Te,u,o,h|b)):Ie=f,d&h||e&ee.ANY_CAPTURE?Ne=0:Ne++,Le=b,Ue.push(w)}function Et(){var e,n={color:Le,san:"--",epSquare:Ie},o={color:Le,san:"--"};return xe&&(e=ze(),n.hash=e,ce(e,t.zobristTurn),Ie!==f&&Ae(Te,e,Ie+(Le===p?16:-16),h|Le)),Ie=f,Ne++,Le=ue(Le),Le===p&&++Be,Ue.push(n),o}function St(e,n,o,r){var a,s=Le;Ct(e,n,o,r),a=Ue[Ue.length-1],qe?(Ne=a.halfMoves+1,a.captured&&_t(a),Me===i.Bughouse&&(a.bughouseOrder=fe.moveCount()-1+fe.siblingGame.moveCount())):Me===i["3-check"]&&ht(Le)&&(a.checked=!0,xe&&je[s]&&ce(a.hash,t.zobristCheck[je[s]+(s===p?-1:2)]),++je[s],xe&&ce(a.hash,t.zobristCheck[je[s]+(s===p?-1:2)]))}function Pt(e){var t,n,o=Le,r=ue(o),a=e.move,s=a>>L&I,u=a>>O&I;if(Le=r,Re[m]=e.castlingB,Re[p]=e.castlingW,Ie=e.epSquare,Ne=e.halfMoves,Me){if(He&&a&ee.KQSIDE_CASTLE)return a&ee.KSIDE_CASTLE?r===p?(n=118,t=117):(n=6,t=5):r===p?(n=114,t=115):(n=2,t=3),Te[n]=0,Te[t]=0,Te[u]=r|A,Te[s]=r|y,void(Oe[r]=u);if(e.handChange&&(Me!==i.Crazyhouse&&e.handSibling?fe.siblingGame._hand[ue(r)]-=e.handChange:fe._hand[r]-=e.handChange),a&ee.DROP)return void(Te[s]=0);e.checked&&--je[r]}a&ee.PROMOTION?(Te[u]=h|r,a&ee.CAPTURE?Te[s]=e.captured:Te[s]=0):(Te[u]=Te[s],a&ee.KQSIDE_CASTLE?(Te[s]=0,a&ee.KSIDE_CASTLE?(t=s+1,n=s-1):(t=s-2,n=s+1),Te[t]=r|y,Te[n]=0,Oe[r]=u):(s===Oe[r]&&(Oe[r]=u),a&ee.CAPTURE?Te[s]=e.captured:(Te[s]=0,a&ee.EP_CAPTURE&&(Te[s-(r===p?-16:16)]=h|o))))}function kt(e,t,n){var o,r,i,a,s,c,d,f;if(l<2)return"";for(e&=_,f=0;f<l;++f)if(o=u[f],d=o>>L,n===d&&(a=o>>O&I,a!==t&&(r=Te[a],r&e))){if(i=!0,ie(t)===ie(a)){if(s)return se(t);c=!0}if(ae(t)===ae(a)){if(c)return se(t);s=!0}}return i?s?String(8-ie(t)):String.fromCharCode(ae(t)+97):""}function Tt(e,t,n){var o,r,i=e>>L&I,a={color:Le,to:se(i),flags:e&I};return qe&&0!==(e&ee.DROP)?(r=e>>R,a.drop=r,a.piece=X[r]+Le):(o=e>>O&I,a.from=se(o),a.piece=Te[o],e&ee.PROMOTION&&(r=e>>R,a.promotion=X[r]+Le),e&ee.CAPTURE?a.captured=Te[i]:e&ee.EP_CAPTURE&&(a.captured=h|ue(Le))),a.san=t||Ke(e,n),a}function Mt(){return Me===i["3-check"]?3===je[ue(Le)]:Me===i["King of the Hill"]?Ce(Oe[ue(Le)]):void 0}function xt(){if(Me===i.Bughouse)return fe.siblingGame.inCheckmate()}function Ot(){if(Me===i.Bughouse)return fe.siblingGame.in50MoveRule()||fe.siblingGame.inThreefoldRepetition()}function Lt(){var e=[],t=ot(),n=Ue.length-1,o=Ue[n];return!!o&&(e.parentId=We,e.id=Fe.length,Ue.curFen=t,o.lines||(o.lines=[]),o.lines.push(e.id),o.move?Pt(o):(Ie=o.epSquare,--Ne,Le=ue(Le)),Le===m&&--Be,e.atMoveNode=n,e.hash=n?Ue[n-1].hash:Ue.hash,We=e.id,Fe.push(e),Ue=e,!0)}function Rt(e){var t=ot();Ue.curFen=t,Ue=Fe[e],We=e,et(Ue.curFen,Me,!0,!0)}return fe={WHITE:p,BLACK:m,PAWN:h,KNIGHT:g,BISHOP:v,ROOK:y,QUEEN:b,KING:A,FLAGS:ee,load:et,reset:Je,moves:function(e){var t,n,o,r=[],i=Ke;for(e&&(e.verbose&&(i=Tt),e.type&&(n=e.type|e.type<<24),o=e.noDrop),ft(n,o),t=0;t<l;++t)r.push(i(u[t]));return r},inCheck:gt,inCheckmate:yt,inStalemate:bt,isBughouseWin:xt,in50MoveRule:function(){return Ne>=100},inDraw:function(){return Ne>=100||bt()||At()||wt()||Boolean(Ot())},insufficientMaterial:At,inThreefoldRepetition:wt,isVariantWin:Mt,gameOver:function(){return fe.inDraw()||yt()||Boolean(Mt())||Boolean(xt())},isPositionValid:function(e){var t,n,o,r=0;if(e=e||{},!1!==e.pawns){t=0;while(t<=119){if(o=Te[t],o&h)return!1;8===++t&&(t=112)}}if(!1!==e.kings){for(t=0;t<=119;++t)if(136&t&&(t+=8),o=Te[t],o&A){if(++r>2)return!1;if(n&&n&o)return!1;n=o&w}if(2!==r)return!1}return!1===e.check||!1===e.kings&&Oe[ue(Le)]===f||!ht(ue(Le))},validateFen:ge,fen:ot,pgn:function(e){return e=e||{},e.useResultHeader||We||(Mt()||yt()?Ve.Result=Le===m?"1-0":"0-1":fe.inStalemate()?Ve.Result="1/2-1/2":xt()&&(Ve.Result=fe.siblingGame.turn()===p?"1-0":"0-1")),Se(e,Ve,Fe,De,Me,fe)},loadPgn:function(e,t,n){var o,r,i,a,s,u,c,l,d={},f=0;if("number"!==typeof t&&(n=n||t,t=0),n=n||{},"string"===typeof e&&(n.singleGame&&(e=e.replace(/(?:\r?\n\s*){2,}/g,"\n")),e=fe.tokenizePgn(e,n)),n.recordErrorInfo&&(l=function(e,o){var r={reason:e,token:o,lineStart:i._lineStart,colStart:i._colStart,lineEnd:i._lineEnd,colEnd:i._colEnd,pgnIndex:t};return n.errors||(n.errors=[]),n.errors.push(r),!1}),t<0&&(t=e.length+t),a=e[t],!a)return!1;for(Je(),r=a.length,o=0;o<r;++o){if(i=a[o],"tagName"!==i.type)break;if(!a[o+1]||"tagValue"!==a[o+1].type)return!1;++o,"FEN"===i.value?c=de(a[o].value):d[i.value]=a[o].value}if(n.variant&&(d.Variant=n.variant),d.Variant&&!c&&(c=B),c||"1"===d.SetUp)if("0"===d.SetUp)d.FEN=c;else if(!c||!et(c,d.Variant))return!1;for(fe.header(d),s=fe,u=s._history();o<r;++o)if(i=a[o],"san"===i.type&&0===f){if(!s.move(i.value)&&("Z0"!==i.value&&"<>"!==i.value||n.rejectNullMoves||!s.move("--")))if(l&&l("Invalid SAN move",i.value),n.commentErrors)u.length?u[u.length-1].comment=((u[u.length-1].comment||"")+" "+i.value).trim():u.initComment=((u.initComment||"")+" "+i.value).trim();else{if(!n.skipBadLines||!(0!==We||Ue.length&&n.allowBadMainLine))return Je(),!1;f=1}}else if("result"===i.type&&"*"===Ve.Result)rt(["Result",i.value]);else if("a"===i.type&&0===f&&u[u.length-1])u[u.length-1].annotation=i.value;else if("nag"!==i.type&&"aa"!==i.type||0!==f||!u[u.length-1])if("comment"===i.type&&0===f)u.length?(i.value&&(u[u.length-1].comment=i.value),i.commands&&(u[u.length-1].commands=i.commands,i.commands.clk?u[u.length-1].time=pe(i.commands.clk):i.commands.emt&&(i.commands.timestamp=String(pe(i.commands.emt))))):(u.initComment=String(i.value),i.commands&&(u.commands=i.commands));else if("variationStart"===i.type){if(f>0)++f;else if(!Lt())return Je(),!!l&&l("Invalid variation start","(");u=s._history()}else if("variationEnd"===i.type)f>0&&--f,0===f&&(Rt(u.parentId),u=s._history());else if("number"===i.type){if(s=/b/i.test(i.value.slice(-1))?fe.siblingGame:fe,!s)return!!l&&l("Invalid Bughouse move number",i.value);u=s._history()}else"cont"===i.type&&We&&!u.length&&s.move(s._lines()[u.parentId][u.atMoveNode].san);else u[u.length-1].additionalAnnotation||(u[u.length-1].additionalAnnotation=[]),-1===u[u.length-1].additionalAnnotation.indexOf(i.value)&&u[u.length-1].additionalAnnotation.push(i.value);return!0},header:function(e){return Array.isArray(e)?rt(e):"object"===typeof e?(Object.keys(e).forEach((function(t){rt([t,e[t]])})),Ve):Ve},turn:function(e){return e!==p&&e!==m||(Le=e),Le},move:function e(t){var n,o,r,i,a,c,d,f,m,g,v,y,b;if("string"===typeof t){switch(i=t.length-1,t[i]){case"+":case"#":t=t.substr(0,i)}for(m=N.indexOf(t[0])>6?F[t[0]]:"O"===t[0]?A:h,qe&&(-1===t.indexOf("@")?g=!0:(g=!1,m<<=24)),ft(m,g),i=0;i<l;++i)if(c=Ke(u[i],!0),t===c){o=u[i];break}if(!o){if("--"===t)return Et();if(t=fe.fixMove(t))try{return e(t)}catch(w){}return null}d=o>>O&I,f=o>>L&I,r=o>>R}else{if(t.drop){switch(t.drop){case"p":r=0;break;case"n":r=1;break;case"b":r=2;break;case"r":r=3;break;case"q":r=4;break;default:return null}m=1<<26+r}else{if(t.promotion)switch(t.promotion){case"q":r=4;break;case"n":r=1;break;case"r":r=3;break;case"b":r=2;break;default:return null}d=s[t.from],g=!0,m=Te[d]&_}for(f=s[t.to],n=((r?r<<R:0)|f<<L)>>O|d,ft(m,g),i=0;i<l;++i)if(u[i]>>O===n){o=u[i];break}if(!o)return(t=fe.fixMove(t))?e(t):null}return b=o&ee.DROP_OR_PROMOTE?X[r]+Le:Te[d],a=Tt(o,c,!0),v=pt(b,d,f,o),Ge(o,d,f,r),v&&(Me&&Mt()||0===ft()?a.san+="#":a.san+="+"),y=Ue[Ue.length-1],y.san=a.san,a.piece&S&&(y.promoted=!0),Le===p&&++Be,a},undo:function(e){var t=Ue.pop();return t?(Le===p&&--Be,t.move?(Pt(t),!!e||Tt(t.move,t.san)):(Ie=t.epSquare,--Ne,Le=ue(Le),!!e||{san:"--",color:t.color})):null},clear:function(e){Xe(e)},put:function(e,t,n){var o,r=s[t],i=!1,a=Te[r],u=a&w,c=e.color;if(isNaN(r)||!e.type||!c||-1===N.indexOf(e.type))return!1;if(Te[r]=F[e.type]|c|(e.promoted?S:0),Te[r]&A&&(Oe[c]=r),a&&Te[Oe[u]]&&Te[Oe[u]]!==(A|u)){for(o=0;o<120;++o)136&o&&(o+=8),Te[o]===(A|u)&&(Oe[u]=o,i=!0);i||(Oe[u]=f)}return n||et(ot(),Me,!1,!1),!0},get:at,remove:function(e,t){var n,o=Te[s[e]],r=at(e),i=o&w;if(Te[s[e]]=0,o&A)for(Oe[i]=f,Re[i]=0,n=0;n<120;++n)if(136&n&&(n+=8),Te[n]===(A|i)){Oe[o.color]=n;break}return t||et(ot(),Me,!0,!1),r},history:function(e,t){for(var n,o=[],r=Ue,i=r.length;;){if(-1===--i){if(r.id&&!t){i=r.atMoveNode,r=Fe[r.parentId];continue}break}e?(n=Tt(r[i].move,r[i].san),n.color=r[i].color,!i&&r.initComment&&(n.firstComment=r.initComment),void 0!==r[i].comment&&(n.comment=r[i].comment),void 0!==r[i].time&&(n.time=r[i].time),void 0!==r[i].annotation&&(n.annotation=r[i].annotation),void 0!==r[i].additionalAnnotation&&(n.additionalAnnotation=r[i].additionalAnnotation),void 0!==r[i].commands&&(n.commands=r[i].commands),void 0!==r[i].captured&&(n.captured=r[i].captured),void 0!==r[i].promoted&&(n.promoted=r[i].promoted),void 0!==r[i].lines&&(n.lines=r[i].lines),void 0!==r[i].bughouseOrder&&(n.bughouseOrder=r[i].bughouseOrder),N.indexOf(r[i].san[0])>6?n.piece=F[r[i].san[0]]:"O"===r[i].san[0]?n.piece=A:n.piece=h,n.piece|=n.color,o.unshift(n)):o.unshift(r[i].san)}return o},hashes:function(){for(var e=[],t=Ue,n=t.length;;){if(-1===--n){if(t.id){n=t.atMoveNode,t=Fe[t.parentId];continue}t.hash||ze(),e.unshift(t.hash);break}e.unshift(t[n].hash)}return e},moveCount:function(){return Ue.length},startingMoveNumber:function(){return De},completeFen:de,createVariation:Lt,selectLine:Rt,hash:function(){var e=ze();return Me!==i.Bughouse||fe.isDependent?e:[e,fe.siblingGame.hash()]},hashing:function(e){xe=e,Me!==i.Bughouse||fe.isDependent||fe.siblingGame.hashing(xe)},hand:function(){if(qe)return ve(fe._hand[p],!0)+ve(fe._hand[m])},checks:function(){if(Me===i["3-check"])return[je[p],je[m]]},threats:function(){var e,t,r,i,a,s,d,p=Le,m=ue(p),h=[],g=[],v=[],y=[],b=[],A=Ie;if(ut(0,Oe[p]),n||o)for(e=0;e<120;++e)136&e&&(e+=8),Te[e+8]&T&&Te[e]?v.push(se(e)):Te[e+8]&M&&h.push(se(e));for(Le=m,Ie=f,ft(),e=l;e--;){if(t=u[e],a=t>>L&I,s=t>>O&I,t&ee.DROP_OR_PROMOTE){if(d=t>>R,i=X[d]|m,t&ee.PROMOTION&&d%3!==1)continue}else i=Te[s],d=0;if(pt(i,s,a,t)&&(Ge(t,s,a,d),c=e,(Me&&Mt()||ft()===e)&&g.push((t&ee.DROP?W[i].toLowerCase()+"@":se(s))+se(a)),Pt(Ue.pop()),t&ee.CAPTURE)){for(r=0,e=l;e>c;)if((u[--e]>>L&I)===a){r=1,e=c;break}if(!r){y.push(se(s)+se(a));continue}}t&ee.CAPTURE&&1!==d&&(r=124&Te[a])&&(mt(p,a)?(i=Te[s]&_,r>i&&r-i!==8&&b.push(se(s)+se(a))):y.push(se(s)+se(a)))}return c=0,Le=p,Ie=A,{pins:h,checkers:v,mates:g,undefended:y,underdefended:b}},tokenizePgn:Pe,fixMove:function(e){var t,n,o;if("string"===typeof e){if(/0|[?!+#]$|[18][QNRB]$|^P/i.test(e))return e.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/i,"$1=$2").replace(/^P+/i,"");if(n=e.indexOf("=")>0?-4:-2,t=s[e.substr(n,2)],"number"===typeof t){if(Te[t]&ue(Le)||/^[a-h]x?[a-h][36]$/.test(e)){if(-1===e.indexOf("x"))return e.slice(0,n)+"x"+e.substr(n)}else if(e.indexOf("x")>-1)return e.replace(/x/g,"");if(o=e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])x?([a-h][1-8])=?(.?)$/)){if(Te[s[o[2]]])return{from:o[2],to:o[3],promotion:o[4].toLowerCase()};if(/^\d$/.test(o[2])){for(e=0,ft(F[o[1]],!0),n=0;n<l;++n)if(u[n]>>L===t&&ie(u[n]>>O&I)===8-o[2]){if(e)return;e=u[n]}if(e)return Ke(e,!0)}return o[1]+o[3]+o[4]}}}else if(Te[s[e.from]]===(A|Le)&&e.to&&e.from[1]===e.to[1]){if(e.from<e.to)return"O-O";if(e.from>e.to)return"O-O-O"}},_hand:[],_history:function(e){return e&&(Ue=e,We=Ue.id),Ue},_lines:function(){return Fe},_hashPosition:Ze,_board:function(){return Te}},re&&et(re,le)||Je(),fe}return ke.variants=a,ke}(),o=function(e){var n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",o=["bench","d","eval","flip","isready","ponderhit","stop","uci","ucinewgame"],r=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],i=["moves","searchmoves"],a=["ponder","infinite","startpos"],s={depth:1,seldepth:1,time:1,nodes:1,multipv:1,cp:1,mate:1,currmovenumber:1,hashfull:1,nps:1,tbhits:1,sbhits:1,cpuload:1,bmc:1,score:2,lowerbound:2,upperbound:2,bestmove:3,ponder:3,baseTurn:3,bestmoveSan:3,ponderSan:3,pv:4,pvSan:4,string:4,refutation:4,currline:4},u=/(?:Total|Final) Evaluation[\s\S]+\n$/i;function c(e){var t,n=[],o=[],r={},i={isFakeWorker:!0},a=e.replace(/^[^#]*#/,"");function s(e,n){var o=document.createElement("script");o.setAttribute("src",e),o.onload=function(){o.remove(),n(o._exports)},o.onerror=function(e){t=!0,o.remove(),r.onerror(e)},document.head.appendChild(o)}function u(e){setTimeout(e,1)}function c(e,n){var o;t||(e.onmessage?(o=n.concat(),n.length=0,o.forEach((function(t){try{e.onmessage({data:t})}catch(n){console.error(n)}}))):setTimeout(c,5,e,n))}return s(e,(function(n){var o=e.replace(/[?#].*/,""),s=o.replace(/\/[^\/]+$/,"/"),u={locateFile:function(e){return e.indexOf(".wasm")>-1&&a?a:e.indexOf(".worker.js")>-1?o+"#"+a+",worker":s+e}};n(u).then((function(){function e(){u=null,t=!0}n=null,window.addEventListener("beforeunload",e,{once:!0}),i.onmessage=function(n){var o=n.data;(u.onSpecialMessage||u.onCustomMessage)(o),"quit"===o&&(u=null,t=!0,window.removeEventListener("beforeunload",e))},u.addMessageListener(i.postMessage)})).catch((function(e){n=null,t=!0,r.onerror(e)}))})),r.postMessage=function(e){n.push(e),u((function(){c(i,n)}))},i.postMessage=function(e){o.push(e),u((function(){c(r,o)}))},r.terminate=function(){},r}function l(e,t){var n=t.concat();t.length=0,n.forEach((function(t){t.cmd?"go"!==t.cmd.substr(0,2)&&e.send(t.cmd,t.cb,t.stream):(clearTimeout(t.timer),e.getBestMove(t.args,t.cb,t.stream))}))}function d(e,t,n){var o=e&&e.loader?e.loader+(e.engine?"#"+e.engine:""):"stockfish.js",r=t.useFakeWorker&&t.useFakeWorker[o.replace(/[?#].*$/,"")],i=r?c(o):new Worker(o),a={terminate:u,postMessage:s};function s(e){i.postMessage(e)}function u(){i.terminate()}return i.onmessage=function(e){"string"===typeof e.data&&a.onmessage(e.data)},i.onerror=function(e){var o,r=!0;if(n.availableEngines.shift(),n.availableEngines.length){r=!1;try{e.preventDefault()}catch(s){}try{i.terminate()}catch(s){}o=d(n.availableEngines[0],t,n),o._origWorker=a._origWorker||a,o.onmessage=function(e){o._origWorker.onmessage(e)},o._origWorker.postMessage=o.postMessage,o._origWorker.terminate=o.terminate,l(n,n._activeCommands()),l(n,n._bestMoveQueue())}if(t.onError)return t.onError(e,r)},a}function f(t){var n=[];return t.engines&&(t.engines.multiThreaded&&e.supportsMultithreading()&&e.supportsSIMD()&&n.push(t.engines.multiThreaded),t.engines.multiThreadedNoSIMD&&e.supportsMultithreading()&&n.push(t.engines.multiThreadedNoSIMD),t.engines.singleThreaded&&n.push(t.engines.singleThreaded),t.engines.asm&&n.push({loader:t.engines.asm})),(t.enginePath||t.pathToEngineWorker)&&n.push({loader:t.enginePath||t.pathToEngineWorker,engine:t.pathToWasmEngine}),(t.fallbackPath||t.pathToNonWasmEngine)&&n.push({loader:t.fallbackPath||t.pathToNonWasmEngine}),n}function p(e,t){return t.availableEngines=f(e),d(t.availableEngines[0],e,t)}function m(e){for(var t,n,o=e.split(" "),r=o.length,i="info"===o[0]?1:0,a={mtype:o[0]};i<r;++i)if(n=o[i],n)if(t=s[n],1===t){while(!o[++i]&&i<r);a[n]=Number(o[i])}else if(2===t)a[n]=!0;else if(3===t){while(!o[++i]&&i<r);a[n]=o[i]}else for(a[n]=[],++i;i<r;++i){if(s[o[i]]){--i;break}o[i]&&a[n].push(o[i])}if("string"===typeof a.bestmove)switch(a.bestmove){case"(none)":case"0000":case"a1a1":a.bestmove=void 0,a.bestmoveSan=void 0}if("string"===typeof a.ponder)switch(a.ponder){case"(none)":case"0000":case"a1a1":a.ponder=void 0,a.ponderSan=void 0}return a}function h(e){var t=e.indexOf(" ");return-1===t?e:e.substr(0,t)}function g(e){return(e+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,(function(e,t,n,o){return" "+(3-n)+"+"+(3-o)+t}))}function v(e){return(e+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,(function(e,t,n,o){return o+" +"+(3-t)+"+"+(3-n)}))}function y(e,t){var n,o,r,i,a=h(e);for(n="uciok"===a||"option"===a?"uci":"readyok"===a||"ready"===a?"isready":"json"===a||e.indexOf("info string CEEError")>=0?"fetch":"bestmove"===a||"info"===a?"go":"other",i=t.length,r=0;r<i;r+=1)if(o=h(t[r].cmd),o===n||"other"===n&&("d"===o||"eval"===o))return r;return 0}function b(e){var t=e.match(/id name ((\S+)(?: ([\S]+).*)?)/i);if(t&&t[1])return{all:t[1].trim(),short:t[2],version:t[3],full:(t[2]+" "+(t[3]||"")).trim(),wasm:/ wasm/i.test(e),multithreaded:/ multithreaded/i.test(e)}}function A(s,c){var l,d,f,_={},C=[],E=[],S=null,P={},k={};function T(t){var n,o,r,i,a=0;if(t.indexOf("\n")>-1)for(r=t.split("\n"),i=0;i<r.length;i+=1)T(r[i]);else if(e.log&&console.log("debug (onmessage): "+t),_.stream&&_.stream(t),C.length&&0!==t.indexOf("No such option")&&0!==t.indexOf("Stockfish")&&0!==t.indexOf("Komodo")&&0!==t.indexOf("Explanation Engine")&&0!==t.indexOf("info string variant")){if(a=y(t,C),o=C[a],o.stream&&!o.discard&&o.stream(t),"undefined"===typeof o.message?o.message="":""!==o.message&&(o.message+="\n"),o.message+=t,0===t.indexOf("uciok"))_.name=b(o.message),n=!0;else if(0===t.indexOf("ready"))n=!0;else if(0!==t.indexOf("bestmove")&&"bestmove"!==h(t)||"bench"===o.cmd)if("d"===o.cmd)0!==t.indexOf("Legal uci moves")&&0!==t.indexOf("Key is")||(o.done=!0,n=!0);else if(0===o.cmd.indexOf("fetch"))try{var c=o.message.split("\n").filter((function(e){return e.startsWith("json")})).join("\n");c&&(o.message=JSON.parse(c.replace(/^json /gm,"").replace(/\n/g,"")),n=!0)}catch(d){}else"eval"===o.cmd?u.test(o.message)&&(n=!0):(0===t.indexOf("pawn key")||0===t.indexOf("Nodes/second")||0===t.indexOf("Unknown command"))&&(n=!0);else n=!0,o.message=t;n&&(C.splice(a,1),o.cb&&!o.discard?o.cb(o.message):o.ondiscard&&o.ondiscard())}else if(s.ceeMode&&0===t.indexOf("Explanation Engine")){var l=t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\s*\(C\)/);l?S={date:l[1],increment:l[2]}:(l=t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\.([0-9]+)/),S={major:parseInt(l[1]),minor:parseInt(l[2]),patch:parseInt(l[3])})}}function M(e){return"ucinewgame"!==e&&"flip"!==e&&"stop"!==e&&"ponderhit"!==e&&0!==e.indexOf("position")&&0!==e.indexOf("setoption")&&0!==e.indexOf("variation")&&0!==e.indexOf("threat-variation")&&0!==e.indexOf("push")&&0!==e.indexOf("pop")&&0!==e.indexOf("serve")&&0!==e.indexOf("speech")}function x(t,n){var o=t.loader,r=P[o]=P[o]||[],i=k[o]=k[o]||[];return t.maxEngines&&(n%=t.maxEngines),r[n]&&"undefined"!==typeof r[n].ready||(r[n]=e({enginePath:o,pathToWasmEngine:t.engine,ceeMode:!0})),clearTimeout(i[n]),i[n]=setTimeout((function(){try{r[n].quit()}catch(e){}r[n]=null}),t.killDelay||1e4),r[n]}function O(n,o,r,i,a,s){var u,c=[],l=[],d=o.minDepth||14,f=[],p=[];function m(a,s,c){var l={cp:s[a].cp,mateIn:s[a].mateIn,pv:s[a].pv.slice(1)},d=x(o,a),h={moveLan:s[a].pv[0]},g=o.book||_.rawBook;function v(e){f[a]=!1,!u&&_.ready&&(e.mtype="classification",e.depth=c,e.multipv=a+1,n(e),p[a]&&m(a,p[a].evals,p[a].depth))}f[a]?p[a]={evals:s,depth:c}:(g&&(h.isBook=Boolean(g[t.to64BitHex(e.createGame({fen:r,moves:h.moveLan,variant:i}).hash())])),f[a]=!0,p[a]=null,d.fetch({action:"analysis",variant:i,startFen:r,moves:[h],evals:[s,[l]],options:{WhiteElo:o.whiteElo,BlackElo:o.blackElo,ScoreWhiteToMove:!0}},(function(e){v(e.positions[1])}),(function(e){e.err=!0,v(e),d.quit()})))}return function(e){var t;"bestmove"===e.mtype?u=!0:e.depth>=d&&(t=e.multipv-1,"info"===e.mtype&&e.pv&&e.multipv>0&&(e.pv.length>1||1===e.mate)&&l[t]!==e.depth&&(c[t]=e,l[t]=e.depth,t<=1&&l[0]===l[1]?(m(0,c,e.depth),s||m(1,c,e.depth)):(a||l[0]===l[1])&&m(t,c,e.depth))),(!s||!e.multipv||1===e.multipv&&n)&&n(e)}}function L(){var t,o,r,i,a,s=1,u=[],c=[],l=null,f=E[0].args,p=E[0].cb,h=E[0].stream,g=1,y=[],b=14,w=A._previousCP;function C(e){var t=[],n=c[e]||x(u[e]);return u[e].forEach((function(e,o){t.push({moveSan:n[o],moveLan:e})})),t}function S(e,t,n,o){var r;for(r=u.length-1;r>=0;r-=1)if(u[r][0]===e)return C(r);return n?[{moveSan:t,moveLan:e},{moveSan:o,moveLan:n}]:t?[{moveSan:t,moveLan:e}]:[]}function P(e){var t=.03*Math.pow(32,e.depth/b);e.cp=w+(e.cp-w)*t}function k(e){0===e.mate?(e.mateIn=0,e.cp=-31800*g):(e.mateIn=Number(e.mate*g)||null,"number"!==typeof e.mateIn||isNaN(e.mateIn)||"number"===typeof e.cp?(e.cp*=g,9===Math.abs(e.cp)&&(e.cp=0),f.normalize&&e.depth<=b&&"number"===typeof w&&1===e.multipv&&P(e)):e.cp=31800*g*(e.mate/Math.abs(e.mate))),e.score=e.cp/100}function T(e){var n=m(e);if(M(n),s>b&&t<5e3&&t>-5e3&&(A._previousCP=t),n.pv=S(n.moveLan,n.moveSan),1===n.pv.length&&n.ponder&&(n.pv=S(n.moveLan,n.moveSan,n.ponder,n.ponderSan)),y.length>1)y.splice(y.indexOf(n.moveLan),1),f.searchmoves=y,f.getNextBest=0,R(f,(function(){p(n)}),(function(e){h&&(e.multipv=2,h(e))}));else if(p)try{p(n)}catch(o){console.error(o)}E.shift(),clearTimeout(d),E.length>0&&L()}function M(n){var a;n.baseTurn=r,"undefined"===typeof t&&(i.inCheckmate()?I("info depth 0 score mate 0"):i.inStalemate()&&I("info depth 0 score cp 0")),n.cp=t,n.score=t/100,n.mate=o,n.mateIn=l,n.depth=s,n.moveLan=n.bestmove,n.moveLan&&(n.move=e.uciToObj(n.moveLan)[0],a=i.move(n.move),a&&(n.moveSan=n.bestmoveSan=a.san,n.ponder&&(a=i.move(e.uciToObj(n.ponder)[0]),a&&(n.ponderSan=a.san,i.undo(!0))),i.undo(!0)))}function x(t){var n,o,r=t.length,a=[];for(n=0;n<r;++n){if(o=i.move(e.uciToObj(t[n])[0]),!o)break;a.push(o.san)}for(;n>0;--n)i.undo(!0);return a}function I(e){var n=m(e);n.score&&(n.baseTurn=r,k(n),!n.multipv&&n.depth&&(n.multipv=1),1!==n.multipv&&0!==n.depth||(t=n.cp,o=n.mate,l=n.mateIn)),n.pv&&h&&(n.pvSan=x(n.pv)),!n.pv||n.lowerbound||n.upperbound||(u.push(n.pv),h&&c.push(n.pvSan)),n.depth>s?s=n.depth:"bestmove"===n.mtype&&M(n),!h||0===n.mateIn&&n.pv||h(n),N()}function N(){f.timeout&&(clearTimeout(d),E[0].timer=d=setTimeout((function(){_.stop(),p&&(p(),p=void 0)}),f.timeout))}(E[0].started=!0,A._previousCP=null,f.difficulty>=0&&f.difficulty<20?(_.setoption("Skill Level",f.difficulty),f.maximumError>=0&&f.maximumError<=4999&&_.setoption("Skill Level Maximum Error",f.maximumError),f.errorProbability>=1&&f.errorProbability<=128&&_.setoption("Skill Level Probability",f.errorProbability)):_.setoption("Skill Level",20),void 0!==f.contempt?_.setoption("Contempt",f.contempt):_.setoption("Contempt","0"),f.multiPv>1?_.setoption("MultiPV",f.multiPv):_.setoption("MultiPV",1),f.movetime||f.wtime&&f.btime||f.depth||f.infinite||(f.btime=f.btime||72e3,f.wtime=f.wtime||72e3),!f.startpos&&f.fen||f.moves||f.variant?(i=e.createGame({fen:f.fen?v(f.fen):n,moves:f.moves,variant:f.variant,disableHashing:!0}),i.turn()===i.WHITE?r="w":(r="b",g=-1)):(r="w",i=e.createGame({disableHashing:!0})),f.cee&&h)&&((Number(f.multiPv)||1)<2&&(a=!0,_.setoption("MultiPV",2)),h=O(h,f.cee,i.fen(),f.variant,1===i.moves().length,a));_.setVariant(f.variant),_.position(f),_.go(f,T,I),f.getNextBest&&p&&i.moves({verbose:!0}).forEach((function(t){t=e.normalizeMoveObj(t),y.push(t.from+t.to+(t.promotion||""))})),N()}function R(e,t,n){E.push({args:e,cb:t,stream:n}),1===E.length&&_.ready&&L()}function I(){_.uci((function(){s.settings&&Object.keys(s.settings).forEach((function(e){_.setoption(e,s.settings[e])})),_.ready=!0,E.length&&L(),N()}))}function N(){_.ready&&(_.bookLoaded||!_.pathToBook)&&c&&c(_)}return _.send=function(t,n,o){var r;t=String(t).trim(),M(t)?C.push({cmd:t,cb:n,stream:o}):r=!0,l&&(e.log&&console.log("stdin: "+t),l.postMessage(t),r&&n&&setTimeout(n,0))},_._activeCommands=function(){return C},_._bestMoveQueue=function(){return E},_.quit=function(){if(l&&l.terminate){try{_.send("quit")}catch(e){}try{l.terminate()}catch(e){}l=null,_.ready=void 0}clearTimeout(d)},o.forEach((function(e){_[e]=function(t,n){_.send(e,t,n)}})),r.forEach((function(e){_[e.cmd]=function(t,n,o){var r=[e.cmd];f&&t.fen&&(t.fen=g(t.fen)),e.args.forEach((function(e){if(t[e]||0===t[e]){if(i.indexOf(e)>-1){if(!t[e]||!t[e].length)return;Array.isArray(t[e])&&(t[e]=t[e].join(" "))}r.push(e),-1===a.indexOf(e)&&r.push(t[e])}})),_.send(r.join(" "),n,o)}})),_.setoption=function(e,t){_.send("setoption name "+e+" value "+t)},_.setVariant=function(e){var t;e!==f&&(t=String(e).toLowerCase().replace(/ |-/g,""),e&&"chess"!==t?"chess960"===t?(_.setoption("UCI_Variant","chess"),_.setoption("UCI_Chess960","true")):("threecheck"===t&&(t="3check"),_.setoption("UCI_Variant",t),_.setoption("UCI_Chess960","false")):(t=void 0,_.setoption("UCI_Variant","chess"),_.setoption("UCI_Chess960","false")),f=t)},_.loadBook=function(e,n){_.pathToBook=e,t.loadBook(e,(function(e,t){e?(console.error("Error loading opening book."),console.error(e),_.pathToBook=null,_.bookLoaded=!1):(_.book=t,_.rawBook=t.json,_.bookLoaded=!0),n()}))},_.getBookMove=function(t){var n=e.createGame(t),o=_.book.pick({fen:n.fen(),type:"undefined"!==typeof t.bookPick?t.bookPick:"random",chess960:"Chess960"===n.header().Variant}),r=o&&n.move(o);if(r)return{moveSan:r.san,moveLan:o,move:{from:r.from,to:r.to,promotion:r.promotion||null},baseTurn:1===n.turn()?"b":"w",pv:[{moveSan:r.san,moveLan:o}],depth:null,score:null,mateIn:null,isBookMove:!0}},_.getBestMove=function(e,t,n){var o;if(e=e||{},e.fen=e.fen||e.baseFen,e.is960&&(e.variant="Chess960"),_.bookLoaded&&e.useBook&&(o=_.getBookMove(e),o))return setTimeout((function(){o.mtype="bestmove",t(o)}),0);R(e,t,n)},_.stopAll=function(t){var n,o=C.length,r=0;function i(){r-=1,0===r&&t()}for(E=[],n=0;n<o;n+=1)e.log&&console.log("debug (stop_moves): "+n,h(C[n].cmd)),"go"!==h(C[n].cmd)||C[n].discard||(_.stop(),C[n].discard=!0,t&&_.ready&&(r+=1,C[n].ondiscard=i));_.ready?t&&!r&&_.isready(t):setTimeout(t,0)},_.restartEngine=function(e){return _.stopAll(),_.quit(),C=[],E=[],_.bookLoaded&&!s.book&&(s=JSON.parse(JSON.stringify(s)),s.book=_.book),A(s,e)},_.stopFast=function(e,t){var n,o,r=_;if(_._isStopping)return _._stopQueue.push(e);o=function(e){_._stopQueue.forEach((function(t){t(e)})),_._stopQueue=null,_._isStopping=!1},_._isStopping=!0,_._stopQueue=[e],_.stopAll((function(){clearTimeout(n),o(_)})),n=setTimeout((function(){r.restartEngine(o)}),Math.max(+t||5e3,50))},"undefined"!==typeof Worker&&(s.ceeMode&&(w(_,s),_.ceeVersion=function(){return JSON.parse(JSON.stringify(S))}),l=p(s,_),l.onmessage=T,s.book&&(_.book=s.book,_.bookLoaded=!0,_.pathToBook=s.pathToBook),_.getFenFromMoves=e.getFenFromMoves,_.getLegalMoves=e.getLegalMoves,_.getPositionInfo=e.getPositionInfo,_.isFenValid=e.isFenValid,_.ready=!1,I(),!_.book&&s.pathToBook&&_.loadBook(s.pathToBook,N),_)}function w(t,n){var o,r,i=1e3,a=0;function s(e){function t(e){var n=t.callbacks;for(var o in t.callbacks={},t.original&&t.original(e),n)n[o](e)}return t.callbacks={},t.original=e,t}function u(n,s,u,c){var l,d=Date.now(),f=!1,p=++a;function m(){clearTimeout(l),delete o.callbacks[p],delete r.callbacks[p],f=!0}function h(e){f||(m(),c({data:e,action:s,uci:n},n))}function g(t){h({msg:"CEE process crashed unexpectedly",code:e.ERROR_CODES.CRASH,exitCode:t,err:new Error("CEE process exited with "+t)})}o.callbacks[p]=g,r.callbacks[p]=g,l=setTimeout((function(){h({msg:"CEE timed out",code:e.ERROR_CODES.TIMEOUT,timeout:i,duration:Date.now()-d,err:new Error("CEE timed out")})}),i);for(var v=0;v<n.length;++v)t.send(n[v]);t.send("fetch "+s,(function(e){f||(m(),u(e,n))}),(function(n){n.indexOf("info string CEEError")>=0?h({msg:"CEE crashed with error code",code:e.ERROR_CODES.ERROR,log:n.match(/info string CEEError\s*(.*)/)[1],err:new Error(n.match(/info string CEEError\s*(.*)/)[1])}):t.ceeDebug&&n.indexOf("not recognized")>=0&&h({msg:"CEE received unknown UCI option (engine.ceeDebug mode on)",option:n,code:e.ERROR_CODES.NONFATAL_ERROR,err:new Error(n)})}))}n.onError=o=s(n.onError),n.onSignal=r=s(n.onSignal),t.fetch=function(t,n,o){var r,i;t=t||[],r=t.action||"analysis",Array.isArray(t)?i=t:(i=t.uciCommands?t.uciCommands.map((function(e){return e})):[],t.startFen&&(t.options=t.options||{},"undefined"===typeof t.options.ScoreWhiteToMove&&(t.options.ScoreWhiteToMove=!0),"undefined"===typeof t.options.SerializeLikeCEAC&&(t.options.SerializeLikeCEAC=!0),e.CEE_LIB.addOptions(i,t.options),e.CEE_LIB.addVariant(i,t.variant),e.CEE_LIB.addPosition(i,t.startFen)),e.CEE_LIB.addVariations(i,t.evals&&t.evals[0]),e.CEE_LIB.addVariations(i,t.threats&&t.threats[0],"threat-variation"),(t.moves||[]).forEach((function(n,o){var r=o+1;e.CEE_LIB.addPush(i,n),e.CEE_LIB.addClock(i,t.clocks&&t.clocks[o]),e.CEE_LIB.addVariations(i,t.evals&&t.evals[r]),e.CEE_LIB.addVariations(i,t.threats&&t.threats[r],"threat-variation")}))),u(i,r,n,o)},t.fetch.setTimeout=function(e){i=e},e.ERROR_CODES={TIMEOUT:1,CRASH:2,ERROR:3,NONFATAL_ERROR:4}}return A},r=function(){var e,r=n(),i="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",a=252,s=255,u={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},c="pnbrq",l=512,d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",f="qnrbkp";function p(e){var t,n,o,r,i=e.length,a=[];for(t=0;t<i;t+=2)r={},n=d.indexOf(e[t]),o=d.indexOf(e[t+1]),o>63&&(r.promotion=f[Math.floor((o-64)/3)],o=n+(n<16?-8:8)+(o-1)%3-1),n>75?r.drop=f[n-79]:r.from=d[n%8]+(Math.floor(n/8)+1),r.to=d[o%8]+(Math.floor(o/8)+1),a.push(r);return a}function m(e){var t,n,o,r,i="";for(Array.isArray(e)||(e=[e]),n=e.length,t=0;t<n;t+=1)o=e[t].drop?79+f.indexOf(e[t].drop):d.indexOf(e[t].from[0])+8*(e[t].from[1]-1),r=d.indexOf(e[t].to[0])+8*(e[t].to[1]-1),e[t].promotion&&(r=3*f.indexOf(e[t].promotion)+64+(r<o?9+r-o:r-o-7)),i+=d[o]+d[r];return i}function h(e){var t,n,o=e.split(" "),r=o.length,i=[];if(e)for(t=0;t<r;++t)n=o[t],4===n.length?"@"===n[1]?i.push({drop:n[0].toLowerCase(),to:n.substr(2,2)}):i.push({from:n.substr(0,2),to:n.substr(2,2)}):i.push({from:n.substr(0,2),to:n.substr(2,2),promotion:n[4]});return i}function g(e,t){return e.san===t.san||e.to===t.to&&(e.from===t.from||!e.from&&!t.from)&&(e.promotion===t.promotion||!e.promotion&&!t.promotion)&&(e.drop===t.drop||!e.drop&&!t.drop)}function v(e,t,o){var r,i,a,s,u,c,l,d,f,p,m=[],h=1,g=8,v=1,y=8,b={verbose:!0};for(p=e.turn(),f=3-p,s=n("/",t),s.turn(f),o&&(h=g=+o[1],v=y=o.charCodeAt(0)-96),r=h;r<=g;++r)for(i=v;i<=y;++i)u=String.fromCharCode(i+96)+r,a=e.get(u),a&&a.color===f&&(s.put(a,u,!0),"p"===a.type?(c=String.fromCharCode(i-1+96)+(r+(1===f?1:-1)),l=String.fromCharCode(i+1+96)+(r+(1===f?1:-1)),s.put({type:"n",color:p},c,!0),s.put({type:"n",color:p},l,!0)):"k"===a.type&&(d=e.fen().split(" ")[2],"-"!==d&&s.load(s.fen().replace(/^(\S+\s\S\s)(\S+)/,"$1"+d),t,!0,!0)),m=m.concat(s.moves(b)),s.remove(u,!0),"p"===a.type&&(s.remove(c,!0),s.remove(l,!0)));return t&&e.hand()&&(s._hand[f]=18721,m=m.concat(s.moves({verbose:!0}).filter((function(e){return!o||e.to===o})))),m.forEach((function(e){M(e)})),m}function y(e,t){var n,o,i,a,s,u=e.header().Variant,c=v(e,u,t.from),l=3-e.turn();for(n=c.length-1;n>=0;--n)if(o=c[n],g(o,t)){i=!0;break}return i?(o.drop?e.put({type:o.drop,color:l},o.to):(a=e.remove(o.from,!0),o.flags===r.FLAGS.KSIDE_CASTLE?(s=e.remove("Chess960"===u?o.to:"h"+o.from[1],!0),e.put(a,"g"+o.from[1],!0),e.put(s,"f"+o.from[1])):o.flags===r.FLAGS.QSIDE_CASTLE?(s=e.remove("Chess960"===u?o.to:"a"+o.from[1],!0),e.put(a,"c"+o.from[1],!0),e.put(s,"d"+o.from[1])):(o.promotion&&(a.type=o.promotion,a.promoted=!0),s=e.get(o.to),e.put(a,o.to,"k"!==a.type&&"r"!==a.type&&(!s||s.color!==l||"r"!==s.type)))),o):t.from&&(e.turn(l),t=e.fixMove(t),e.turn(3-l),t)?y(e,{san:t,from:t.from}):void 0}function b(e,t){var n,o,r,i=t?{}:[],s=e._board();if(t)for(n=112;n>=0;++n)136&n&&(n-=24),(o=s[n])&&(r=d[7&n]+(8-(n>>4)),i[r]={type:u[o&a],color:3&o,promoted:0!==(o&l),square:r});else for(n=112;n>=0;++n)136&n&&(n-=24),(o=s[n])&&i.push({type:u[o&a],color:3&o,promoted:0!==(o&l),rank:8-(n>>4),file:1+(7&n)});return i}function A(e,t){var n=Math.min(Math.max(.20773843*Math.atan(2.49085889*e/100-2.47841945*t/100)+.02262979*e/100-.02256839*t/100+.52239679,0),1),o=Math.min(Math.max(-.20720905*Math.atan(2.49626837*e/100-2.48220286*t/100)+-.02352551*e/100+.02172627*t/100+.49443923,0),1),r=Math.min(Math.max(Math.exp(.037043456*e/100+.178106427*t/100-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(e/100-t/100,2))+-.001625539,0),1),i=n+o+r;return{w:n/i,b:o/i,d:r/i}}function w(e,t){var n,o,r,i;if(e=e||{},e.disableHashing=!0,n=P(e),!n)return null;if(t){if(r=n.move(t),!r)return null;n.extended||M(r)}return i=n.fen(),e.skipValidation||n.isPositionValid(e)?(o=i.split(" "),{fen:i,pieces:b(n),sideToMove:n.turn(),castling:o[2],epSquare:"-"===o[3]?null:o[3],halfMoves:+o[4],moveNumber:+o[5],move:r,hand:n.hand(),checks:n.checks()}):null}function _(e){var n,o,r,a,s,u,c,l,d,f=P(e),p=[""],m=[];if(!f)return!1;for(l=f.header(),d=l.Variant||"",u=f.hashes(),n="function"===typeof f.origHistory?f.origHistory(!0):f.history(!0),s=u.length,o=[u[0][0],u[0][1]],m.push(t.to64BitHex(o)+d),u[0]=t.to64BitHex(u[0]),r=1;r<s;++r)o[0]=(o[0]^u[r][0]*(r+58465))>>>0,o[1]=(o[1]^u[r][1]*(r+984))>>>0,u[r]=t.to64BitHex(u[r]),m.push(t.to64BitHex(o)+d),a=r-1,M(n[a]),c=(n[a].from?n[a].from:n[a].drop.toUpperCase()+"@")+n[a].to+(n[a].promotion||""),a&&(c=p[a]+" "+c),p.push(c);return{startingFen:l.FEN||i,hashes:u,fingerprints:m,moves:p,variant:l.Variant}}function C(e,t,n,o){var r,i,a,s,u,c,l,d,f,p,m;for(n=n||{},"string"===typeof t&&(t=t.trim().split(" ")),a=t.length,r=0;r<a;r+=1){if(u="b"===t[r].board||"B"===t[r].board?e.siblingGame:e,c="string"===typeof t[r].moveLan?h(t[r].moveLan)[0]:"string"===typeof t[r]?h(t[r])[0]:t[r].san?t[r].san:t[r],!u.move(c))if(!n.rejectNullMoves&&/^(?:--|00|Z0|<>)+$/.test(c.to||t[r]))u.move("--");else{if(!n.autoPromote){if(n.skipBadLines)break;return!1}if(!0===n.autoPromote?c.promotion="q":c.promotion=n.autoPromote,!u.move(c)){if(n.skipBadLines)break;return!1}}if(l=u._history(),d=l[l.length-1],o&&(f=parseInt(o[r],10)),("number"!==typeof f||isNaN(f))&&(f=parseInt(t[r].time,10)),"number"!==typeof f||isNaN(f)||(d.time=f,f=void 0),t[r].firstComment&&(l.initComment=t[r].firstComment),t[r].comment&&(d.comment=t[r].comment),t[r].annotation&&(d.annotation=t[r].annotation),t[r].additionalAnnotation&&(d.additionalAnnotation=t[r].additionalAnnotation),t[r].commands&&(d.commands=t[r].commands),t[r].lines)for(s=t[r].lines.length,i=0;i<s;++i){if(p=e._history().id,e.createVariation(),m=C(e,t[r].lines[i],n),!m&&!n.skipBadLines)return!1;e.selectLine(p)}}return!0}function E(e,t,n){var o,r,i,a=[p(t[0]),p(t[1])],s=[0,0],u=[0,0],c=a[0].length+a[1].length,l=Math.max(0|n[0][0],0|n[0][1],0|n[1][0],0|n[1][1]),d=[0,0],f=[0,0];l+=600-l%600,o=[[l,l],[l,l]];while(c--){if(f[0]=d[0]+o[0][u[0]]-n[0][s[0]]||0,f[1]=d[1]+o[1][u[1]]-n[1][s[1]]||0,r=f[0]<=f[1]?0:1,a[r][s[r]]||(r^=1),i=r?e.siblingGame:e,(!i.move(a[r][s[r]])||c&&i.inCheckmate()&&i.undo(!0))&&(r^=1,i=r?e.siblingGame:e,!i.move(a[r][s[r]])))return!1;i._history()[s[r]].time=n[r][s[r]],o[r][u[r]]=n[r][s[r]],d[r]=f[r],u[r]^=1,++s[r]}return!0}function S(e){var t,o,a=-1,s=0;function u(e,t,n){var o,r=e[t];while("number"===typeof(o=r.parentId)){if(o===n)return r.atMoveNode;r=e[o]}return!1}function c(e,t){var n={moveTime:e.moveTime,firstComment:e.firstComment,comment:e.comment,annotation:e.annotation,additionalAnnotation:e.additionalAnnotation,commands:e.commands};Object.keys(n).forEach((function(o){e[o]=t[o],t[o]=n[o]}))}e.extended||(e.extended=!0,t={header:e.header,load:e.load,loadPgn:e.loadPgn,createVariation:e.createVariation,undo:e.undo,pgn:e.pgn},e._move=e.move,e.undo=function(){return e.siblingGame?e.deleteBughouseMove(e.curBughouseMove()):e.deletePosition(a,s)},e.getMove=function(n){return n&&("string"===typeof n||n.to&&(n.from||n.drop))&&e._move(n)&&M(t.undo())||null},e.premove=function(){var t,o=[];return{queue:o,move:function(r){var i;return t=t||n(e.fen(),e.header().Variant),i=y(t,r),!i||s||a!==e._history().length-1?(o.length||(t=void 0),null):(o.push(i),i)},consume:function(){var r,i,a,s=o.shift();if(s){if(r=e.move(s),r){if(t=void 0,i=o.length,i)for(t=n(e.fen(),e.header().Variant),a=0;a<i;++a)y(t,o[a]);return r}e.premove.cancel()}},moves:function(n){return!s&&a===e._history().length-1&&v(t||e,e.header().Variant,n)},getPieces:function(n){return b(t||e,n)},fen:function(){return(t||e).fen()},cancel:function(){o.length=0,t=void 0}}}(),e.getPieces=function(t){return b(e,t)},e.material=function(){var t,n,o,r=e.getPieces(),i={imbalance:0,white:{p:8,n:2,b:2,r:2,q:1,count:0},black:{p:8,n:2,b:2,r:2,q:1,count:0}},a={p:1,n:3,b:3,r:5,q:9,k:0};for(t=r.length-1;t>=0;--t)1===r[t].color?(n=i.white,o=i.black):(n=i.black,o=i.white),o[r[t].type]&&--o[r[t].type],n.count+=a[r[t].type];return i.imbalance=i.white.count-i.black.count,i},e.origHistory=e.history,e.history=function(t,n){var o,r,i,a=[],s=e._history(),u=s.length,c=e._lines();for("boolean"===typeof t&&(t={verbose:t}),t=t||{},n&&(t.noParentLines=n),t.toCurrent&&(u=e.ids().move+1);;){if(-1===--u){if(s.id&&!t.noParentLines){u=s.atMoveNode,s=c[s.parentId];continue}break}if(t.verbose){for(r in o={},s[u])if(s[u][r]&&"object"===typeof s[u][r])for(i in o[r]=s[u][r].constructor===Array?[]:{},s[u][r])o[r][i]=s[u][r][i];else o[r]=s[u][r];a.unshift(o)}else a.unshift(s[u].san)}return a},e._getPos=function(n,o,r){var u,c,l;return"number"!==typeof n&&(n=a),"number"!==typeof o&&(o=s),c=e._lines(),u=c[o],n>=0?u[n]:r?u:u.id?u.atMoveNode?c[u.parentId][u.atMoveNode-1]:e._getPos(u.atMoveNode-1,u.parentId):(l={fen:t.header().FEN||i,hash:u.hash,initial:!0,ids:{move:-1,line:0},moveNumber:-1},e.siblingGame&&(l.bughouseOrder=-1),l)},e.move=function(t,n){var o,r,i,u,c=e._history();if(t&&("string"===typeof t||t.to&&(t.from||t.drop))){if(s===c.id&&a<c.length-1||n){if(e.moveForward(n,t))return!0;a<c.length-1&&(e.selectPosition(a+1),e.createVariation(),c=e._history())}e.siblingGame&&(i=e.isDependent?e.siblingGame.fen():e.fen()),o=e._move(t),o&&(M(o),s=c.id,a=c.length-1,r=c[a],u=e._getPos(a-1),e.siblingGame?(r.fen=e.isDependent?e.siblingGame.fen():e.fen(),r.beforeFen=i,r.siblingIds=e.siblingGame.ids()):(r.fen=e.fen(),r.beforeFen=u.fen),r.moveNumber=u.moveNumber+1,r.previous=u.ids,s&&0===a&&e._lines()[c.parentId][c.atMoveNode].move===r.move&&(r.isContinuation=!0),r.flags=o.flags,r.to=o.to,r.from=o.from,r.drop=o.drop,r.capturedStr=o.captured,r.promotion=o.promotion,r.piece=o.piece,o.promoted&&(r.promoted=!0),o.capturedPromotedPawn&&(r.capturedPromotedPawn=!0),r.ids={move:a,line:s})}return o},e.moveDetails=function(t){return t=t||e._history()[a],t&&(t.lines=t.lines||null,t.flags===r.FLAGS.KSIDE_CASTLE?(t.rookFrom="Chess960"===e.header().Variant?t.to:"h"+t.to[1],t.rookTo="f"+t.to[1],t.kingTo="g"+t.to[1]):t.flags===r.FLAGS.QSIDE_CASTLE?(t.rookFrom="Chess960"===e.header().Variant?t.to:"a"+t.to[1],t.rookTo="d"+t.to[1],t.kingTo="c"+t.to[1]):t.flags===r.FLAGS.EP_CAPTURE&&(t.epCapture=t.to[0]+t.from[1])),t},e.header=e.headers=function(n){var o=t.header(n);return e.siblingGame&&S(e.siblingGame),o},e.load=function(n,o,r,i){var u=t.load(n,o,r,i);return e.siblingGame&&S(e.siblingGame),u&&!r&&(a=-1,s=0),u},e.removeEmptyLines=function(){var t,n,o=e._lines();for(t=o.length-1;t>0;--t)o[t].length||(o[t]=void 0,n=!0);n&&e.reorderLines()},e.loadPgn=function(n,o,r){var i=t.loadPgn(n,o,r),u=e._history();return e.removeEmptyLines(),a=u.length-1,s=u.id,s&&e.selectLine(0),i},e.ids=function(){return{move:a,line:s}},e.selectLine=function(t){e.selectPosition(null,t)},e.curBughouseMove=function(){return Math.max(e._getPos().bughouseOrder,e.siblingGame._getPos().bughouseOrder)},e.deleteBughouseMove=function(t){var n,o,r,i=e.curBughouseMove(),a=!1,s=e;if(t>=0)for(i>=t&&e.selectBughouseMove(t-1);;){for(n=s._history(),o=n.length,r=0;r<o;++r)if(n[r].bughouseOrder>=t){n.length=r,a=!0;break}if(s===e.siblingGame)break;s=e.siblingGame}return a},e.selectBughouseMove=function(t){var n,o,r=e.isDependent?e.siblingGame:e,i=r;if(-1===t)return i.selectPosition(-1,0,!0),i.siblingGame.selectPosition(-1,0,!0),r.load(r.header().FEN,"Bughouse",!0,!0);for(;;){for(n=i._history(),o=n.length-1;o>=0;--o)if(n[o].bughouseOrder===t)return i.selectPosition(n[o].ids.move,0,!0),i.siblingGame.selectPosition(n[o].siblingIds.move,0,!0),r.load(n[o].fen,"Bughouse",!0,!0);if(i===r.siblingGame)return!1;i=r.siblingGame}},e.moveBackward=function(t){var n,o,r;if(e.siblingGame)return e.selectBughouseMove(e.curBughouseMove()-1);if(-1===a&&0===s)return!1;if(a>1||0===s)e.selectPosition(a-1);else{n=e._getPos(),o=e._getPos(n.previous.move,n.previous.line);while(o.isContinuation&&!t)r=e._lines()[o.ids.line],o=e._getPos(r.atMoveNode,r.parentId);e.selectPosition(o.ids.move,o.ids.line)}return!0},e.moveForward=function(t,n){var o,r,i,u,c,l,d=e._lines();if(e.siblingGame)return e.selectBughouseMove(e.curBughouseMove()+1);if(o=d[s][a+1],"string"===typeof n&&(n={san:n}),!o||n&&!g(n,o)){if(n&&o&&o.lines)for(c=o.lines.length,u=0;u<c;++u)if(i=d[o.lines[u]][0],i&&g(n,i)){o=i,l=!0;break}if(!l&&t&&(r=d[s][a],r&&r.lines))for(c=r.lines.length,u=0;u<c;++u)if(i=d[r.lines[u]][0],i&&i.isContinuation&&(i=d[r.lines[u]][1],i&&(!n||g(n,i)))){o=i,l=!0;break}if(!l){try{if(n&&n.san&&(n=e.fixMove(n.san))||n&&n.to&&n.from&&Math.abs(n.to.charCodeAt(0)-n.from.charCodeAt(0))>1&&(n=e.fixMove(n)))return e.moveForward(t,n)}catch(f){}return!1}}return e.selectPosition(o.ids.move,o.ids.line)},e.moveVariation=function(t,n){var o,r,i,a=e._lines(),s=a[t];if(s&&s.id)for(o=a[s.parentId][s.atMoveNode].lines,r=o.length-1;r>=0;--r)if(o[r]===t&&(i=r-(n?1:-1),o[i]))return o[r]=o[i],o[i]=t,e.reorderLines(),!0;return!1},e.promoteVariation=function(t,n){var o,r,i,u,c,l,d=e._lines(),f=d[t];while(f&&f[0]&&f.id&&(-1!==n||f.parentId)){for(i=f.parentId,o=d[i],u=f.atMoveNode,f[0].lines=o[u].lines.concat(f[0].lines||[]),o[u].lines=void 0,l=o.length-u,r=o.splice(u,l),c=0;c<l;++c)r[c].ids.line=t,r[c].ids.move=c;for(r.id=t,r.parentId=i,r.atMoveNode=u,r.hash=f.hash,0===u?(r.initComment=o.initComment,o.initComment=f.initComment):f.initComment&&(o[u-1].comment=((o[u-1].comment||"")+" "+f.initComment).trim()),d[t]=r,l=f.length,c=0;c<l;++c)f[c].ids.line=i,f[c].ids.move=c+u,o.push(f[c]);for(r[0].isContinuation=!!f[0].isContinuation,o[u].isContinuation=!u&&"number"===typeof o.parentId&&d[o.parentId][o.atMoveNode].move===o[0].move,l=o[u].lines.length,c=0;c<l;++c)d[o[u].lines[c]].atMoveNode=u,d[o[u].lines[c]][0]&&(d[o[u].lines[c]][0].isContinuation=d[o[u].lines[c]][0].move===o[u].move);if(s===t?(s=i,a+=u):s===i&&a>=u&&(s=t,a-=u),1===n)break;t=i,f=d[t]}return void 0!==o&&(e._history(d[s]),e.reorderLines(),!a&&d[s][0].isContinuation&&e.selectPosition(d[s].atMoveNode,d[s].parentId),!0)},e.reorderLines=function(t,n){var r,i,a,u,c,l,d,f,p,m,h=e._lines(),g=!1;for(t?p=n.length-1:(t=0,n=[h[0]],p=0,o=!1),r=h[t],a=r.length,i=0;i<a;++i)if(u=r[i],u.ids.line!==p&&(g=!0,u.ids.line=p),u.lines)for(c=u.lines.length,l=0;l<c;++l)d=u.lines[l],f=h[d],f?(f.atMoveNode=i,m=n.length,u.lines[l]=m,f.parentId=p,o||d!==s||(o=!0,s=m),n.push(f),g=e.reorderLines(d,n)||g):(1===u.lines.length?delete u.lines:u.lines.splice(l,1),--l,--c);return t||e.saveLines(n,!0),g},e.createVariation=function(){var n,o,r,i=e._history(),u=e._lines();return a===i.length-1?(n=t.createVariation(),i=e._history(),a=i.length-1,s=i.id,n):-1!==a&&(o=[],r=i[a],o.parentId=i.id,o.id=u.length,r.lines||(r.lines=[]),r.lines.push(o.id),o.hash=e._getPos(a-1).hash,o.atMoveNode=a,u.push(o),e.selectPosition(-1,o.id))},e.selectLineEnd=function(t){return e.siblingGame?e.selectBughouseMove(e._history().length+e.siblingGame._history().length-1):("number"!==typeof t&&(t=s),(t!==s||a<e._history().length-1)&&e.selectPosition(null,t,!0))},e.selectLineStart=function(){var t,n;return e.siblingGame?e.selectBughouseMove(-1):s?(a>1||1===a&&!e._getPos(0).isContinuation?t=e._history():(n=e._getPos(-1),t=e._lines()[n.ids.line]),e.selectPosition(t.id?t[1]&&t[0].isContinuation?1:0:-1,t.id)):-1!==a&&e.selectPosition(-1,0)},e.selectPosition=function(n,o,r){var i=e._lines(),u=e._history();if("number"===typeof o&&(o!==s||r)){if(o<0||o>=i.length)return!1;if(u=i[o],"number"!==typeof n)n=u.length-1;else if(n<-1||n>=u.length)return!1;s=o,e._history(u),r=!0}if("number"===typeof n&&(n!==a||r)){if(n<-1||n>=u.length)return!1;t.load(e._getPos(n).fen,t.header().Variant,!0,!0),a=n}return!0},e.resetToMainLine=function(){var t=e._lines();e.selectLineEnd(0),t.length>1&&(t.length=1,e.reorderLines())},e.updateNode=function(t,n,o){var r,i,u=e._lines();for(i in o="number"===typeof o?o:s,n="number"===typeof n?n:a,r=u[o][n]||u[o],t)r[i]=t[i]},e.updateLineComment=function(t,n){e.updateNode({initComment:t},-1,n)},e.saveLines=function(t,n){var o,r,i,a=e._lines(),s=t.length;for(t!==a&&(a.length=0),r=0;r<s;++r){if(o=t[r],r&&"number"!==typeof o.parentId)return!1;t!==a&&a.push(o),o.id=r}return e._history(e._history()),n||(i=e.ids(),e.selectPosition(-1,0,!0),e.selectPosition(i.move,i.line)),!0},e.deletePosition=function(t,n){var o,r,i=e._lines();return!(!i[n]||!(i[n][t]||-1===t&&0!==n))&&(n&&(0===t||1===t&&i[n][0].isContinuation)&&(t=-1),s>0&&n!==s?(o=u(i,s,n),r=!1!==o&&o>=t):r=n===s&&t<=a,r&&(t>1?e.selectPosition(t-1,n):(e.selectPosition((i[n][0].isContinuation||1===t)&&i[n][1]?1:0,n),e.moveBackward())),t>0?i[n].length=t:n?i[n]=null:i[0].length=0,e.reorderLines(),e.ids())},e.mark=function(t,n,o,r){var i=e._getPos(o,r,!0),a=t.type,s=1;t.color&&("arrow"===a?e.mark({key:t.color+t.key,type:"cal"},n,o,r):"square"===a&&e.mark({key:t.color+t.key,type:"csl"},n,o,r)),"cal"!==a&&"csl"!==a&&(a="c_"+a,s=0),i.commands&&i.commands[a]&&(i.commands[a]=i.commands[a].split(",").filter((function(e){return e.slice(s).split(";")[0]!==t.key.slice(s)})).join(","),i.commands[a]||delete i.commands[a]),n||(i.commands||(i.commands={}),i.commands[a]=(i.commands[a]?i.commands[a]+",":"")+t.key+(t.data?";"+t.data.join(";"):""))},e.markings=function(t,n){var o,r,i,a,s,u,c,l,d={},f=e._getPos(t,n,!0),p={cal:"arrow",csl:"square"};for(r in f.commands){if(i=f.commands[r],p[r])r=p[r],a=0;else{if("c_"!==r.substr(0,2))continue;r=r.slice(2),a=1}for(d[r]=d[r]||{},s=i.split(","),u=s.length,o=0;o<u;++o)a?(c=s[o].split(";"),l=c.shift(),d[r][l]=d[r][l]||{type:r,key:l},d[r][l].data=c):(l=s[o].slice(1),d[r][l]=d[r][l]||{type:r,key:l},d[r][l].color=s[o][0])}return d},e.clearMarkings=function(t,n){var o,r=e._getPos(t,n,!0);for(o in r.commands)/^c[sa]l$|^c_/.test(o)&&delete r.commands[o]},e.pgn=function(n){var o,r=e.ids();return e.selectLineEnd(0),o=t.pgn(n),e.selectPosition(r.move,r.line),o},e.loadMoves=function(t,n){var o,r,i,u,l;if(n=n||{},"string"===typeof t&&(t=p(t)),t){for(n.atCurrent||e.selectPosition(-1,0),i=s,r=t.length,o=0;o<r;++o){if(u=e.move(t[o],!0),!u&&(t[o].promotion=!0===n.autoPromote?"q":n.autoPromote,u=e.move(t[o],!0),!u))return!1;s!==i&&"merge"!==n.method&&(e.promoteVariation(s,1),"promote"!==n.method&&(e._history()[a].lines=void 0,e.reorderLines()),i=s)}if("promote"===n.method){if(r){for(e._history()[a+1]&&(u=e._history()[a],e.createVariation(),e.move(u),c(e._history()[0],u),e.promoteVariation(s,1)),l=e._lines(),o=l.length-1;o>=0;--o)1===l[o].length&&l[o][0].isContinuation&&(c(l[o][0],l[l[o].parentId][l[o].atMoveNode]),l[o].length=0);e.removeEmptyLines()}}else"merge"!==n.method&&e.deletePosition(a+1,s)}return!0})}function P(e){var t,o;if(e=e||{},e.game)return e.game;if(t=n(),e.analysis&&S(t),e.disableHashing&&t.hashing(!1),e.pgn){if(!t.loadPgn(e.pgn,e.index,e.options)&&("detect"!==e.variant||!n.variants.some((function(n){return e.options=e.options||{},e.options.variant=n,t.loadPgn(e.pgn,e.index,e.options)}))))return!1}else{if(e.headers&&(e.variant=e.headers.Variant||e.variant,e.fen||(e.fen=e.headers.FEN)),"detect"===e.variant&&e.fen&&(e.fen.indexOf("|")>-1?e.variant="Bughouse":9===e.fen.split("/").length?e.variant="Crazyhouse":e.fen.indexOf("+")>-1?e.variant="3-check":e.variant=void 0),(e.fen||e.variant)&&!t.load(e.fen||i,e.variant))return!1;e.headers&&"object"===typeof e.headers&&!Array.isArray(e.headers)&&t.header(e.headers)}if(e.tcn)if("object"===typeof e.tcn){if(!E(t,e.tcn,e.timestamps||[[],[]]))return!1}else o=p(e.tcn);else o=e.moves;return!(o&&!C(t,o,e,e.timestamps))&&t}function k(e){var t;return e=e||{},e.disableHashing=!0,t=P(e),!!t&&t.pgn(e)}function T(e,t){var n,o,i=[];if(r.reset(),!r.loadPgn(e))return!1;if(n=r.moveCount(),"number"===typeof t){for(t<0&&(t=n+t+1),o=n-1;o>=t&&o>=0;o-=1)r.undo();return r.fen()}for(o=0;o<=n;o+=1)i.unshift(r.fen()),r.undo();return i}function M(e){return e&&(e.piece&l&&(e.promoted=!0),e.piece=u[e.piece&a],e.captured&&(e.captured&l&&(e.capturedPromotedPawn=!0),e.captured=u[e.captured&s]),e.promotion&&(e.promotion=u[e.promotion&a]),void 0!==e.drop&&(e.drop=c[e.drop])),e}function x(e){var t,n,o,r,i,a,s,u=e.history(!0,!0);if(e.siblingGame){for(t=e.siblingGame.history(!0,!0),o=u.length+t.length,n=[],r=0;r<o;++r)!u.length||t.length&&t[0].bughouseOrder<u[0].bughouseOrder?(i=t.shift(),i.board="b"):(i=u.shift(),i.board="a"),n.push(i);u=n}for(o=u.length,r=0;r<o;++r)if(a=u[r],a.fen||M(a),a.lines)for(s=a.lines.length-1;s>=0;--s)e.selectLine(a.lines[s]),a.lines[s]=x(e).moves;return{moves:u}}function O(e,t,n){var o,i=[],a=r;return"number"!==typeof t&&(n=t,t=void 0),o=a.tokenizePgn(e,n),t<0&&(t=o.length+t),!!o&&(n&&n.includeFen&&(a=P({analysis:!0})),o.forEach((function(e,o){void 0===t||o===t?a.loadPgn([e],0,n)?i.push({headers:a.header(),moves:x(a).moves}):i.push(!1):i.push(void 0)})),"number"===typeof t?i[t]:i)}function L(e,t,n){return r.reset(),!!r.load(t,n)&&M(r.move(e))}function R(e,t){return r.completeFen(e).split(" ").slice(0,t||4).join(" ")}function I(e,t,n,o){return r.reset(),r.load(e,n),!(t&&!C(r,t,o))&&r.fen()}function N(e,t){var n,o,i,a;if("string"===typeof e){if(o=r,o.reset(),!o.load(e,t))return null}else o=P(e);for(n=o.moves({verbose:!0}),a=n.length,i=0;i<a;++i)M(n[i]);return n}function B(e,t,n){var o,i,a={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1};if(Array.isArray(t)||(n=t,t=null),"boolean"===typeof n?(o=n,n={}):(n=n||{},o=n.variant),"string"===typeof e){if(i=r,i.reset(),0!==i.validateFen(e,o)||!i.load(e,o))return!1}else i=P(e);return!(t&&!C(i,t,n))&&(n.getLegalMoves&&(a.legalMoves=N({game:i})),i.inCheck()?(a.check=!0,a.checkmate=i.inCheckmate()):a.stalemate=i.inStalemate(),a.threefold=i.inThreefoldRepetition(),a.insufficient=i.insufficientMaterial(n.color),a.fiftyMoveRule=i.in50MoveRule(),a.draw=a.stalemate||a.threefold||a.insufficient||a.fiftyMoveRule||i.inDraw(),n.skipValidation||(a.isValid=i.isPositionValid(n)),o&&(a.variantWin=i.isVariantWin(),void 0===a.variantWin&&(a.variantWin=i.isBughouseWin())),a.gameOver=a.checkmate||a.draw||Boolean(a.variantWin),a)}function D(e,t){return 0===r.validateFen(e,t)}function U(e,n){t.loadBook(e,(function(e,o){if(!o||!o.json)return n(e||new Error("Invalid book"));n(e,(function(e){var n,r,i,a,s,u,c,l,d;if(e.hash)r="string"===typeof e.hash?[t.hex64ToDec(e.hash)]:[e.hash],a=1;else{if(n=P(e),!n)return!1;r=n.hashes(),a=r.length}for(i=0;i<a;++i)if(s=o.json[t.to64BitHex(r[i])],s){if(s.constructor===Array)if(u&&-1===s[0].m.indexOf(u.m)){for(l=s.length-1;l>=0;--l)if(!l||-1!==s[l].m.indexOf(u.m)){d=s[l],d.e=s[0].e,d.s=s[0].s,d.mate=s[0].mate,d.v=s[0].v,d.h=s[0].h,d.n=d.n||s[0].n,d.u=d.u||s[0].u,d.c=d.c||s[0].c;break}}else d=s[0];else d=s;(d.n||e.allowNameless)&&(u=d)}else e.mustEndInBook&&(u=void 0);if(u)return c={name:u.n},u.m&&(c.moves=u.m),void 0!==u.d&&(c.sdiff=u.d/100),u.c&&(c.code=u.c,c.url=u.u||u.n.replace(/[\u00e1-\u00e5]/g,"a").replace(/[\u0107\u010d]/g,"c").replace(/[\u00e9\u00e8\u0117\u0113]/g,"e").replace(/[\u00f3\u00f6\u00f8]/g,"o").replace(/[\u016f\u00fc]/g,"u").replace(/['+,]/g,"").replace(/[^a-z0-9.]+/gi,"-").replace(/(with-\d|St)\.+-?/,"$1-")),u.e?(c.eval=u.e,c.depth=u.h,c.score=u.e[0].cp/100,void 0!==u.e[0].mate&&(c.mate=u.e[0].mate)):(c.score=u.s/100,void 0!==u.mate&&(c.mate=u.mate)),u.v&&(c.bad=!0),c}),o.json)}))}function F(t,n){return e=e||o(F),e(t,n)}return F.supportsMultithreading=function(){var e,t=Boolean(F._hasThreads);if("boolean"!==typeof F._hasThreads){try{e=new Worker("data:application/javascript,"),e.postMessage(new SharedArrayBuffer(1)),t=!0}catch(n){}try{e.terminate()}catch(n){}F._hasThreads=t}return t},F.supportsSIMD=function(){return"boolean"===typeof F._hasSIMD?F._hasSIMD:F._hasSIMD=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))},F.gameFingerprints=_,F.getFenFromMoves=I,F.getLegalMoves=N,F.getPositionInfo=B,F.isFenValid=D,F.encodeTCN=m,F.decodeTCN=p,F.uciToObj=h,F.generatePgn=k,F.pgnToFen=T,F.pgnToJson=O,F.sanToObj=L,F.completeFen=r.completeFen,F.shortenFen=R,F.createGame=P,F.getPositionDetails=w,F.predict=A,F.normalizeMoveObj=M,F.FLAGS=r.FLAGS,F.loadECO=U,F.CEE_LIB=function(){var e={addOptions:function(e,t){for(var n in t)void 0!==t[n]&&e.push("setoption name "+n+" value "+t[n]);return e},addVariations:function(e,t,n){var o,r;t=t||[],n=n||"variation";for(var i=0;i<t.length;++i)o=t[i],r=n+" "+(Array.isArray(o.pv)?o.pv.join(" "):o.pv||""),"number"===typeof o.mateIn?r+=" mate "+o.mateIn:"number"===typeof o.mate?r+=" mate "+o.mate:r+=" cp "+Math.round(o.cp),"number"===typeof o.depth&&(r+=" depth "+o.depth),e.push(r);return e},addPush:function(e,t){var n;return"string"===typeof t&&(t={moveLan:t}),n="push "+t.moveLan,t.isBook&&(n+=" isBook"),t.isRetry&&(n+=" isRetry"),e.push(n),e},addPosition:function(e,t){return e.push("position fen "+t),e},addClock:function(e,t){return t&&e.push("clock "+t),e},addVariant:function(e,t){return"chess960"===String(t).toLowerCase().replace(/ |-/g,"")?(e.push("setoption name UCI_Variant value chess"),e.push("setoption name UCI_Chess960 value "+!0)):(e.push("setoption name UCI_Variant value chess"),e.push("setoption name UCI_Chess960 value "+!1)),e}};return e}(),F}();
/*!
     * Chess.com (c) 2020
     *
     * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
     */e.exports=r})()})(r);var i=r.exports;const a=(0,o.g)(i)},2008:function(e,t,n){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function i(e){var t=r(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{uy:function(){return Ar}});n(4114),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197),n(4979),n(1678);function s(e){if(null===e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function u(e,t,n=".",o){if(!s(t))return u(e,{},n,o);const r=Object.assign({},t);for(const i in e){if("__proto__"===i||"constructor"===i)continue;const t=e[i];null!==t&&void 0!==t&&(o&&o(r,i,t,n)||(Array.isArray(t)&&Array.isArray(r[i])?r[i]=[...t,...r[i]]:s(t)&&s(r[i])?r[i]=u(t,r[i],(n?`${n}.`:"")+i.toString(),o):r[i]=t))}return r}function c(e){return(...t)=>t.reduce(((t,n)=>u(t,n,"",e)),{})}const l=c();c(((e,t,n)=>{if(void 0!==e[t]&&"function"===typeof n)return e[t]=n(e[t]),!0})),c(((e,t,n)=>{if(Array.isArray(e[t])&&"function"===typeof n)return e[t]=n(e[t]),!0}));var d=n(144),f=n(6768);function p(e){return!!(0,d.o5)()&&((0,d.jr)(e),!0)}const m="undefined"!==typeof window&&"undefined"!==typeof document,h=("undefined"!==typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),e=>null!=e),g=Object.prototype.toString,v=e=>"[object Object]"===g.call(e),y=()=>{};function b(e){return Array.isArray(e)?e:[e]}function A(e){const t=Object.create(null);return n=>{const o=t[n];return o||(t[n]=e(n))}}const w=/\B([A-Z])/g,_=(A((e=>e.replace(w,"-$1").toLowerCase())),/-(\w)/g);A((e=>e.replace(_,((e,t)=>t?t.toUpperCase():""))));function C(e){return e||(0,f.nI)()}function E(e,t){const n=C(t);n&&(0,f.hi)(e,t)}function S(e,t,n){return(0,f.wB)(e,t,{...n,immediate:!0})}n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(4603),n(7566),n(8721);const P=m?window:void 0;m&&window.document,m&&window.navigator,m&&window.location;function k(e){var t;const n=(0,d.BA)(e);return null!=(t=null==n?void 0:n.$el)?t:n}function T(...e){const t=[],n=()=>{t.forEach((e=>e())),t.length=0},o=(e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)),r=(0,f.EW)((()=>{const t=b((0,d.BA)(e[0])).filter((e=>null!=e));return t.every((e=>"string"!==typeof e))?t:void 0})),i=S((()=>{var t,n;return[null!=(n=null==(t=r.value)?void 0:t.map((e=>k(e))))?n:[P].filter((e=>null!=e)),b((0,d.BA)(r.value?e[1]:e[0])),b((0,d.R1)(r.value?e[2]:e[1])),(0,d.BA)(r.value?e[3]:e[2])]}),(([e,r,i,a])=>{if(n(),!(null==e?void 0:e.length)||!(null==r?void 0:r.length)||!(null==i?void 0:i.length))return;const s=v(a)?{...a}:a;t.push(...e.flatMap((e=>r.flatMap((t=>i.map((n=>o(e,t,n,s))))))))}),{flush:"post"}),a=()=>{i(),n()};return p(n),a}function M(){const e=(0,d.IJ)(!1),t=(0,f.nI)();return t&&(0,f.sV)((()=>{e.value=!0}),t),e}function x(e){const t=M();return(0,f.EW)((()=>(t.value,Boolean(e()))))}Symbol("vueuse-ssr-width");"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self&&self;function O(e,t,n={}){const{root:o,rootMargin:r="0px",threshold:i=0,window:a=P,immediate:s=!0}=n,u=x((()=>a&&"IntersectionObserver"in a)),c=(0,f.EW)((()=>{const t=(0,d.BA)(e);return b(t).map(k).filter(h)}));let l=y;const m=(0,d.IJ)(s),g=u.value?(0,f.wB)((()=>[c.value,k(o),m.value]),(([e,n])=>{if(l(),!m.value)return;if(!e.length)return;const o=new IntersectionObserver(t,{root:k(n),rootMargin:r,threshold:i});e.forEach((e=>e&&o.observe(e))),l=()=>{o.disconnect(),l=y}}),{immediate:s,flush:"post"}):y,v=()=>{l(),g(),m.value=!1};return p(v),{isSupported:u,isActive:m,pause(){l(),m.value=!1},resume(){m.value=!0},stop:v}}Number.POSITIVE_INFINITY;const L=1/60*1e3,R="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),I="undefined"!==typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(R())),L);function N(e){let t=[],n=[],o=0,r=!1,i=!1;const a=new WeakSet,s={schedule:(e,i=!1,s=!1)=>{const u=s&&r,c=u?t:n;return i&&a.add(e),-1===c.indexOf(e)&&(c.push(e),u&&r&&(o=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:u=>{if(r)i=!0;else{if(r=!0,[t,n]=[n,t],n.length=0,o=t.length,o)for(let n=0;n<o;n++){const o=t[n];o(u),a.has(o)&&(s.schedule(o),e())}r=!1,i&&(i=!1,s.process(u))}}};return s}const B=40;let D=!0,U=!1,F=!1;const W={delta:0,timestamp:0},V=["read","update","preRender","render","postRender"],j=V.reduce(((e,t)=>(e[t]=N((()=>U=!0)),e)),{}),q=V.reduce(((e,t)=>{const n=j[t];return e[t]=(e,t=!1,o=!1)=>(U||Z(),n.schedule(e,t,o)),e}),{}),H=V.reduce(((e,t)=>(e[t]=j[t].cancel,e)),{}),G=(V.reduce(((e,t)=>(e[t]=()=>j[t].process(W),e)),{}),e=>j[e].process(W)),K=e=>{U=!1,W.delta=D?L:Math.max(Math.min(e-W.timestamp,B),1),W.timestamp=e,F=!0,V.forEach(G),F=!1,U&&(D=!1,I(K))},Z=()=>{U=!0,D=!0,F||I(K)},z=()=>W;var $=q;function Q(e,t){return t?e*(1e3/t):0}const Y=e=>t=>1-e(1-t),X=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J=e=>t=>Math.pow(t,e),ee=e=>t=>t*t*((e+1)*t-e),te=e=>{const t=ee(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))},ne=1.525,oe=4/11,re=8/11,ie=.9,ae=e=>e,se=J(2),ue=Y(se),ce=X(se),le=e=>1-Math.sin(Math.acos(e)),de=Y(le),fe=X(de),pe=ee(ne),me=Y(pe),he=X(pe),ge=te(ne),ve=4356/361,ye=35442/1805,be=16061/1805,Ae=e=>{if(1===e||0===e)return e;const t=e*e;return e<oe?7.5625*t:e<re?9.075*t-9.9*e+3.4:e<ie?ve*t-ye*e+be:10.8*e*e-20.52*e+10.72},we=Y(Ae),_e=e=>e<.5?.5*(1-Ae(1-2*e)):.5*Ae(2*e-1)+.5,Ce=(e,t)=>1-3*t+3*e,Ee=(e,t)=>3*t-6*e,Se=e=>3*e,Pe=(e,t,n)=>((Ce(t,n)*e+Ee(t,n))*e+Se(t))*e,ke=(e,t,n)=>3*Ce(t,n)*e*e+2*Ee(t,n)*e+Se(t),Te=1e-7,Me=10;function xe(e,t,n,o,r){let i,a,s=0;do{a=t+(n-t)/2,i=Pe(a,o,r)-e,i>0?n=a:t=a}while(Math.abs(i)>Te&&++s<Me);return a}const Oe=8,Le=.001;function Re(e,t,n,o){for(let r=0;r<Oe;++r){const r=ke(t,n,o);if(0===r)return t;const i=Pe(t,n,o)-e;t-=i/r}return t}const Ie=11,Ne=1/(Ie-1);function Be(e,t,n,o){if(e===t&&n===o)return ae;const r=new Float32Array(Ie);for(let a=0;a<Ie;++a)r[a]=Pe(a*Ne,e,n);function i(t){let o=0,i=1;const a=Ie-1;for(;i!==a&&r[i]<=t;++i)o+=Ne;--i;const s=(t-r[i])/(r[i+1]-r[i]),u=o+s*Ne,c=ke(u,e,n);return c>=Le?Re(t,u,e,n):0===c?u:xe(t,o,o+Ne,e,n)}return e=>0===e||1===e?e:Pe(i(e),t,o)}function De(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}Object.create;Object.create;var Ue=function(){},Fe=function(){};const We=(e,t,n)=>Math.min(Math.max(n,e),t),Ve=.001,je=.01,qe=10,He=.05,Ge=1;function Ke({duration:e=800,bounce:t=.25,velocity:n=0,mass:o=1}){let r,i;Ue(e<=1e3*qe,"Spring duration must be 10 seconds or less");let a=1-t;a=We(He,Ge,a),e=We(je,qe,e/1e3),a<1?(r=t=>{const o=t*a,r=o*e,i=o-n,s=$e(t,a),u=Math.exp(-r);return Ve-i/s*u},i=t=>{const o=t*a,i=o*e,s=i*n+n,u=Math.pow(a,2)*Math.pow(t,2)*e,c=Math.exp(-i),l=$e(Math.pow(t,2),a),d=-r(t)+Ve>0?-1:1;return d*((s-u)*c)/l}):(r=t=>{const o=Math.exp(-t*e),r=(t-n)*e+1;return o*r-Ve},i=t=>{const o=Math.exp(-t*e),r=e*e*(n-t);return o*r});const s=5/e,u=ze(r,i,s);if(e*=1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(u,2)*o;return{stiffness:t,damping:2*a*Math.sqrt(o*t),duration:e}}}const Ze=12;function ze(e,t,n){let o=n;for(let r=1;r<Ze;r++)o-=e(o)/t(o);return o}function $e(e,t){return e*Math.sqrt(1-t*t)}const Qe=["duration","bounce"],Ye=["stiffness","damping","mass"];function Xe(e,t){return t.some((t=>void 0!==e[t]))}function Je(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Xe(e,Ye)&&Xe(e,Qe)){const n=Ke(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function et(e){var{from:t=0,to:n=1,restSpeed:o=2,restDelta:r}=e,i=De(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:u,mass:c,velocity:l,duration:d,isResolvedFromDuration:f}=Je(i),p=tt,m=tt;function h(){const e=l?-l/1e3:0,o=n-t,i=u/(2*Math.sqrt(s*c)),a=Math.sqrt(s/c)/1e3;if(void 0===r&&(r=Math.min(Math.abs(n-t)/100,.4)),i<1){const t=$e(a,i);p=r=>{const s=Math.exp(-i*a*r);return n-s*((e+i*a*o)/t*Math.sin(t*r)+o*Math.cos(t*r))},m=n=>{const r=Math.exp(-i*a*n);return i*a*r*(Math.sin(t*n)*(e+i*a*o)/t+o*Math.cos(t*n))-r*(Math.cos(t*n)*(e+i*a*o)-t*o*Math.sin(t*n))}}else if(1===i)p=t=>n-Math.exp(-a*t)*(o+(e+a*o)*t);else{const t=a*Math.sqrt(i*i-1);p=r=>{const s=Math.exp(-i*a*r),u=Math.min(t*r,300);return n-s*((e+i*a*o)*Math.sinh(u)+t*o*Math.cosh(u))/t}}}return h(),{next:e=>{const t=p(e);if(f)a.done=e>=d;else{const i=1e3*m(e),s=Math.abs(i)<=o,u=Math.abs(n-t)<=r;a.done=s&&u}return a.value=a.done?n:t,a},flipTarget:()=>{l=-l,[t,n]=[n,t],h()}}}et.needsInterpolation=(e,t)=>"string"===typeof e||"string"===typeof t;const tt=e=>0,nt=(e,t,n)=>{const o=t-e;return 0===o?1:(n-e)/o},ot=(e,t,n)=>-n*e+n*t+e,rt=(e,t)=>n=>Math.max(Math.min(n,t),e),it=e=>e%1?Number(e.toFixed(5)):e,at=/(-)?([\d]*\.?[\d])+/g,st=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ut=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ct(e){return"string"===typeof e}const lt={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},dt=Object.assign(Object.assign({},lt),{transform:rt(0,1)}),ft=Object.assign(Object.assign({},lt),{default:1}),pt=(e,t)=>n=>Boolean(ct(n)&&ut.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),mt=(e,t,n)=>o=>{if(!ct(o))return o;const[r,i,a,s]=o.match(at);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},ht=rt(0,255),gt=Object.assign(Object.assign({},lt),{transform:e=>Math.round(ht(e))}),vt={test:pt("rgb","red"),parse:mt("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+gt.transform(e)+", "+gt.transform(t)+", "+gt.transform(n)+", "+it(dt.transform(o))+")"};function yt(e){let t="",n="",o="",r="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),o=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),o=e.substr(3,1),r=e.substr(4,1),t+=t,n+=n,o+=o,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const bt={test:pt("#"),parse:yt,transform:vt.transform},At=e=>({test:t=>ct(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),wt=At("deg"),_t=At("%"),Ct=At("px"),Et=(At("vh"),At("vw"),Object.assign(Object.assign({},_t),{parse:e=>_t.parse(e)/100,transform:e=>_t.transform(100*e)})),St={test:pt("hsl","hue"),parse:mt("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+_t.transform(it(t))+", "+_t.transform(it(n))+", "+it(dt.transform(o))+")"};function Pt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kt({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(t){const o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=Pt(s,o,e+1/3),i=Pt(s,o,e),a=Pt(s,o,e-1/3)}else r=i=a=n;return{red:Math.round(255*r),green:Math.round(255*i),blue:Math.round(255*a),alpha:o}}const Tt=(e,t,n)=>{const o=e*e,r=t*t;return Math.sqrt(Math.max(0,n*(r-o)+o))},Mt=[bt,vt,St],xt=e=>Mt.find((t=>t.test(e))),Ot=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Lt=(e,t)=>{let n=xt(e),o=xt(t);Fe(!!n,Ot(e)),Fe(!!o,Ot(t));let r=n.parse(e),i=o.parse(t);n===St&&(r=kt(r),n=vt),o===St&&(i=kt(i),o=vt);const a=Object.assign({},r);return e=>{for(const t in a)"alpha"!==t&&(a[t]=Tt(r[t],i[t],e));return a.alpha=ot(r.alpha,i.alpha,e),n.transform(a)}},Rt={test:e=>vt.test(e)||bt.test(e)||St.test(e),parse:e=>vt.test(e)?vt.parse(e):St.test(e)?St.parse(e):bt.parse(e),transform:e=>ct(e)?e:e.hasOwnProperty("red")?vt.transform(e):St.transform(e)},It="${c}",Nt="${n}";function Bt(e){var t,n,o,r;return isNaN(e)&&ct(e)&&(null!==(n=null===(t=e.match(at))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(r=null===(o=e.match(st))||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}function Dt(e){"number"===typeof e&&(e=`${e}`);const t=[];let n=0;const o=e.match(st);o&&(n=o.length,e=e.replace(st,It),t.push(...o.map(Rt.parse)));const r=e.match(at);return r&&(e=e.replace(at,Nt),t.push(...r.map(lt.parse))),{values:t,numColors:n,tokenised:e}}function Ut(e){return Dt(e).values}function Ft(e){const{values:t,numColors:n,tokenised:o}=Dt(e),r=t.length;return e=>{let t=o;for(let o=0;o<r;o++)t=t.replace(o<n?It:Nt,o<n?Rt.transform(e[o]):it(e[o]));return t}}const Wt=e=>"number"===typeof e?0:e;function Vt(e){const t=Ut(e),n=Ft(e);return n(t.map(Wt))}const jt={test:Bt,parse:Ut,createTransformer:Ft,getAnimatableNone:Vt},qt=e=>"number"===typeof e,Ht=(e,t)=>n=>t(e(n)),Gt=(...e)=>e.reduce(Ht);function Kt(e,t){return qt(e)?n=>ot(e,t,n):Rt.test(e)?Lt(e,t):Qt(e,t)}const Zt=(e,t)=>{const n=[...e],o=n.length,r=e.map(((e,n)=>Kt(e,t[n])));return e=>{for(let t=0;t<o;t++)n[t]=r[t](e);return n}},zt=(e,t)=>{const n=Object.assign(Object.assign({},e),t),o={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(o[r]=Kt(e[r],t[r]));return e=>{for(const t in o)n[t]=o[t](e);return n}};function $t(e){const t=jt.parse(e),n=t.length;let o=0,r=0,i=0;for(let a=0;a<n;a++)o||"number"===typeof t[a]?o++:void 0!==t[a].hue?i++:r++;return{parsed:t,numNumbers:o,numRGB:r,numHSL:i}}const Qt=(e,t)=>{const n=jt.createTransformer(t),o=$t(e),r=$t(t),i=o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers;return i?Gt(Zt(o.parsed,r.parsed),n):(Ue(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)},Yt=(e,t)=>n=>ot(e,t,n);function Xt(e){return"number"===typeof e?Yt:"string"===typeof e?Rt.test(e)?Lt:Qt:Array.isArray(e)?Zt:"object"===typeof e?zt:void 0}function Jt(e,t,n){const o=[],r=n||Xt(e[0]),i=e.length-1;for(let a=0;a<i;a++){let n=r(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]:t;n=Gt(e,n)}o.push(n)}return o}function en([e,t],[n]){return o=>n(nt(e,t,o))}function tn(e,t){const n=e.length,o=n-1;return r=>{let i=0,a=!1;if(r<=e[0]?a=!0:r>=e[o]&&(i=o-1,a=!0),!a){let t=1;for(;t<n;t++)if(e[t]>r||t===o)break;i=t-1}const s=nt(e[i],e[i+1],r);return t[i](s)}}function nn(e,t,{clamp:n=!0,ease:o,mixer:r}={}){const i=e.length;Fe(i===t.length,"Both input and output ranges must be the same length"),Fe(!o||!Array.isArray(o)||o.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[i-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=Jt(t,o,r),s=2===i?en(e,a):tn(e,a);return n?t=>s(We(e[0],e[i-1],t)):s}function on(e,t){return e.map((()=>t||ce)).splice(0,e.length-1)}function rn(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}function an(e,t){return e.map((e=>e*t))}function sn({from:e=0,to:t=1,ease:n,offset:o,duration:r=300}){const i={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=an(o&&o.length===a.length?o:rn(a),r);function u(){return nn(s,a,{ease:Array.isArray(n)?n:on(a,n)})}let c=u();return{next:e=>(i.value=c(e),i.done=e>=r,i),flipTarget:()=>{a.reverse(),c=u()}}}function un({velocity:e=0,from:t=0,power:n=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:i}){const a={done:!1,value:t};let s=n*e;const u=t+s,c=void 0===i?u:i(u);return c!==u&&(s=c-t),{next:e=>{const t=-s*Math.exp(-e/o);return a.done=!(t>r||t<-r),a.value=a.done?c:c+t,a},flipTarget:()=>{}}}const cn={keyframes:sn,spring:et,decay:un};function ln(e){if(Array.isArray(e.to))return sn;if(cn[e.type])return cn[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?sn:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?et:sn}function dn(e,t,n=0){return e-t-n}function fn(e,t,n=0,o=!0){return o?dn(t+-e,t,n):t-(e-t)+n}function pn(e,t,n,o){return o?e>=t+n:e<=-n}const mn=e=>{const t=({delta:t})=>e(t);return{start:()=>$.update(t,!0),stop:()=>H.update(t)}};function hn(e){var t,n,{from:o,autoplay:r=!0,driver:i=mn,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:c=0,onPlay:l,onStop:d,onComplete:f,onRepeat:p,onUpdate:m}=e,h=De(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let g,v,y,{to:b}=h,A=0,w=h.duration,_=!1,C=!0;const E=ln(h);(null===(n=(t=E).needsInterpolation)||void 0===n?void 0:n.call(t,o,b))&&(y=nn([0,100],[o,b],{clamp:!1}),o=0,b=100);const S=E(Object.assign(Object.assign({},h),{from:o,to:b}));function P(){A++,"reverse"===u?(C=A%2===0,a=fn(a,w,c,C)):(a=dn(a,w,c),"mirror"===u&&S.flipTarget()),_=!1,p&&p()}function k(){g.stop(),f&&f()}function T(e){if(C||(e=-e),a+=e,!_){const e=S.next(Math.max(0,a));v=e.value,y&&(v=y(v)),_=C?e.done:a<=0}null===m||void 0===m||m(v),_&&(0===A&&(null!==w&&void 0!==w||(w=a)),A<s?pn(a,w,c,C)&&P():k())}function M(){null===l||void 0===l||l(),g=i(T),g.start()}return r&&M(),{stop:()=>{null===d||void 0===d||d(),g.stop()}}}function gn({from:e=0,velocity:t=0,min:n,max:o,power:r=.8,timeConstant:i=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:c,driver:l,onUpdate:d,onComplete:f,onStop:p}){let m;function h(e){return void 0!==n&&e<n||void 0!==o&&e>o}function g(e){return void 0===n?o:void 0===o||Math.abs(n-e)<Math.abs(o-e)?n:o}function v(e){null===m||void 0===m||m.stop(),m=hn(Object.assign(Object.assign({},e),{driver:l,onUpdate:t=>{var n;null===d||void 0===d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:f,onStop:p}))}function y(e){v(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:u},e))}if(h(e))y({from:e,velocity:t,to:g(e)});else{let o=r*t+e;"undefined"!==typeof c&&(o=c(o));const a=g(o),s=a===n?-1:1;let l,d;const f=e=>{l=d,d=e,t=Q(e-l,z().delta),(1===s&&e>a||-1===s&&e<a)&&y({from:e,to:a,velocity:t})};v({type:"decay",from:e,velocity:t,timeConstant:i,power:r,restDelta:u,modifyTarget:c,onUpdate:h(o)?f:void 0})}return{stop:()=>null===m||void 0===m?void 0:m.stop()}}const vn=new Set(["brightness","contrast","saturate","opacity"]);function yn(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[o]=n.match(at)||[];if(!o)return e;const r=n.replace(o,"");let i=vn.has(t)?1:0;return o!==n&&(i*=100),t+"("+i+r+")"}const bn=/([a-z-]*)\(.*?\)/g,An=Object.assign(Object.assign({},jt),{getAnimatableNone:e=>{const t=e.match(bn);return t?t.map(yn).join(" "):e}}),wn={};class _n{constructor(){a(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,t,n){if(this.subscriptions.size)for(const o of this.subscriptions)o(e,t,n)}clear(){this.subscriptions.clear()}}function Cn(e){return!Number.isNaN(Number.parseFloat(e))}class En{constructor(e){a(this,"current",void 0),a(this,"prev",void 0),a(this,"timeDelta",0),a(this,"lastUpdated",0),a(this,"updateSubscribers",new _n),a(this,"stopAnimation",void 0),a(this,"canTrackVelocity",!1),a(this,"updateAndNotify",(e=>{this.prev=this.current,this.current=e;const{delta:t,timestamp:n}=z();this.lastUpdated!==n&&(this.timeDelta=t,this.lastUpdated=n),$.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)})),a(this,"scheduleVelocityCheck",(()=>$.postRender(this.velocityCheck))),a(this,"velocityCheck",(({timestamp:e})=>{this.canTrackVelocity||(this.canTrackVelocity=Cn(this.current)),e!==this.lastUpdated&&(this.prev=this.current)})),this.prev=this.current=e,this.canTrackVelocity=Cn(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Q(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{const{stop:n}=e(t);this.stopAnimation=n})).then((()=>this.clearAnimation()))}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function Sn(e){return new En(e)}const{isArray:Pn}=Array;function kn(){const e=(0,d.KR)({}),t=t=>{const n=t=>{e.value[t]&&(e.value[t].stop(),e.value[t].destroy(),delete e.value[t])};t?Pn(t)?t.forEach(n):n(t):Object.keys(e.value).forEach(n)},n=(t,n,o)=>{if(e.value[t])return e.value[t];const r=Sn(n);return r.onChange((e=>o[t]=e)),e.value[t]=r,r};return E(t),{motionValues:e,get:n,stop:t}}function Tn(e){return Array.isArray(e)}function Mn(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function xn(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function On(e){return{type:"spring",stiffness:550,damping:0===e?100:30,restDelta:.01,restSpeed:10}}function Ln(){return{type:"keyframes",ease:"linear",duration:300}}function Rn(e){return{type:"keyframes",duration:800,values:e}}const In={default:On,x:Mn,y:Mn,z:Mn,rotate:Mn,rotateX:Mn,rotateY:Mn,rotateZ:Mn,scaleX:xn,scaleY:xn,scale:xn,backgroundColor:Ln,color:Ln,opacity:Ln};function Nn(e,t){let n;return n=Tn(t)?Rn:In[e]||In.default,{to:t,...n(t)}}const Bn={...lt,transform:Math.round},Dn={color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,size:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,rotate:wt,rotateX:wt,rotateY:wt,rotateZ:wt,scale:ft,scaleX:ft,scaleY:ft,scaleZ:ft,skew:wt,skewX:wt,skewY:wt,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:dt,originX:Et,originY:Et,originZ:Ct,zIndex:Bn,filter:An,WebkitFilter:An,fillOpacity:dt,strokeOpacity:dt,numOctaves:Bn},Un=e=>Dn[e];function Fn(e,t){return t&&"number"===typeof e&&t.transform?t.transform(e):e}function Wn(e,t){let n=Un(e);return n!==An&&(n=jt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vn={linear:ae,easeIn:se,easeInOut:ce,easeOut:ue,circIn:le,circInOut:fe,circOut:de,backIn:pe,backInOut:he,backOut:me,anticipate:ge,bounceIn:we,bounceInOut:_e,bounceOut:Ae};function jn(e){if(Array.isArray(e)){const[t,n,o,r]=e;return Be(t,n,o,r)}return"string"===typeof e?Vn[e]:e}function qn(e){return Array.isArray(e)&&"number"!==typeof e[0]}function Hn(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!jt.test(t)||t.startsWith("url(")))}function Gn(e){return Array.isArray(e.to)&&null===e.to[0]&&(e.to=[...e.to],e.to[0]=e.from),e}function Kn({ease:e,times:t,delay:n,...o}){const r={...o};return t&&(r.offset=t),e&&(r.ease=qn(e)?e.map(jn):jn(e)),n&&(r.elapsed=-n),r}function Zn(e,t,n){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),Gn(t),zn(e)||(e={...e,...Nn(n,t.to)}),{...t,...Kn(e)}}function zn({delay:e,repeat:t,repeatType:n,repeatDelay:o,from:r,...i}){return!!Object.keys(i).length}function $n(e,t){return e[t]||e.default||e}function Qn(e,t,n,o,r){const i=$n(o,e);let a=null===i.from||void 0===i.from?t.get():i.from;const s=Hn(e,n);"none"===a&&s&&"string"===typeof n&&(a=Wn(e,n));const u=Hn(e,a);function c(s){const u={from:a,to:n,velocity:o.velocity?o.velocity:t.getVelocity(),onUpdate:e=>t.set(e)};return"inertia"===i.type||"decay"===i.type?gn({...u,...i}):hn({...Zn(i,u,e),onUpdate:e=>{u.onUpdate(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{r&&r(),s&&s()}})}function l(e){return t.set(n),r&&r(),e&&e(),{stop:()=>{}}}return u&&s&&!1!==i.type?c:l}function Yn(){const{motionValues:e,stop:t,get:n}=kn(),o=(e,t,o,r={},i)=>{const a=o[e],s=n(e,a,o);if(r&&r.immediate)return void s.set(t);const u=Qn(e,s,t,r,i);s.start(u)};return{motionValues:e,stop:t,push:o}}function Xn(e,t={},{motionValues:n,push:o,stop:r}=Yn()){const i=(0,d.R1)(t),a=(0,d.KR)(!1);(0,f.wB)(n,(e=>{a.value=Object.values(e).filter((e=>e.isAnimating())).length>0}),{immediate:!0,deep:!0});const s=e=>{if(!i||!i[e])throw new Error(`The variant ${e} does not exist.`);return i[e]},u=t=>{"string"===typeof t&&(t=s(t));const n=Object.entries(t).map((([n,r])=>{if("transition"!==n)return new Promise((i=>o(n,r,e,t.transition||Nn(n,t[n]),i)))})).filter(Boolean);async function r(){await Promise.all(n),t.transition?.onComplete?.()}return Promise.all([r()])},c=t=>{const n=v(t)?t:s(t);Object.entries(n).forEach((([t,n])=>{"transition"!==t&&o(t,n,e,{immediate:!0})}))},l=async e=>{let t;i&&(i.leave&&(t=i.leave),!i.leave&&i.initial&&(t=i.initial)),t?(await u(t),e()):e()};return{isAnimating:a,apply:u,set:c,leave:l,stop:r}}const Jn="undefined"!==typeof window,eo=()=>Jn&&(null===window.onpointerdown||void 0),to=()=>Jn&&(null===window.ontouchstart||void 0),no=()=>Jn&&(null===window.onmousedown||void 0);function oo({target:e,state:t,variants:n,apply:o}){const r=(0,d.R1)(n),i=(0,d.KR)(!1),a=(0,d.KR)(!1),s=(0,d.KR)(!1),u=(0,f.EW)((()=>{let e=[...Object.keys(t.value||{})];return r?(r.hovered&&(e=[...e,...Object.keys(r.hovered)]),r.tapped&&(e=[...e,...Object.keys(r.tapped)]),r.focused&&(e=[...e,...Object.keys(r.focused)]),e):e})),c=(0,f.EW)((()=>{const e={};Object.assign(e,t.value),i.value&&r.hovered&&Object.assign(e,r.hovered),a.value&&r.tapped&&Object.assign(e,r.tapped),s.value&&r.focused&&Object.assign(e,r.focused);for(const t in e)u.value.includes(t)||delete e[t];return e}));r.hovered&&(T(e,"mouseenter",(()=>i.value=!0)),T(e,"mouseleave",(()=>{i.value=!1,a.value=!1}))),r.tapped&&(no()&&(T(e,"mousedown",(()=>a.value=!0)),T(e,"mouseup",(()=>a.value=!1))),eo()&&(T(e,"pointerdown",(()=>a.value=!0)),T(e,"pointerup",(()=>a.value=!1))),to()&&(T(e,"touchstart",(()=>a.value=!0)),T(e,"touchend",(()=>a.value=!1)))),r.focused&&(T(e,"focus",(()=>s.value=!0)),T(e,"blur",(()=>s.value=!1))),(0,f.wB)([i,a,s],(()=>{o(c.value)}))}function ro({set:e,target:t,variants:n,variant:o}){const r=(0,d.R1)(n);(0,f.wB)((()=>t),(()=>{r&&(r.initial&&(e("initial"),o.value="initial"),r.enter&&(o.value="enter"))}),{immediate:!0,flush:"pre"})}function io({state:e,apply:t}){(0,f.wB)(e,(e=>{e&&t(e)}),{immediate:!0})}function ao({target:e,variants:t,variant:n}){const o=(0,d.R1)(t);o&&(o.visible||o.visibleOnce)&&O(e,(([{isIntersecting:e}])=>{o.visible?n.value=e?"visible":"initial":o.visibleOnce&&(e&&"visibleOnce"!==n.value?n.value="visibleOnce":n.value||(n.value="initial"))}))}function so(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){t.lifeCycleHooks&&ro(e),t.syncVariants&&io(e),t.visibilityHooks&&ao(e),t.eventListeners&&oo(e)}function uo(e={}){const t=(0,d.Kh)({...e}),n=(0,d.KR)({});return(0,f.wB)(t,(()=>{const e={};for(const[n,o]of Object.entries(t)){const t=Un(n),r=Fn(o,t);e[n]=r}n.value=e}),{immediate:!0,deep:!0}),{state:t,style:n}}function co(e,t){(0,f.wB)((()=>k(e)),(e=>{e&&t(e)}),{immediate:!0})}const lo={x:"translateX",y:"translateY",z:"translateZ"};function fo(e={},t=!0){const n=(0,d.Kh)({...e}),o=(0,d.KR)("");return(0,f.wB)(n,(e=>{let n="",r=!1;if(t&&(e.x||e.y||e.z)){const t=[e.x||0,e.y||0,e.z||0].map((e=>Fn(e,Ct))).join(",");n+=`translate3d(${t}) `,r=!0}for(const[o,i]of Object.entries(e)){if(t&&("x"===o||"y"===o||"z"===o))continue;const e=Un(o),r=Fn(i,e);n+=`${lo[o]||o}(${r}) `}t&&!r&&(n+="translateZ(0px) "),o.value=n.trim()}),{immediate:!0,deep:!0}),{state:n,transform:o}}const po=["","X","Y","Z"],mo=["perspective","translate","scale","rotate","skew"],ho=["transformPerspective","x","y","z"];mo.forEach((e=>{po.forEach((t=>{const n=e+t;ho.push(n)}))}));const go=new Set(ho);function vo(e){return go.has(e)}const yo=new Set(["originX","originY","originZ"]);function bo(e){return yo.has(e)}function Ao(e){const t={},n={};return Object.entries(e).forEach((([e,o])=>{vo(e)||bo(e)?t[e]=o:n[e]=o})),{transform:t,style:n}}function wo(e){const{transform:t,style:n}=Ao(e),{transform:o}=fo(t),{style:r}=uo(n);return o.value&&(r.value.transform=o.value),r.value}function _o(e,t){let n,o;const{state:r,style:i}=uo();return co(e,(e=>{o=e;for(const t of Object.keys(Dn))null===e.style[t]||""===e.style[t]||vo(t)||bo(t)||(r[t]=e.style[t]);n&&Object.entries(n).forEach((([t,n])=>e.style[t]=n)),t&&t(r)})),(0,f.wB)(i,(e=>{if(o)for(const t in e)o.style[t]=e[t];else n=e}),{immediate:!0}),{style:r}}function Co(e){const t=e.trim().split(/\) |\)/);if(1===t.length)return{};const n=e=>e.endsWith("px")||e.endsWith("deg")?Number.parseFloat(e):Number.isNaN(Number(e))?Number(e):e;return t.reduce(((e,t)=>{if(!t)return e;const[o,r]=t.split("("),i=r.split(","),a=i.map((e=>n(e.endsWith(")")?e.replace(")",""):e.trim()))),s=1===a.length?a[0]:a;return{...e,[o]:s}}),{})}function Eo(e,t){Object.entries(Co(t)).forEach((([t,n])=>{const o=["x","y","z"];if("translate3d"===t)return 0===n?void o.forEach((t=>e[t]=0)):void n.forEach(((t,n)=>e[o[n]]=t));n=Number.parseFloat(`${n}`),"translateX"!==t?"translateY"!==t?"translateZ"!==t?e[t]=n:e.z=n:e.y=n:e.x=n}))}function So(e,t){let n,o;const{state:r,transform:i}=fo();return co(e,(e=>{o=e,e.style.transform&&Eo(r,e.style.transform),n&&(e.style.transform=n),t&&t(r)})),(0,f.wB)(i,(e=>{o?o.style.transform=e:n=e}),{immediate:!0}),{transform:r}}function Po(e){return Object.entries(e)}function ko(e,t){const n=(0,d.Kh)({}),o=e=>Object.entries(e).forEach((([e,t])=>n[e]=t)),{style:r}=_o(e,o),{transform:i}=So(e,o);return(0,f.wB)(n,(e=>{Po(e).forEach((([e,t])=>{const n=vo(e)?i:r;n[e]&&n[e]===t||(n[e]=t)}))}),{immediate:!0,deep:!0}),co(e,(()=>t&&o(t))),{motionProperties:n,style:r,transform:i}}function To(e={}){const t=(0,d.R1)(e),n=(0,d.KR)(),o=(0,f.EW)((()=>{if(n.value)return t[n.value]}));return{state:o,variant:n}}function Mo(e,t={},n){const{motionProperties:o}=ko(e),{variant:r,state:i}=To(t),a=Xn(o,t),s={target:e,variant:r,variants:t,state:i,motionProperties:o,...a};return so(s,n),s}const xo=["delay","duration"],Oo=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...xo];function Lo(e){return xo.includes(e)}function Ro(e,t){const n=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};if(n){n.variants&&v(n.variants)&&(t.value={...t.value,...n.variants});for(let e of Oo)if(n&&n[e])if(Lo(e)&&"number"===typeof n[e])for(const o of["enter","visible","visibleOnce"]){const r=t.value[o];null!=r&&(r.transition??={},r.transition[e]=n[e])}else if(v(n[e])){const o=n[e];"visible-once"===e&&(e="visibleOnce"),t.value[e]=o}}}function Io(e,t=!1){const n=(n,o,r)=>{const i=o.value&&"string"===typeof o.value?o.value:r.key;i&&wn[i]&&wn[i].stop();const a=t?structuredClone((0,d.ux)(e)||{}):e||{},s=(0,d.KR)(a);"object"===typeof o.value&&(s.value=o.value),Ro(r,s);const u={eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1},c=Mo(n,s,u);n.motionInstance=c,i&&(wn[i]=c)},o=(e,t,n)=>{e.motionInstance&&ao(e.motionInstance)};return{created:n,mounted:o,getSSRProps(t,n){let{initial:o}=t.value||n&&n?.props||{};o=(0,d.R1)(o);const r=l({},e?.initial||{},o||{});if(!r||0===Object.keys(r).length)return;const i=wo(r);return{style:i}}}}const No={initial:{opacity:0},enter:{opacity:1}},Bo={initial:{opacity:0},visible:{opacity:1}},Do={initial:{opacity:0},visibleOnce:{opacity:1}},Uo={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},Fo={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},Wo={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},Vo={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},jo={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},qo={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},Ho={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},Go={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},Ko={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},Zo={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},zo={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},$o={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Qo={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},Yo={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},Xo={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Jo={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},er={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},tr={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},nr={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},or={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},rr={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},ir={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},ar={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},sr={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},ur={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},cr={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},lr={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},dr={__proto__:null,fade:No,fadeVisible:Bo,fadeVisibleOnce:Do,pop:Uo,popVisible:Fo,popVisibleOnce:Wo,rollBottom:Qo,rollLeft:Vo,rollRight:Ho,rollTop:Zo,rollVisibleBottom:Yo,rollVisibleLeft:jo,rollVisibleOnceBottom:Xo,rollVisibleOnceLeft:qo,rollVisibleOnceRight:Ko,rollVisibleOnceTop:$o,rollVisibleRight:Go,rollVisibleTop:zo,slideBottom:ur,slideLeft:Jo,slideRight:nr,slideTop:ir,slideVisibleBottom:cr,slideVisibleLeft:er,slideVisibleOnceBottom:lr,slideVisibleOnceLeft:tr,slideVisibleOnceRight:rr,slideVisibleOnceTop:sr,slideVisibleRight:or,slideVisibleTop:ar};function fr(e){const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,(e=>`-${e}`)).toLowerCase().replace(/\s+/g,"-").replace(o,(e=>n.charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const pr=Symbol(""),mr={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function hr(e){return"[object Object]"===Object.prototype.toString.call(e)}function gr(e){if(Array.isArray(e))return e.map(gr);if(hr(e)){const t={};for(const n in e)t[n]=gr(e[n]);return t}return e}function vr(e){const t=(0,d.Kh)({}),n=(0,f.WQ)(pr,{}),o=(0,f.EW)((()=>null==e.preset?{}:null!=n&&e.preset in n?structuredClone((0,d.ux)(n)[e.preset]):e.preset in dr?structuredClone(dr[e.preset]):{})),r=(0,f.EW)((()=>({initial:e.initial,enter:e.enter,leave:e.leave,visible:e.visible,visibleOnce:e.visibleOnce,hovered:e.hovered,tapped:e.tapped,focused:e.focused})));function i(e,t){for(const n of["delay","duration"]){if(null==t[n])continue;const o=Number.parseInt(t[n]);for(const t of["enter","visible","visibleOnce"]){const r=e[t];null!=r&&(r.transition??={},r.transition[n]=o)}}return e}const a=(0,f.EW)((()=>{const t=l({},r.value,o.value,e.variants||{});return i({...t},e)}));function s(e,n,o){e.props??={},e.props.style??={},e.props.style={...e.props.style,...o};const r=i(gr(a.value),e.props);return e.props.onVnodeMounted=({el:e})=>{t[n]=Mo(e,r)},e.props.onVnodeUpdated=({el:e})=>{const o=wo(t[n].state);for(const[t,n]of Object.entries(o))e.style[t]=n},e}return{motionConfig:a,setNodeInstance:s}}const yr=(0,f.pM)({name:"Motion",props:{...mr,is:{type:[String,Object],default:"div"}},setup(e){const t=(0,f.Ht)(),{motionConfig:n,setNodeInstance:o}=vr(e);return()=>{const r=wo(n.value.initial||{}),i=(0,f.h)(e.is,void 0,t);return o(i,0,r),i}}}),br=(0,f.pM)({name:"MotionGroup",props:{...mr,is:{type:[String,Object],required:!1}},setup(e){const t=(0,f.Ht)(),{motionConfig:n,setNodeInstance:o}=vr(e);return()=>{const r=wo(n.value.initial||{}),i=t.default?.()||[];for(let e=0;e<i.length;e++){const t=i[e];t.type===f.FK&&Array.isArray(t.children)?t.children.forEach((function e(t,n){null!=t&&(Array.isArray(t)?e(t,n):"object"===typeof t&&o(t,n,r))})):o(t,e,r)}return e.is?(0,f.h)(e.is,void 0,i):i}}}),Ar={install(e,t){if(e.directive("motion",Io()),!t||t&&!t.excludePresets)for(const n in dr){const t=dr[n];e.directive(`motion-${fr(n)}`,Io(t,!0))}if(t&&t.directives)for(const n in t.directives){const o=t.directives[n];o.initial,0,e.directive(`motion-${n}`,Io(o,!0))}e.provide(pr,t?.directives),e.component("Motion",yr),e.component("MotionGroup",br)}}},1387:function(e,t,n){n.d(t,{LA:function(){return ue},aE:function(){return rt}});n(4114),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var o=n(6768),r=n(144);
/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const i="undefined"!==typeof document;function a(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function s(e){return e.__esModule||"Module"===e[Symbol.toStringTag]||e.default&&a(e.default)}const u=Object.assign;function c(e,t){const n={};for(const o in t){const r=t[o];n[o]=d(r)?r.map(e):e(r)}return n}const l=()=>{},d=Array.isArray;const f=/#/g,p=/&/g,m=/\//g,h=/=/g,g=/\?/g,v=/\+/g,y=/%5B/g,b=/%5D/g,A=/%5E/g,w=/%60/g,_=/%7B/g,C=/%7C/g,E=/%7D/g,S=/%20/g;function P(e){return encodeURI(""+e).replace(C,"|").replace(y,"[").replace(b,"]")}function k(e){return P(e).replace(_,"{").replace(E,"}").replace(A,"^")}function T(e){return P(e).replace(v,"%2B").replace(S,"+").replace(f,"%23").replace(p,"%26").replace(w,"`").replace(_,"{").replace(E,"}").replace(A,"^")}function M(e){return T(e).replace(h,"%3D")}function x(e){return P(e).replace(f,"%23").replace(g,"%3F")}function O(e){return null==e?"":x(e).replace(m,"%2F")}function L(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const R=/\/$/,I=e=>e.replace(R,"");function N(e,t,n="/"){let o,r={},i="",a="";const s=t.indexOf("#");let u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(o=t.slice(0,u),i=t.slice(u+1,s>-1?s:t.length),r=e(i)),s>-1&&(o=o||t.slice(0,s),a=t.slice(s,t.length)),o=q(null!=o?o:t,n),{fullPath:o+(i&&"?")+i+a,path:o,query:r,hash:L(a)}}function B(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function D(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function U(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&F(t.matched[o],n.matched[r])&&W(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function F(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function W(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!V(e[n],t[n]))return!1;return!0}function V(e,t){return d(e)?j(e,t):d(t)?j(t,e):e===t}function j(e,t){return d(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function q(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];".."!==r&&"."!==r||o.push("");let i,a,s=n.length-1;for(i=0;i<o.length;i++)if(a=o[i],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const H={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var G,K;(function(e){e["pop"]="pop",e["push"]="push"})(G||(G={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(K||(K={}));function Z(e){if(!e)if(i){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),I(e)}const z=/^[^#]+#/;function $(e,t){return e.replace(z,"#")+t}function Q(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Y=()=>({left:window.scrollX,top:window.scrollY});function X(e){let t;if("el"in e){const n=e.el,o="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Q(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function J(e,t){const n=history.state?history.state.position-t:-1;return n+e}const ee=new Map;function te(e,t){ee.set(e,t)}function ne(e){const t=ee.get(e);return ee.delete(e),t}let oe=()=>location.protocol+"//"+location.host;function re(e,t){const{pathname:n,search:o,hash:r}=t,i=e.indexOf("#");if(i>-1){let t=r.includes(e.slice(i))?e.slice(i).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),D(n,"")}const a=D(n,e);return a+o+r}function ie(e,t,n,o){let r=[],i=[],a=null;const s=({state:i})=>{const s=re(e,location),u=n.value,c=t.value;let l=0;if(i){if(n.value=s,t.value=i,a&&a===u)return void(a=null);l=c?i.position-c.position:0}else o(s);r.forEach((e=>{e(n.value,u,{delta:l,type:G.pop,direction:l?l>0?K.forward:K.back:K.unknown})}))};function c(){a=n.value}function l(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return i.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(u({},e.state,{scroll:Y()}),"")}function f(){for(const e of i)e();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function ae(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?Y():null}}function se(e){const{history:t,location:n}=window,o={value:re(e,n)},r={value:t.state};function i(o,i,a){const s=e.indexOf("#"),u=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+o:oe()+e+o;try{t[a?"replaceState":"pushState"](i,"",u),r.value=i}catch(c){console.error(c),n[a?"replace":"assign"](u)}}function a(e,n){const a=u({},t.state,ae(r.value.back,e,r.value.forward,!0),n,{position:r.value.position});i(e,a,!0),o.value=e}function s(e,n){const a=u({},r.value,t.state,{forward:e,scroll:Y()});i(a.current,a,!0);const s=u({},ae(o.value,e,null),{position:a.position+1},n);i(e,s,!1),o.value=e}return r.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:r,push:s,replace:a}}function ue(e){e=Z(e);const t=se(e),n=ie(e,t.state,t.location,t.replace);function o(e,t=!0){t||n.pauseListeners(),history.go(e)}const r=u({location:"",base:e,go:o,createHref:$.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function ce(e){return"string"===typeof e||e&&"object"===typeof e}function le(e){return"string"===typeof e||"symbol"===typeof e}const de=Symbol("");var fe;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(fe||(fe={}));function pe(e,t){return u(new Error,{type:e,[de]:!0},t)}function me(e,t){return e instanceof Error&&de in e&&(null==t||!!(e.type&t))}const he="[^/]+?",ge={sensitive:!1,strict:!1,start:!0,end:!0},ve=/[.+*?^${}()[\]/\\]/g;function ye(e,t){const n=u({},ge,t),o=[];let r=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let t=0;t<u.length;t++){const o=u[t];let a=40+(n.sensitive?.25:0);if(0===o.type)t||(r+="/"),r+=o.value.replace(ve,"\\$&"),a+=40;else if(1===o.type){const{value:e,repeatable:n,optional:s,regexp:c}=o;i.push({name:e,repeatable:n,optional:s});const d=c||he;if(d!==he){a+=10;try{new RegExp(`(${d})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+l.message)}}let f=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(f=s&&u.length<2?`(?:/${f})`:"/"+f),s&&(f+="?"),r+=f,a+=20,s&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}o.push(e)}if(n.strict&&n.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function s(e){const t=e.match(a),n={};if(!t)return null;for(let o=1;o<t.length;o++){const e=t[o]||"",r=i[o-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n}function c(t){let n="",o=!1;for(const r of e){o&&n.endsWith("/")||(n+="/"),o=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,u=i in t?t[i]:"";if(d(u)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=d(u)?u.join("/"):u;if(!c){if(!s)throw new Error(`Missing required param "${i}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):o=!0)}n+=c}}return n||"/"}return{re:a,score:o,keys:i,parse:s,stringify:c}}function be(e,t){let n=0;while(n<e.length&&n<t.length){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Ae(e,t){let n=0;const o=e.score,r=t.score;while(n<o.length&&n<r.length){const e=be(o[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-o.length)){if(we(o))return 1;if(we(r))return-1}return r.length-o.length}function we(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _e={type:0,value:""},Ce=/[a-zA-Z0-9_]/;function Ee(e){if(!e)return[[]];if("/"===e)return[[_e]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,o=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let s,u=0,c="",l="";function d(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function f(){c+=s}while(u<e.length)if(s=e[u++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),n=1):f();break;case 4:f(),n=o;break;case 1:"("===s?n=2:Ce.test(s)?f():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:n=3:l+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,l="";break;default:t("Unknown state");break}else o=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),r}function Se(e,t,n){const o=ye(Ee(e.path),n);const r=u(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf===!t.record.aliasOf&&t.children.push(r),r}function Pe(e,t){const n=[],o=new Map;function r(e){return o.get(e)}function i(e,n,o){const r=!o,s=Te(e);s.aliasOf=o&&o.record;const d=Le(t,e),f=[s];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(Te(u({},s,{components:o?o.record.components:s.components,path:e,aliasOf:o?o.record:s})))}let p,m;for(const t of f){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,o="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&o+u)}if(p=Se(t,n,d),o?o.alias.push(p):(m=m||p,m!==p&&m.alias.push(p),r&&e.name&&!xe(p)&&a(e.name)),Ne(p)&&c(p),s.children){const e=s.children;for(let t=0;t<e.length;t++)i(e[t],p,o&&o.children[t])}o=o||p}return m?()=>{a(m)}:l}function a(e){if(le(e)){const t=o.get(e);t&&(o.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function s(){return n}function c(e){const t=Re(e,n);n.splice(t,0,e),e.record.name&&!xe(e)&&o.set(e.record.name,e)}function d(e,t){let r,i,a,s={};if("name"in e&&e.name){if(r=o.get(e.name),!r)throw pe(1,{location:e});0,a=r.record.name,s=u(ke(t.params,r.keys.filter((e=>!e.optional)).concat(r.parent?r.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&ke(e.params,r.keys.map((e=>e.name)))),i=r.stringify(s)}else if(null!=e.path)i=e.path,r=n.find((e=>e.re.test(i))),r&&(s=r.parse(i),a=r.record.name);else{if(r=t.name?o.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw pe(1,{location:e,currentLocation:t});a=r.record.name,s=u({},t.params,e.params),i=r.stringify(s)}const c=[];let l=r;while(l)c.unshift(l.record),l=l.parent;return{name:a,path:i,params:s,matched:c,meta:Oe(c)}}function f(){n.length=0,o.clear()}return t=Le({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:d,removeRoute:a,clearRoutes:f,getRoutes:s,getRecordMatcher:r}}function ke(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Te(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Me(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Me(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]="object"===typeof n?n[o]:n;return t}function xe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Oe(e){return e.reduce(((e,t)=>u(e,t.meta)),{})}function Le(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Re(e,t){let n=0,o=t.length;while(n!==o){const r=n+o>>1,i=Ae(e,t[r]);i<0?o=r:n=r+1}const r=Ie(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Ie(e){let t=e;while(t=t.parent)if(Ne(t)&&0===Ae(e,t))return t}function Ne({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Be(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],o=(n?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const e=o[r].replace(v," "),n=e.indexOf("="),i=L(n<0?e:e.slice(0,n)),a=n<0?null:L(e.slice(n+1));if(i in t){let e=t[i];d(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function De(e){let t="";for(let n in e){const o=e[n];if(n=M(n),null==o){void 0!==o&&(t+=(t.length?"&":"")+n);continue}const r=d(o)?o.map((e=>e&&T(e))):[o&&T(o)];r.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ue(e){const t={};for(const n in e){const o=e[n];void 0!==o&&(t[n]=d(o)?o.map((e=>null==e?null:""+e)):null==o?o:""+o)}return t}const Fe=Symbol(""),We=Symbol(""),Ve=Symbol(""),je=Symbol(""),qe=Symbol("");function He(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ge(e,t,n,o,r,i=(e=>e())){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise(((s,u)=>{const c=e=>{!1===e?u(pe(4,{from:n,to:t})):e instanceof Error?u(e):ce(e)?u(pe(2,{from:t,to:e})):(a&&o.enterCallbacks[r]===a&&"function"===typeof e&&a.push(e),s())},l=i((()=>e.call(o&&o.instances[r],t,n,c)));let d=Promise.resolve(l);e.length<3&&(d=d.then(c)),d.catch((e=>u(e)))}))}function Ke(e,t,n,o,r=(e=>e())){const i=[];for(const u of e){0;for(const e in u.components){let c=u.components[e];if("beforeRouteEnter"===t||u.instances[e])if(a(c)){const a=c.__vccOpts||c,s=a[t];s&&i.push(Ge(s,n,o,u,e,r))}else{let a=c();0,i.push((()=>a.then((i=>{if(!i)throw new Error(`Couldn't resolve component "${e}" at "${u.path}"`);const a=s(i)?i.default:i;u.mods[e]=i,u.components[e]=a;const c=a.__vccOpts||a,l=c[t];return l&&Ge(l,n,o,u,e,r)()}))))}}}return i}function Ze(e){const t=(0,o.WQ)(Ve),n=(0,o.WQ)(je);const i=(0,o.EW)((()=>{const n=(0,r.R1)(e.to);return t.resolve(n)})),a=(0,o.EW)((()=>{const{matched:e}=i.value,{length:t}=e,o=e[t-1],r=n.matched;if(!o||!r.length)return-1;const a=r.findIndex(F.bind(null,o));if(a>-1)return a;const s=Je(e[t-2]);return t>1&&Je(o)===s&&r[r.length-1].path!==s?r.findIndex(F.bind(null,e[t-2])):a})),s=(0,o.EW)((()=>a.value>-1&&Xe(n.params,i.value.params))),u=(0,o.EW)((()=>a.value>-1&&a.value===n.matched.length-1&&W(n.params,i.value.params)));function c(n={}){if(Ye(n)){const n=t[(0,r.R1)(e.replace)?"replace":"push"]((0,r.R1)(e.to)).catch(l);return e.viewTransition&&"undefined"!==typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>n)),n}return Promise.resolve()}return{route:i,href:(0,o.EW)((()=>i.value.href)),isActive:s,isExactActive:u,navigate:c}}function ze(e){return 1===e.length?e[0]:e}const $e=(0,o.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ze,setup(e,{slots:t}){const n=(0,r.Kh)(Ze(e)),{options:i}=(0,o.WQ)(Ve),a=(0,o.EW)((()=>({[et(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[et(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&ze(t.default(n));return e.custom?r:(0,o.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}}),Qe=$e;function Ye(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xe(e,t){for(const n in t){const o=t[n],r=e[n];if("string"===typeof o){if(o!==r)return!1}else if(!d(r)||r.length!==o.length||o.some(((e,t)=>e!==r[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const et=(e,t,n)=>null!=e?e:null!=t?t:n,tt=(0,o.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=(0,o.WQ)(qe),a=(0,o.EW)((()=>e.route||i.value)),s=(0,o.WQ)(We,0),c=(0,o.EW)((()=>{let e=(0,r.R1)(s);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e})),l=(0,o.EW)((()=>a.value.matched[c.value]));(0,o.Gt)(We,(0,o.EW)((()=>c.value+1))),(0,o.Gt)(Fe,l),(0,o.Gt)(qe,a);const d=(0,r.KR)();return(0,o.wB)((()=>[d.value,l.value,e.name]),(([e,t,n],[o,r,i])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&F(t,r)&&o||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=a.value,i=e.name,s=l.value,c=s&&s.components[i];if(!c)return nt(n.default,{Component:c,route:r});const f=s.props[i],p=f?!0===f?r.params:"function"===typeof f?f(r):f:null,m=e=>{e.component.isUnmounted&&(s.instances[i]=null)},h=(0,o.h)(c,u({},p,t,{onVnodeUnmounted:m,ref:d}));return nt(n.default,{Component:h,route:r})||h}}});function nt(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ot=tt;function rt(e){const t=Pe(e.routes,e),n=e.parseQuery||Be,a=e.stringifyQuery||De,s=e.history;const f=He(),p=He(),m=He(),h=(0,r.IJ)(H);let g=H;i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=c.bind(null,(e=>""+e)),y=c.bind(null,O),b=c.bind(null,L);function A(e,n){let o,r;return le(e)?(o=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,o)}function w(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function _(){return t.getRoutes().map((e=>e.record))}function C(e){return!!t.getRecordMatcher(e)}function E(e,o){if(o=u({},o||h.value),"string"===typeof e){const r=N(n,e,o.path),i=t.resolve({path:r.path},o),a=s.createHref(r.fullPath);return u(r,i,{params:b(i.params),hash:L(r.hash),redirectedFrom:void 0,href:a})}let r;if(null!=e.path)r=u({},e,{path:N(n,e.path,o.path).path});else{const t=u({},e.params);for(const e in t)null==t[e]&&delete t[e];r=u({},e,{params:y(t)}),o.params=y(o.params)}const i=t.resolve(r,o),c=e.hash||"";i.params=v(b(i.params));const l=B(a,u({},e,{hash:k(c),path:i.path})),d=s.createHref(l);return u({fullPath:l,hash:c,query:a===De?Ue(e.query):e.query||{}},i,{redirectedFrom:void 0,href:d})}function S(e){return"string"===typeof e?N(n,e,h.value.path):u({},e)}function P(e,t){if(g!==e)return pe(8,{from:t,to:e})}function T(e){return R(e)}function M(e){return T(u(S(e),{replace:!0}))}function x(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let o="function"===typeof n?n(e):n;return"string"===typeof o&&(o=o.includes("?")||o.includes("#")?o=S(o):{path:o},o.params={}),u({query:e.query,hash:e.hash,params:null!=o.path?{}:e.params},o)}}function R(e,t){const n=g=E(e),o=h.value,r=e.state,i=e.force,s=!0===e.replace,c=x(n);if(c)return R(u(S(c),{state:"object"===typeof c?u({},r,c.state):r,force:i,replace:s}),t||n);const l=n;let d;return l.redirectedFrom=t,!i&&U(a,o,n)&&(d=pe(16,{to:l,from:o}),oe(o,o,!0,!1)),(d?Promise.resolve(d):F(l,o)).catch((e=>me(e)?me(e,2)?e:ee(e):$(e,l,o))).then((e=>{if(e){if(me(e,2))return R(u({replace:s},S(e.to),{state:"object"===typeof e.to?u({},r,e.to.state):r,force:i}),t||l)}else e=V(l,o,!0,s,r);return W(l,o,e),e}))}function I(e,t){const n=P(e,t);return n?Promise.reject(n):Promise.resolve()}function D(e){const t=ae.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function F(e,t){let n;const[o,r,i]=it(e,t);n=Ke(o.reverse(),"beforeRouteLeave",e,t);for(const s of o)s.leaveGuards.forEach((o=>{n.push(Ge(o,e,t))}));const a=I.bind(null,e,t);return n.push(a),ue(n).then((()=>{n=[];for(const o of f.list())n.push(Ge(o,e,t));return n.push(a),ue(n)})).then((()=>{n=Ke(r,"beforeRouteUpdate",e,t);for(const o of r)o.updateGuards.forEach((o=>{n.push(Ge(o,e,t))}));return n.push(a),ue(n)})).then((()=>{n=[];for(const o of i)if(o.beforeEnter)if(d(o.beforeEnter))for(const r of o.beforeEnter)n.push(Ge(r,e,t));else n.push(Ge(o.beforeEnter,e,t));return n.push(a),ue(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Ke(i,"beforeRouteEnter",e,t,D),n.push(a),ue(n)))).then((()=>{n=[];for(const o of p.list())n.push(Ge(o,e,t));return n.push(a),ue(n)})).catch((e=>me(e,8)?e:Promise.reject(e)))}function W(e,t,n){m.list().forEach((o=>D((()=>o(e,t,n)))))}function V(e,t,n,o,r){const a=P(e,t);if(a)return a;const c=t===H,l=i?history.state:{};n&&(o||c?s.replace(e.fullPath,u({scroll:c&&l&&l.scroll},r)):s.push(e.fullPath,r)),h.value=e,oe(e,t,n,c),ee()}let j;function q(){j||(j=s.listen(((e,t,n)=>{if(!se.listening)return;const o=E(e),r=x(o);if(r)return void R(u(r,{replace:!0,force:!0}),o).catch(l);g=o;const a=h.value;i&&te(J(a.fullPath,n.delta),Y()),F(o,a).catch((e=>me(e,12)?e:me(e,2)?(R(u(S(e.to),{force:!0}),o).then((e=>{me(e,20)&&!n.delta&&n.type===G.pop&&s.go(-1,!1)})).catch(l),Promise.reject()):(n.delta&&s.go(-n.delta,!1),$(e,o,a)))).then((e=>{e=e||V(o,a,!1),e&&(n.delta&&!me(e,8)?s.go(-n.delta,!1):n.type===G.pop&&me(e,20)&&s.go(-1,!1)),W(o,a,e)})).catch(l)})))}let K,Z=He(),z=He();function $(e,t,n){ee(e);const o=z.list();return o.length?o.forEach((o=>o(e,t,n))):console.error(e),Promise.reject(e)}function Q(){return K&&h.value!==H?Promise.resolve():new Promise(((e,t)=>{Z.add([e,t])}))}function ee(e){return K||(K=!e,q(),Z.list().forEach((([t,n])=>e?n(e):t())),Z.reset()),e}function oe(t,n,r,a){const{scrollBehavior:s}=e;if(!i||!s)return Promise.resolve();const u=!r&&ne(J(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return(0,o.dY)().then((()=>s(t,n,u))).then((e=>e&&X(e))).catch((e=>$(e,t,n)))}const re=e=>s.go(e);let ie;const ae=new Set,se={currentRoute:h,listening:!0,addRoute:A,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:_,resolve:E,options:e,push:T,replace:M,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:f.add,beforeResolve:p.add,afterEach:m.add,onError:z.add,isReady:Q,install(e){const t=this;e.component("RouterLink",Qe),e.component("RouterView",ot),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.R1)(h)}),i&&!ie&&h.value===H&&(ie=!0,T(s.location).catch((e=>{0})));const n={};for(const r in H)Object.defineProperty(n,r,{get:()=>h.value[r],enumerable:!0});e.provide(Ve,t),e.provide(je,(0,r.Gc)(n)),e.provide(qe,h);const o=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(g=H,j&&j(),j=null,h.value=H,ie=!1,K=!1),o()}}};function ue(e){return e.reduce(((e,t)=>e.then((()=>D(t)))),Promise.resolve())}return se}function it(e,t){const n=[],o=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>F(e,i)))?o.push(i):n.push(i));const s=e.matched[a];s&&(t.matched.find((e=>F(e,s)))||r.push(s))}return[n,o,r]}}}]);
//# sourceMappingURL=chunk-vendors.f3d38fbd.js.map